//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>
#include <windows.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5);
int32_t function_401000(void);
void function_401020(int32_t a1);
int32_t function_401040(char a1, int32_t a2);
void function_401060(void);
void function_401070(void);
void function_401080(void);
void function_401090(void);
int32_t function_4010a0(int32_t a1);
int32_t function_4010b0(int32_t a1);
void function_401120(void);
void function_401130(void);
void function_401140(void);
int32_t function_401150(char * a1);
int32_t function_4011c0(char a1, int32_t a2);
void function_4011e0(void);
int32_t function_4011f0(void);
int32_t function_401200(void);
int32_t function_401210(int32_t a1);
int32_t function_401250(int32_t a1);
int32_t function_401560(int32_t a1);
int32_t function_401570(int32_t a1, int32_t a2, int32_t a3);
void function_401590(int32_t a1);
int32_t function_4015a0(char a1, int32_t a2);
int32_t function_4015c0(void);
int32_t function_401610(int32_t a1);
int32_t function_401660(int32_t a1);
int32_t function_4016b0(char a1, int32_t a2);
int32_t function_4016d0(void);
int32_t function_401720(int32_t a1);
int32_t function_401730(int32_t a1);
int32_t function_401740(void);
int32_t function_401970(int32_t (**a1)(), int32_t a2);
void function_4019a0(int32_t a1);
void function_4019c0(void);
int32_t function_401bb0(void);
int32_t function_401bd0(void);
int32_t function_401be0(void);
int32_t function_401bf0(void);
void function_401bfc(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t function_401c14(char a1, int32_t a2);
int32_t function_401c3d(int32_t * a1, int32_t * a2);
int32_t function_401c90(int32_t * a1);
int32_t function_401cb0(int32_t * a1);
int32_t function_401d00(int32_t * a1);
int32_t function_401d20(int32_t * a1);
int32_t function_401d40(int32_t * a1);
int32_t function_401d60(int32_t * a1);
int32_t unknown_404450(void);

// --------------------- Global Variables ---------------------

int32_t g1 = 0; // eax
int32_t g2 = 0; // ebp
int32_t g3 = 0; // ecx
int32_t g4 = 0; // esi
int32_t g5 = 0x401812; // 0x402038
int32_t g6 = 0x4011f0; // 0x4020e0
int32_t g7 = 0x401908; // 0x402210
int32_t g8 = 0; // 0x403048
void (****g9)() = NULL; // 0x40312c
void (****g10)() = NULL; // 0x403130
int32_t g11 = -0x7fffef76; // 0x4043a8
int32_t g12 = -0x7fffef4e; // 0x404400

// ------------------------ Functions -------------------------

// Address range: 0x401000 - 0x40101f
int32_t function_401000(void) {
    // 0x401000
    return g12;
}

// Address range: 0x401020 - 0x40103f
void function_401020(int32_t a1) {
    // 0x401020
    _qm__qm_0CWinApp__QAE_PBD_Z(0, g4);
    *(int32_t *)g3 = (int32_t)&g5;
}

// Address range: 0x401040 - 0x40105f
int32_t function_401040(char a1, int32_t a2) {
    // 0x401040
    function_401060();
    if (a1 != 1) {
        // 0x40104f
        _qm__qm_3_YAXPAX_Z(g3);
        // branch -> 0x401058
    }
    // 0x401058
    return g3;
}

// Address range: 0x401060 - 0x40106f
void function_401060(void) {
    // 0x401060
    _qm__qm_1CWinApp__UAE_XZ();
}

// Address range: 0x401070 - 0x40107f
void function_401070(void) {
    // 0x401070
    function_401080();
    function_401090();
}

// Address range: 0x401080 - 0x40108f
void function_401080(void) {
    // 0x401080
    g3 = &g8;
    int32_t v1;
    function_401020(v1);
}

// Address range: 0x401090 - 0x40109f
void function_401090(void) {
    // 0x401090
    function_4019a0((int32_t)function_4010a0);
}

// Address range: 0x4010a0 - 0x4010af
int32_t function_4010a0(int32_t a1) {
    // 0x4010a0
    function_401060();
    return &g8;
}

// Address range: 0x4010b0 - 0x40111f
int32_t function_4010b0(int32_t a1) {
    // 0x4010b0
    abort();
    // UNREACHABLE
}

// Address range: 0x401120 - 0x40112f
void function_401120(void) {
    // 0x401120
    _qm__qm_1CDialog__UAE_XZ();
}

// Address range: 0x401130 - 0x40113f
void function_401130(void) {
    // 0x401130
    return;
}

// Address range: 0x401140 - 0x40114f
void function_401140(void) {
    // 0x401140
    return;
}

// Address range: 0x401150 - 0x4011bf
int32_t function_401150(char * a1) {
    // 0x401150
    abort();
    // UNREACHABLE
}

// Address range: 0x4011c0 - 0x4011df
int32_t function_4011c0(char a1, int32_t a2) {
    // 0x4011c0
    function_401120();
    if (a1 != 1) {
        // 0x4011cf
        _qm__qm_3_YAXPAX_Z(g3);
        // branch -> 0x4011d8
    }
    // 0x4011d8
    return g3;
}

// Address range: 0x4011e0 - 0x4011ef
void function_4011e0(void) {
    // 0x4011e0
    return;
}

// Address range: 0x4011f0 - 0x4011ff
int32_t function_4011f0(void) {
    // 0x4011f0
    return g11;
}

// Address range: 0x401200 - 0x40120f
int32_t function_401200(void) {
    // 0x401200
    return &g6;
}

// Address range: 0x401210 - 0x40124f
int32_t function_401210(int32_t a1) {
    // 0x401210
    _qm_OnInitDialog_CDialog__UAEHXZ(0, g4);
    SendMessageA((char *)*(int32_t *)(g3 + 32), 128, 1, *(int32_t *)(g3 + 96));
    SendMessageA((char *)*(int32_t *)(g3 + 32), 128, 0, *(int32_t *)(g3 + 96));
    return 1;
}

// Address range: 0x401250 - 0x40155f
int32_t function_401250(int32_t a1) {
    // 0x401250
    abort();
    // UNREACHABLE
}

// Address range: 0x401560 - 0x40156f
int32_t function_401560(int32_t a1) {
    // 0x401560
    return *(int32_t *)(g3 + 96);
}

// Address range: 0x401570 - 0x40158f
int32_t function_401570(int32_t a1, int32_t a2, int32_t a3) {
    // 0x401570
    *(int32_t *)g3 = (int32_t)&g7;
    if ((g1 & -256 || a1 & 255) != 1) {
        // 0x401581
        _qm__qm_3_YAXPAX_Z(g3);
        // branch -> 0x40158a
    }
    // 0x40158a
    return g3;
}

// Address range: 0x401590 - 0x40159f
void function_401590(int32_t a1) {
    // 0x401590
    *(int32_t *)g3 = (int32_t)&g7;
}

// Address range: 0x4015a0 - 0x4015bf
int32_t function_4015a0(char a1, int32_t a2) {
    // 0x4015a0
    function_4015c0();
    if (a1 != 1) {
        // 0x4015af
        _qm__qm_3_YAXPAX_Z(g3);
        // branch -> 0x4015b8
    }
    // 0x4015b8
    return g3;
}

// Address range: 0x4015c0 - 0x40160f
int32_t function_4015c0(void) {
    // 0x4015c0
    abort();
    // UNREACHABLE
}

// Address range: 0x401610 - 0x40165f
int32_t function_401610(int32_t a1) {
    // 0x401610
    abort();
    // UNREACHABLE
}

// Address range: 0x401660 - 0x4016af
int32_t function_401660(int32_t a1) {
    // 0x401660
    abort();
    // UNREACHABLE
}

// Address range: 0x4016b0 - 0x4016cf
int32_t function_4016b0(char a1, int32_t a2) {
    // 0x4016b0
    function_4016d0();
    if (a1 != 1) {
        // 0x4016bf
        _qm__qm_3_YAXPAX_Z(g3);
        // branch -> 0x4016c8
    }
    // 0x4016c8
    return g3;
}

// Address range: 0x4016d0 - 0x40171f
int32_t function_4016d0(void) {
    // 0x4016d0
    abort();
    // UNREACHABLE
}

// Address range: 0x401720 - 0x40172f
int32_t function_401720(int32_t a1) {
    // 0x401720
    return EnableWindow((char *)*(int32_t *)(g3 + 32), false);
}

// Address range: 0x401730 - 0x40173f
int32_t function_401730(int32_t a1) {
    // 0x401730
    return EnableWindow((char *)*(int32_t *)(g3 + 32), true);
}

// Address range: 0x401740 - 0x40196f
int32_t function_401740(void) {
    // 0x401740
    _qm_OnHelp_CWinApp__IAEXXZ();
    return g1;
}

// Address range: 0x401970 - 0x40199f
int32_t function_401970(int32_t (**a1)(), int32_t a2) {
    // 0x401970
    if (g10 == (void (****)())-1) {
        // 0x401979
        return (int32_t)_onexit(a1);
    }
    int32_t (**v1)() = __dllonexit(a1, (void (****)())&g10, (void (****)())&g9); // 0x401997
    return (int32_t)v1;
}

// Address range: 0x4019a0 - 0x4019bf
void function_4019a0(int32_t a1) {
    // 0x4019a0
    int32_t v1;
    function_401970((int32_t (**)())a1, v1);
}

// Address range: 0x4019c0 - 0x4019df
void function_4019c0(void) {
    // 0x4019c0
    unknown_404450();
}

// Address range: 0x4019e0 - 0x401baf
int32_t entry_point(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5) {
    // 0x4019e0
    abort();
    // UNREACHABLE
}

// Address range: 0x401bb0 - 0x401bcf
int32_t function_401bb0(void) {
    // 0x401bb0
    return _controlfp(0x10000, 0x30000);
}

// Address range: 0x401bd0 - 0x401bdf
int32_t function_401bd0(void) {
    // 0x401bd0
    return 0;
}

// Address range: 0x401be0 - 0x401bef
int32_t function_401be0(void) {
    // 0x401be0
    return g1;
}

// Address range: 0x401bf0 - 0x401bfb
int32_t function_401bf0(void) {
    // 0x401bf0
    return _except_handler3(NULL, 0, NULL, 0);
}

// Address range: 0x401bfc - 0x401c13
void function_401bfc(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    // 0x401bfc
    _qm_AfxWinMain__YGHPAUHINSTANCE____0PADH_Z(a1, a2, a3, a4);
}

// Address range: 0x401c14 - 0x401c3c
int32_t function_401c14(char a1, int32_t a2) {
    // 0x401c14
    _qm_AfxGetModuleState__YGPAVAFX_MODULE_STATE__XZ((int32_t)a1);
    *(char *)(g1 + 20) = a1;
    *(int32_t *)(g1 + 0x1040) = a2;
    if (a1 == 0) {
        // 0x401c2e
        _setmbcp(-3);
        // branch -> 0x401c37
    }
    // 0x401c37
    return 1;
}

// Address range: 0x401c3d - 0x401c8f
int32_t function_401c3d(int32_t * a1, int32_t * a2) {
    // 0x401c3d
    function_401c14(0, 1057);
    return g3;
}

// Address range: 0x401c90 - 0x401caf
int32_t function_401c90(int32_t * a1) {
    // 0x401c90
    _qm__qm_1CDialog__UAE_XZ();
    return g1;
}

// Address range: 0x401cb0 - 0x401cff
int32_t function_401cb0(int32_t * a1) {
    // 0x401cb0
    _qm__qm_1CPaintDC__UAE_XZ((int32_t)a1);
    return g1;
}

// Address range: 0x401d00 - 0x401d1f
int32_t function_401d00(int32_t * a1) {
    // 0x401d00
    g3 = *(int32_t *)(g2 - 16);
    function_401590(0);
    return g1;
}

// Address range: 0x401d20 - 0x401d3f
int32_t function_401d20(int32_t * a1) {
    // 0x401d20
    g3 = *(int32_t *)(g2 - 16);
    function_401590(0);
    return g1;
}

// Address range: 0x401d40 - 0x401d5f
int32_t function_401d40(int32_t * a1) {
    // 0x401d40
    g3 = *(int32_t *)(g2 - 16);
    function_401590(0);
    return g1;
}

// Address range: 0x401d60 - 0x401d71
int32_t function_401d60(int32_t * a1) {
    // 0x401d60
    g3 = *(int32_t *)(g2 - 16);
    function_401590(0);
    return g1;
}

// --------------- Dynamically Linked Functions ---------------

// _onexit_t __dllonexit(_onexit_t func, _PVFV ** pbegin, _PVFV ** pend);
// unsigned int __cdecl _controlfp(_In_ unsigned int NewValue, _In_ unsigned int Mask);
// int _except_handler3(PEXCEPTION_RECORD exception_record, PEXCEPTION_REGISTRATION registration, PCONTEXT context, PEXCEPTION_REGISTRATION dispatcher);
// _onexit_t _onexit(_onexit_t Function);
// void _qm__qm_0CWinApp__QAE_PBD_Z(int32_t a1, int32_t a2);
// void _qm__qm_1CDialog__UAE_XZ(void);
// void _qm__qm_1CPaintDC__UAE_XZ(int32_t a1);
// void _qm__qm_1CWinApp__UAE_XZ(void);
// void _qm__qm_3_YAXPAX_Z(int32_t a1);
// void _qm_AfxGetModuleState__YGPAVAFX_MODULE_STATE__XZ(int32_t a1);
// void _qm_AfxWinMain__YGHPAUHINSTANCE____0PADH_Z(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
// void _qm_OnHelp_CWinApp__IAEXXZ(void);
// void _qm_OnInitDialog_CDialog__UAEHXZ(int32_t a1, int32_t a2);
// int __cdecl _setmbcp(_In_ int CodePage);
// BOOL EnableWindow(_In_ HWND hWnd, _In_ BOOL bEnable);
// LRESULT SendMessageA(_In_ HWND hWnd, _In_ UINT Msg, WPARAM wParam, LPARAM lParam);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: installshield (2000)
// Detected functions: 48
// Decompiler release: VERSION
// Decompilation date: DATE
