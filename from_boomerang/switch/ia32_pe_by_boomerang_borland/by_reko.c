// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401059: void _GetExceptDLLinfo(Stack word32 dwArg04)
void _GetExceptDLLinfo(word32 dwArg04)
{
	globals->dw40A5CC = fn00401140() + 0x1C;
	dwArg04->dw0000 = 0x82727349;
	dwArg04->ptr0004 = 0x0040A5B8;
	return;
}

// 00401140: Register word32 fn00401140()
word32 fn00401140()
{
	return fs->ptr002C[globals->dw40A10F];
}

// 00401150: Register int32 main(Stack Eq_29 argc, Stack (ptr (ptr char)) argv)
int32 main(Eq_29 argc, char * * argv)
{
main_entry:
	branch argc > 0x07 l004011D0
	goto l0040115B
l00401150:
l0040115B:
	switch (argc) { l004011D0 l004011D0 l00401182 l0040118F l0040119C l004011A9 l004011B6 l004011C3 }
l00401182:
	fn004038E4(0x0040A128)
	goto l004011DB
l0040118F:
	fn004038E4(4235566)
	goto l004011DB
l0040119C:
	fn004038E4(4235574)
	goto l004011DB
l004011A9:
	fn004038E4(0x0040A13D)
	goto l004011DB
l004011B6:
	fn004038E4(0x0040A144)
	goto l004011DB
l004011C3:
	fn004038E4(0x0040A14A)
	goto l004011DB
l004011D0:
	fn004038E4(0x0040A152)
l004011DB:
	return 0x00
main_exit:
}

// 00402250: Register word32 fn00402250(Stack (ptr Eq_58) dwArg04)
word32 fn00402250(Eq_58 * dwArg04)
{
	struct Eq_59 * eax_14 = dwArg04;
	if (((byte) dwArg04 & 0x03) != 0x00)
	{
		eax_14 = dwArg04 + 0x01;
		if ((dwArg04->dw0000 & ~0x00) == 0x00)
			goto l0040229F;
		if ((dwArg04->b0001 & ~0x00) == 0x00)
		{
l004022A0:
			eax_14 = eax_14 - 0x01;
			goto l004022A1;
		}
		if ((dwArg04->b0002 & ~0x00) == 0x00)
		{
l004022A1:
			eax_14 = eax_14 - 0x01;
			return eax_14 - 0x01 - dwArg04;
		}
		eax_14 = DPB(&dwArg04->b0002 + 0x01, (byte) (&dwArg04->b0002 + 0x01) & 252, 0);
	}
	do
	{
		do
		{
			ui32 edx_52 = eax_14->dw0000;
			eax_14 = eax_14 + 0x01;
			ui32 edx_57 = edx_52 - 0x01010101 & 0x80808080;
		} while (edx_57 == 0x00);
		ui32 edx_64 = edx_57 & ~edx_52;
		byte dl_65 = (byte) edx_64;
		byte dh_66 = SLICE(edx_64, byte, 8);
	} while (edx_64 == 0x00);
	if (dl_65 == 0x00)
	{
		if (dh_66 == 0x00)
		{
			if ((edx_64 & 0x00FF0000) == 0x00)
				return eax_14 - 0x01 - dwArg04;
			goto l004022A1;
		}
		goto l004022A0;
	}
l0040229F:
	eax_14 = eax_14 - 0x01;
	goto l004022A0;
}

// 004038E4: void fn004038E4(Stack word32 dwArg04)
void fn004038E4(word32 dwArg04)
{
	fn00403AD0(fp - 0x04, 0x004033C4, 0x0040A6D0, dwArg04, 0x00);
	return;
}

// 00403A20: Register word32 fn00403A20(Stack (ptr Eq_58) dwArg04)
word32 fn00403A20(Eq_58 * dwArg04)
{
	word32 eax_11 = 0x01;
	if (dwArg04->dw0050 != 0x00)
	{
		uint32 * edx_41 = dwArg04->ptr0064;
		word32 esp_56;
		word32 ebp_57;
		struct Eq_168 * ebx_58;
		word32 eax_59;
		byte SCZO_60;
		byte Z_61;
		word32 edx_62;
		byte SZO_63;
		byte C_64;
		word32 ecx_65;
		byte CZ_66;
		dwArg04->ptr0054();
		if (eax_59 == 0x00)
			ebx_58->dw0060 = 0x01;
		ebx_58->dw0050 = 0x00;
		eax_11 = 0x00;
	}
	return eax_11;
}

// 00403A68: void fn00403A68(Stack word32 dwArg08)
void fn00403A68(word32 dwArg08)
{
	if (dwArg08->dw0050 >= 0x50)
		fn00403A20(dwArg08);
	uint32 * eax_19 = dwArg08->ptr0064;
	if (eax_19 == null || *eax_19 > dwArg08->dw005C)
	{
		dwArg08[dwArg08->dw0050 / 0x0068] = (struct Eq_58) (&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&fp->t0004->a0000[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00];
		dwArg08->dw0050 = dwArg08->dw0050 + 0x01;
	}
	dwArg08->dw005C = dwArg08->dw005C + 0x01;
	return;
}

// 00403A9C: void fn00403A9C(Stack (ptr Eq_58) dwArg04, Stack word32 dwArg08)
void fn00403A9C(Eq_58 * dwArg04, word32 dwArg08)
{
	int32 ecx_18 = 0x07;
	uint32 esi_13 = dwArg04;
	byte * eax_14 = dwArg08 + 0x07;
	do
	{
		int32 edx_24 = esi_13 & 0x0F;
		byte dl_25 = (byte) edx_24;
		if (edx_24 < 0x0A)
			*eax_14 = dl_25 + 0x30;
		else
			*eax_14 = dl_25 + 55;
		esi_13 = esi_13 >> 0x04;
		ecx_18 = ecx_18 - 0x01;
		eax_14 = eax_14 - 0x01;
	} while (ecx_18 >= 0x00);
	return;
}

// 00403AD0: void fn00403AD0(Register ptr32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void fn00403AD0(ptr32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
fn00403AD0_entry:
	struct Eq_281 * ebp_378 = fp - 0x04
	struct Eq_285 * esi_121 = dwArg0C
	goto l00403B18
l00403AD0:
l00403B18:
	ci8 bl_119 = esi_121->b0000
	ebx = DPB(ebx, bl_119, 0)
	esi_121 = esi_121 + 0x01
	branch bl_119 == 0x00 l004043E4
l00403B23:
	branch bl_119 != 0x25 l00403B30
l00403B28:
	bl_119 = esi_121->b0000
	ebx = DPB(ebx, bl_119, 0)
	branch bl_119 != 0x25 l00403B67
l00403B2F:
	esi_121 = esi_121 + 0x01
l00403B30:
	branch (((word32) bl_119)->b40CA55 & 0x04) == 0x00 || esi_121->b0000 == 0x00 l00403B55
	goto l00403B42
l00403B3D:
l00403B42:
	fp->tFFFFFACC = ebp_378 - 0x0520
	fp->ptrFFFFFAC8 = ebx
	fn00403A68(dwArg04)
	ebx = DPB(ebx, esi_121->b0000, 0)
	esi_121 = esi_121 + 0x01
l00403B55:
	fp->tFFFFFACC = ebp_378 - 0x0520
	fp->ptrFFFFFAC8 = ebx
	fn00403A68(dwArg04)
	goto l00403B18
l00403B67:
	*(ebp_378 - 0x14) = esi_121 - 0x01
	*(ebp_378 - 0x10) = 0x00
	*(ebp_378 - 0x09) = 0x00
	*(ebp_378 - 0x08) = ~0x00
	*(ebp_378 - 0x04) = ~0x00
	*(ebp_378 - 0x1C) = 0x00
	int32 eax_1210 = 0x00
	ui32 edi_1031 = 0x20
l00403B8B:
	ci8 bl_194 = esi_121->b0000
	ebx = DPB(ebx_1276, bl_194, 0)
	esi_121 = esi_121 + 0x01
	branch bl_194 < 0x20 || (int32) bl_194 > 0x7F l004043D8
	goto l00403BA3
l00403B97:
l00403BA3:
	uint32 ecx_241 = (word32) ((word32) (bl_194 + 0xE0))->b40B1FA
	byte * ebx_1276 = ebx
	branch ecx_241 > 0x1A l00403B8B
l00403BB9:
	byte * ecx_757
	byte cl_756
	switch (ecx_241) { l00403C4C l00403C2C l00403C9D l00403C3C l00403CE7 l00403CFD l00403D4E l00403D5B l00403D6E l00403C80 l00403E2B l00403E04 l00403E0D l00403E16 l00403F7A l004040ED l00403FBD l00404038 l00403FB2 l0040402D l00404379 l004043D8 l004043D8 l004043D8 l00403C66 l00403C73 l00403D81 }
l00403C2C:
	branch eax_1210 > 0x00 l004043D8
l00403C34:
	edi_1031 = edi_1031 | 0x01
	goto l00403B8B
l00403C3C:
	branch eax_1210 > 0x00 l004043D8
l00403C44:
	edi_1031 = edi_1031 | 0x02
	goto l00403B8B
l00403C4C:
	branch eax_1210 > 0x00 l004043D8
l00403C54:
	branch *(ebp_378 - 0x09) == 0x2B l00403B8B
l00403C5E:
	*(ebp_378 - 0x09) = bl_194
	goto l00403B8B
l00403C66:
	edi_1031 = edi_1031 & ~0x20
	eax_1210 = 0x05
	goto l00403B8B
l00403C73:
	edi_1031 = edi_1031 | 0x20
	eax_1210 = 0x05
	goto l00403B8B
l00403C80:
	branch eax_1210 > 0x00 l00403CFD
l00403C84:
	branch (edi_1031 & 0x02) != 0x00 l00403B8B
l00403C90:
	edi_1031 = edi_1031 | 0x08
	eax_1210 = 0x01
	goto l00403B8B
l00403C9D:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0x30) = *(ebp_378[0x001C] - 0x04)
	branch eax_1210 >= 0x02 l00403CD2
l00403CAF:
	branch *(ebp_378 - 0x30) >= 0x00 l00403CC2
l00403CB5:
	*(ebp_378 - 0x04) = -*(ebp_378 - 0x30)
	edi_1031 = edi_1031 | 0x02
	goto l00403CC8
l00403CC2:
	*(ebp_378 - 0x04) = *(ebp_378 - 0x30)
l00403CC8:
	eax_1210 = 0x03
	goto l00403B8B
l00403CD2:
	branch eax_1210 != 0x04 l004043D8
l00403CDB:
	*(ebp_378 - 0x08) = *(ebp_378 - 0x30)
	eax_1210 = eax_1210 + 0x01
	goto l00403B8B
l00403CE7:
	branch eax_1210 >= 0x04 l004043D8
l00403CF0:
	*(ebp_378 - 0x08) = *(ebp_378 - 0x08) + 0x01
	eax_1210 = 0x04
	goto l00403B8B
l00403CFD:
	ebx = DPB(ebx_1276, bl_194 + 0xD0, 0)
	branch eax_1210 > 0x02 l00403D30
l00403D05:
	eax_1210 = 0x02
	branch *(ebp_378 - 0x04) != ~0x00 l00403D1B
l00403D10:
	*(ebp_378 - 0x04) = (int32) (bl_194 + 0xD0)
	goto l00403B8B
l00403D1B:
	ui32 ecx_317 = *(ebp_378 - 0x04)
	*(ebp_378 - 0x04) = ecx_317 * 0x02 + (ecx_317 * 0x02) * 0x04 + (int32) (bl_194 + 0xD0)
	goto l00403B8B
l00403D30:
	branch eax_1210 != 0x04 l004043D8
l00403D39:
	ui32 ecx_327 = *(ebp_378 - 0x08)
	*(ebp_378 - 0x08) = ecx_327 * 0x02 + (ecx_327 * 0x02) * 0x04 + (int32) (bl_194 + 0xD0)
	goto l00403B8B
l00403D4E:
	edi_1031 = edi_1031 | 0x10
	eax_1210 = 0x05
	goto l00403B8B
l00403D5B:
	eax_1210 = 0x05
	edi_1031 = (edi_1031 | 0x0100) & ~0x10
	goto l00403B8B
l00403D6E:
	eax_1210 = 0x05
	edi_1031 = (edi_1031 | 0x0200) & ~0x10
	goto l00403B8B
l00403D81:
	branch esi_121->b0000 != 0x36 || esi_121[0x01] != 0x34 l00403DA5
	goto l00403D8C
l00403D86:
l00403D8C:
	esi_121 = esi_121 + 0x02
	edi_1031 = (edi_1031 | 0x0100) & ~0x0210
	eax_1210 = 0x05
	goto l00403B8B
l00403DA5:
	branch esi_121->b0000 != 0x33 || esi_121[0x01] != 0x32 l00403DC6
	goto l00403DB0
l00403DAA:
l00403DB0:
	esi_121 = esi_121 + 0x02
	edi_1031 = (edi_1031 | 0x10) & ~0x0300
	eax_1210 = 0x05
	goto l00403B8B
l00403DC6:
	branch esi_121->b0000 != 0x31 || esi_121[0x01] != 0x36 l00403DEA
	goto l00403DD1
l00403DCB:
l00403DD1:
	esi_121 = esi_121 + 0x02
	edi_1031 = (edi_1031 | 0x0200) & ~0x0110
	eax_1210 = 0x05
	goto l00403B8B
l00403DEA:
	branch esi_121->b0000 != 0x38 l00403B8B
l00403DF3:
	esi_121 = esi_121 + 0x01
	edi_1031 = edi_1031 & ~0x0310
	eax_1210 = 0x05
	goto l00403B8B
l00403E04:
	*(ebp_378 - 0x38) = 0x08
	goto l00403E23
l00403E0D:
	*(ebp_378 - 0x38) = 0x0A
	goto l00403E23
l00403E16:
	*(ebp_378 - 0x38) = 0x10
	*(ebp_378 - 0x1D) = (byte) (ebx - 0x17)
l00403E23:
	*(ebp_378 - 0x09) = 0x00
	ecx_757 = null
	cl_756 = 0x00
	goto l00403E34
l00403E2B:
	*(ebp_378 - 0x38) = 0x0A
	cl_756 = 0x01
	ecx_757 = DPB(ecx_241, 0x01, 0)
l00403E34:
	branch (edi_1031 & 0x0100) == 0x00 l00403E54
l00403E3C:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x08)
	ptr32 eax_864 = ebp_378[0x001C]
	*(ebp_378 - 0x28) = *(eax_864 - 0x08)
	*(ebp_378 - 0x24) = *(eax_864 - 0x04)
	goto l00403EE4
l00403E54:
	branch (edi_1031 & 0x10) == 0x00 l00403E86
l00403E5C:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 44) = *(ebp_378[0x001C] - 0x04)
	branch cl_756 == 0x00 l00403E79
l00403E6D:
	int64 edx_eax_881 = (int64) *(ebp_378 - 44)
	*(ebp_378 - 0x28) = (word32) edx_eax_881
	*(ebp_378 - 0x24) = SLICE(edx_eax_881, word32, 32)
	goto l00403EE4
l00403E79:
	*(ebp_378 - 0x28) = *(ebp_378 - 44)
	*(ebp_378 - 0x24) = 0x00
	goto l00403EE4
l00403E86:
	branch (edi_1031 & 0x0200) == 0x00 l00403EBC
l00403E8E:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0x32) = *(ebp_378[0x001C] - 0x04)
	branch cl_756 == 0x00 l00403EAE
l00403EA1:
	int64 edx_eax_904 = (int64) (int32) *(ebp_378 - 0x32)
	*(ebp_378 - 0x28) = (word32) edx_eax_904
	*(ebp_378 - 0x24) = SLICE(edx_eax_904, word32, 32)
	goto l00403EE4
l00403EAE:
	*(ebp_378 - 0x28) = (word32) *(ebp_378 - 0x32)
	*(ebp_378 - 0x24) = 0x00
	goto l00403EE4
l00403EBC:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0x30) = *(ebp_378[0x001C] - 0x04)
	branch cl_756 == 0x00 l00403ED9
l00403ECD:
	int64 edx_eax_924 = (int64) *(ebp_378 - 0x30)
	*(ebp_378 - 0x28) = (word32) edx_eax_924
	*(ebp_378 - 0x24) = SLICE(edx_eax_924, word32, 32)
	goto l00403EE4
l00403ED9:
	*(ebp_378 - 0x28) = *(ebp_378 - 0x30)
	*(ebp_378 - 0x24) = 0x00
l00403EE4:
	ptr32 eax_767 = ebp_378 - 0xB7
	*(ebp_378 - 0x18) = eax_767
	branch *(ebp_378 - 0x24) != 0x00 || *(ebp_378 - 0x28) != 0x00 l00403F07
	goto l00403EF9
l00403EF3:
l00403EF9:
	branch *(ebp_378 - 0x08) != 0x00 l00403F0A
l00403EFF:
	**(ebp_378 - 0x18) = (byte **) 0x00
	goto l00403F25
l00403F0A:
	fp->tFFFFFACC.u1 = DPB(eax_767, *(ebp_378 - 0x1D), 0)
	fp->ptrFFFFFAC8 = ecx_757
	fp->ptrFFFFFAC4 = (byte *) *(ebp_378 - 0x38)
	fp->ptrFFFFFAC0 = *(ebp_378 - 0x18)
	fp->dwFFFFFABC = *(ebp_378 - 0x24)
	fp->ptrFFFFFAB8 = *(ebp_378 - 0x28)
	bl_194 = fn00405090(ebp_378, esi_121, ebp, dwArg00, dwArg04, dwArg08, dwArg0C, bArg10, bArg14, out ebp_378, out esi_121, out edi_1031)
	ebx = DPB(ebx_1276, bl_194, 0)
l00403F25:
	branch *(ebp_378 - 0x08) < 0x00 l00404148
l00403F2F:
	fp->tFFFFFACC = *(ebp_378 - 0x18)
	word32 eax_789 = fn00402250(dwArg00)
	*(ebp_378 - 0x3C) = eax_789
	*(ebp_378 - 0x40) = eax_789
	branch **(ebp_378 - 0x18) != 0x2D l00403F4C
l00403F47:
	*(ebp_378 - 0x3C) = *(ebp_378 - 0x3C) - 0x01
	goto l00403F60
l00403F4C:
	branch *(ebp_378 - 0x09) == 0x00 l00403F60
l00403F52:
	*(ebp_378 - 0x40) = *(ebp_378 - 0x40) + 0x01
	*(ebp_378 - 0x18) = *(ebp_378 - 0x18) - 0x01
	**(ebp_378 - 0x18) = (byte **) *(ebp_378 - 0x09)
l00403F60:
	branch *(ebp_378 - 0x08) <= *(ebp_378 - 0x3C) l004041B6
l00403F6C:
	*(ebp_378 - 0x10) = *(ebp_378 - 0x08) - *(ebp_378 - 0x3C)
	goto l004041B6
l00403F7A:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0x18) = *(ebp_378[0x001C] - 0x04)
	fp->tFFFFFACC = ebp_378 - 0xB8
	fp->ptrFFFFFAC8 = (byte *) *(ebp_378 - 0x18)
	fn00403A9C(dwArg00, dwArg04)
	*(ebp_378 - 0xB0) = 0x00
	*(ebp_378 - 0x18) = ebp_378 - 0xB8
	edi_1031 = edi_1031 & ~0x04
	goto l00404148
l00403FB2:
	branch (edi_1031 & 0x0210) != 0x00 l00403FBD
l00403FBA:
	edi_1031 = edi_1031 | 0x10
l00403FBD:
	branch (edi_1031 & 0x10) == 0x00 l00403FFC
l00403FC5:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0xB8) = *(ebp_378[0x001C] - 0x04)
	*(ebp_378 - 0xB6) = 0x00
	*(ebp_378 - 0x1C) = 0x01
	*(ebp_378 - 0x18) = ebp_378 - 0xB8
	*(ebp_378 - 0x40) = 0x01
	goto l004041B6
l00403FFC:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0xB8) = *(ebp_378[0x001C] - 0x04)
	*(ebp_378 - 0xB7) = 0x00
	*(ebp_378 - 0x18) = ebp_378 - 0xB8
	*(ebp_378 - 0x1C) = 0x00
	*(ebp_378 - 0x40) = 0x01
	goto l004041B6
l0040402D:
	branch (edi_1031 & 0x0210) != 0x00 l00404038
l00404035:
	edi_1031 = edi_1031 | 0x10
l00404038:
	branch (edi_1031 & 0x10) == 0x00 l00404063
l00404040:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0x18) = *(ebp_378[0x001C] - 0x04)
	*(ebp_378 - 0x1C) = 0x01
	branch *(ebp_378 - 0x18) != 0x00 l00404082
l0040405A:
	*(ebp_378 - 0x18) = 0x0040B1EC
	goto l00404082
l00404063:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0x18) = *(ebp_378[0x001C] - 0x04)
	*(ebp_378 - 0x1C) = 0x00
	branch *(ebp_378 - 0x18) != 0x00 l00404082
l0040407B:
	*(ebp_378 - 0x18) = 4239844
l00404082:
	branch *(ebp_378 - 0x1C) == 0x00 l004040BC
l00404088:
	word32 eax_1072
	branch *(ebp_378 - 0x08) < 0x00 l00404093
l0040408E:
	eax_1072 = *(ebp_378 - 0x08)
	goto l00404098
l00404093:
	eax_1072 = 0x7FFFFFFF
l00404098:
	word16 * edx_1073 = *(ebp_378 - 0x18)
	*(ebp_378 - 0x40) = 0x00
	goto l004040A9
l004040A2:
	*(ebp_378 - 0x40) = *(ebp_378 - 0x40) + 0x01
	eax_1072 = eax_1072 - 0x01
	edx_1073 = edx_1073 + 0x01
l004040A9:
	branch eax_1072 == 0x00 l004041B6
l004040B1:
	branch *edx_1073 != 0x00 l004040A2
	goto l004041B6
l004040BC:
	word32 eax_1116
	branch *(ebp_378 - 0x08) < 0x00 l004040C7
l004040C2:
	eax_1116 = *(ebp_378 - 0x08)
	goto l004040CC
l004040C7:
	eax_1116 = 0x7FFFFFFF
l004040CC:
	byte * edx_1117 = *(ebp_378 - 0x18)
	*(ebp_378 - 0x40) = 0x00
	goto l004040DB
l004040D6:
	*(ebp_378 - 0x40) = *(ebp_378 - 0x40) + 0x01
	eax_1116 = eax_1116 - 0x01
	edx_1117 = edx_1117 + 0x01
l004040DB:
	branch eax_1116 == 0x00 l004041B6
l004040E3:
	branch *edx_1117 != 0x00 l004040D6
	goto l004041B6
l004040ED:
	Eq_291 eax_1023
	branch (edi_1031 & 0x0100) == 0x00 l004040FC
l004040F5:
	eax_1023.u0 = 0x08
	goto l00404101
l004040FC:
	eax_1023.u0 = 0x06
l00404101:
	word32 eax_1015
	fp->tFFFFFACC = eax_1023
	fp->ptrFFFFFAC8 = DPB(edi_1031, (byte) edi_1031 & 0x01, 0)
	fp->ptrFFFFFAC4 = ebx
	ptr32 ecx_983 = ebp_378 - 0xB7
	*(ebp_378 - 0x18) = ecx_983
	fp->ptrFFFFFAC0 = ecx_983
	branch *(ebp_378 - 0x08) >= 0x00 l00404120
l00404119:
	eax_1015 = 0x06
	goto l00404123
l00404120:
	eax_1015 = *(ebp_378 - 0x08)
l00404123:
	fp->dwFFFFFABC = eax_1015
	fp->ptrFFFFFAB8 = (ptr32) ebp_378[0x001C]
	fn00404FC8()
	fp->tFFFFFACC = edi_1031 & 0x0100
	byte * eax_1009 = ebp_378[0x001C]
	fp->ptrFFFFFAC8 = eax_1009
	fn00404FCE()
	ebp_378[0x001C] = (struct Eq_281) eax_1009
l00404148:
	branch (edi_1031 & 0x08) == 0x00 || *(ebp_378 - 0x04) <= 0x00 l0040417F
	goto l00404156
l00404150:
l00404156:
	fp->tFFFFFACC = *(ebp_378 - 0x18)
	*(ebp_378 - 0x40) = fn00402250(dwArg00)
	branch **(ebp_378 - 0x18) != 0x2D l0040416E
l0040416B:
	*(ebp_378 - 0x40) = *(ebp_378 - 0x40) - 0x01
l0040416E:
	branch *(ebp_378 - 0x04) <= *(ebp_378 - 0x40) l0040417F
l00404176:
	*(ebp_378 - 0x10) = *(ebp_378 - 0x04) - *(ebp_378 - 0x40)
l0040417F:
	branch **(ebp_378 - 0x18) == 0x2D || *(ebp_378 - 0x09) != 0x00 l0040418D
	goto l004041A9
l00404187:
l0040418D:
	branch **(ebp_378 - 0x18) == 0x2D l004041A0
l00404195:
	*(ebp_378 - 0x18) = *(ebp_378 - 0x18) - 0x01
	**(ebp_378 - 0x18) = (byte **) *(ebp_378 - 0x09)
l004041A0:
	branch *(ebp_378 - 0x10) <= 0x00 l004041A9
l004041A6:
	*(ebp_378 - 0x10) = *(ebp_378 - 0x10) - 0x01
l004041A9:
	fp->tFFFFFACC = *(ebp_378 - 0x18)
	*(ebp_378 - 0x40) = fn00402250(dwArg00)
l004041B6:
	branch (edi_1031 & 0x01) == 0x00 l004041EE
l004041BE:
	branch bl_194 != 111 l004041D2
l004041C3:
	branch *(ebp_378 - 0x10) > 0x00 l004041EE
l004041C9:
	*(ebp_378 - 0x10) = 0x01
	goto l004041EE
l004041D2:
	branch bl_194 == 0x78 || bl_194 == 88 l004041DC
	goto l004041EE
l004041D7:
l004041DC:
	*(ebp_378 - 0x04) = *(ebp_378 - 0x04) - 0x02
	int32 v28_666 = *(ebp_378 - 0x10) - 0x02
	*(ebp_378 - 0x10) = v28_666
	edi_1031 = edi_1031 | 0x40
	branch v28_666 >= 0x00 l004041EE
l004041E9:
	*(ebp_378 - 0x10) = 0x00
l004041EE:
	*(ebp_378 - 0x40) = *(ebp_378 - 0x40) + *(ebp_378 - 0x10)
	branch (edi_1031 & 0x02) != 0x00 || *(ebp_378 - 0x04) <= *(ebp_378 - 0x40) l00404220
	goto l00404204
l004041FC:
l00404204:
	fp->tFFFFFACC = ebp_378 - 0x0520
	fp->ptrFFFFFAC8 = (byte *) 0x20
	fn00403A68(dwArg04)
	*(ebp_378 - 0x04) = *(ebp_378 - 0x04) - 0x01
	branch *(ebp_378 - 0x04) > *(ebp_378 - 0x40) l00404204
l00404220:
	branch (edi_1031 & 0x40) == 0x00 l00404249
l00404228:
	fp->tFFFFFACC = ebp_378 - 0x0520
	fp->ptrFFFFFAC8 = (byte *) 0x30
	fn00403A68(dwArg04)
	fp->tFFFFFACC = ebp_378 - 0x0520
	fp->ptrFFFFFAC8 = ebx
	fn00403A68(dwArg04)
l00404249:
	branch *(ebp_378 - 0x10) <= 0x00 l004042AF
l0040424F:
	*(ebp_378 - 0x40) = *(ebp_378 - 0x40) - *(ebp_378 - 0x10)
	byte * eax_576 = *(ebp_378 - 0x10)
	*(ebp_378 - 0x04) = *(ebp_378 - 0x04) - eax_576
	branch **(ebp_378 - 0x18) == 0x2D || *(*(ebp_378 - 0x18)) == 0x20 l00404273
	goto l0040426B
l00404263:
l0040426B:
	eax_576 = (byte *) *(ebp_378 - 0x18)
	branch *eax_576 != 0x2B l004042A4
l00404273:
	fp->tFFFFFACC = ebp_378 - 0x0520
	byte * ecx_605 = *(ebp_378 - 0x18)
	*(ebp_378 - 0x18) = *(ebp_378 - 0x18) + 0x01
	fp->ptrFFFFFAC8 = DPB(eax_576, *ecx_605, 0)
	fn00403A68(dwArg04)
	*(ebp_378 - 0x40) = *(ebp_378 - 0x40) - 0x01
	*(ebp_378 - 0x04) = *(ebp_378 - 0x04) - 0x01
	goto l004042A4
l00404293:
	fp->tFFFFFACC = ebp_378 - 0x0520
	fp->ptrFFFFFAC8 = (byte *) 0x30
	fn00403A68(dwArg04)
l004042A4:
	word32 ecx_587 = *(ebp_378 - 0x10)
	*(ebp_378 - 0x10) = *(ebp_378 - 0x10) + ~0x00
	branch ecx_587 != 0x00 l00404293
l004042AF:
	branch *(ebp_378 - 0x1C) == 0x00 l00404325
l004042B5:
	*(ebp_378 - 0x44) = *(ebp_378 - 0x18)
	*(ebp_378 - 0x4C) = 0x00
	*(ebp_378 - 0x54) = *(ebp_378 - 0x40)
	byte * edx_485 = null
	goto l0040430B
l004042C8:
	word16 * eax_526 = *(ebp_378 - 0x44)
	*(ebp_378 - 0x44) = *(ebp_378 - 0x44) + 0x02
	fp->tFFFFFACC = DPB(edx_485, *eax_526, 0)
	fp->ptrFFFFFAC8 = ebp_378 - 0x56
	*(ebp_378 - 0x50) = fn0040487C(dwArg00, wArg04)
	branch *(ebp_378 - 0x50) <= 0x00 l00404316
l004042E8:
	int32 ecx_543 = 0x00
	edx_485 = ebp_378 - 0x04B8 + *(ebp_378 - 0x4C)
	byte * eax_549 = ebp_378 - 0x56
	branch 0x00 >= *(ebp_378 - 0x50) l0040430B
l004042FC:
	*edx_485 = *eax_549
	*(ebp_378 - 0x4C) = *(ebp_378 - 0x4C) + 0x01
	eax_549 = eax_549 + 0x01
	edx_485 = edx_485 + 0x01
	ecx_543 = ecx_543 + 0x01
	branch ecx_543 < *(ebp_378 - 0x50) l004042FC
l0040430B:
	int32 eax_504 = *(ebp_378 - 0x54)
	*(ebp_378 - 0x54) = *(ebp_378 - 0x54) + ~0x00
	branch eax_504 > 0x00 l004042C8
	int32 eax_508 = *(ebp_378 - 0x54)
	*(ebp_378 - 0x54) = *(ebp_378 - 0x54) + ~0x00
	branch eax_508 > 0x00 l004042C8
l00404316:
	*(ebp_378 - 0x18) = ebp_378 - 0x04B8
	*(ebp_378 - 0x40) = *(ebp_378 - 0x4C)
	*(ebp_378 - 0x18) = ebp_378 - 0x04B8
	*(ebp_378 - 0x40) = *(ebp_378 - 0x4C)
l00404325:
	branch *(ebp_378 - 0x40) == 0x00 l00404369
l0040432B:
	byte * eax_456 = *(ebp_378 - 0x40)
	*(ebp_378 - 0x04) = *(ebp_378 - 0x04) - eax_456
	goto l0040434B
l00404333:
	fp->tFFFFFACC = ebp_378 - 0x0520
	byte * ecx_474 = *(ebp_378 - 0x18)
	*(ebp_378 - 0x18) = *(ebp_378 - 0x18) + 0x01
	eax_456 = DPB(eax_456, *ecx_474, 0)
	fp->ptrFFFFFAC8 = eax_456
	fn00403A68(dwArg04)
l0040434B:
	word32 edx_465 = *(ebp_378 - 0x40)
	*(ebp_378 - 0x40) = *(ebp_378 - 0x40) + ~0x00
	branch edx_465 != 0x00 l00404333
	goto l00404369
l00404358:
	fp->tFFFFFACC = ebp_378 - 0x0520
	fp->ptrFFFFFAC8 = (byte *) 0x20
	fn00403A68(dwArg04)
l00404369:
	int32 eax_444 = *(ebp_378 - 0x04)
	*(ebp_378 - 0x04) = *(ebp_378 - 0x04) + ~0x00
	branch eax_444 > 0x00 l00404358
	goto l00403B18
l00404379:
	ebp_378[0x001C] = (struct Eq_281) ((word32) ebp_378[0x001C].dw0000 + 0x04)
	*(ebp_378 - 0x18) = *(ebp_378[0x001C] - 0x04)
	branch (edi_1031 & 0x10) == 0x00 l0040439E
l0040438E:
	**(ebp_378 - 0x18) = *(ebp_378 - 0x04C4)
	goto l00403B18
l0040439E:
	branch (edi_1031 & 0x0200) == 0x00 l004043B8
l004043A6:
	**(ebp_378 - 0x18) = (word16 **) *(ebp_378 - 0x04C4)
	goto l00403B18
l004043B8:
	**(ebp_378 - 0x18) = *(ebp_378 - 0x04C4)
	goto l00403B18
l004043C8:
	fp->tFFFFFACC = ebp_378 - 0x0520
	fp->ptrFFFFFAC8 = eax_215
	fn00403A68(dwArg04)
l004043D8:
	byte * eax_211 = *(ebp_378 - 0x14)
	*(ebp_378 - 0x14) = *(ebp_378 - 0x14) + 0x01
	byte al_214 = *eax_211
	byte * eax_215 = DPB(eax_211, al_214, 0)
	branch al_214 != 0x00 l004043C8
l004043E4:
	fp->tFFFFFACC = ebp_378 - 0x0520
	fn00403A20(dwArg00)
	branch *(ebp_378 - 0x04C0) == 0x00 l004043FF
	fp->tFFFFFACC = ebp_378 - 0x0520
	fn00403A20(dwArg00)
	return
l00404405:
fn00403AD0_exit:
}

// 0040487C: Register int32 fn0040487C(Stack (ptr Eq_58) dwArg04, Stack word16 wArg08)
int32 fn0040487C(Eq_58 * dwArg04, word16 wArg08)
{
	if (dwArg04 != 0x00)
	{
		if (globals->ptr40B59C->dw0008 == 0x00)
		{
			int32 eax_97 = WideCharToMultiByte(globals->ptr40B59C->t0000, 0x0220, fp + 0x08, 0x01, dwArg04, 0x02, null, fp - 0x08);
			if (eax_97 == 0x00 || 0x00 != 0x00)
				return eax_97 | ~0x00;
			else
				return eax_97;
		}
		else if (wArg08 <= 0xFF)
		{
			*dwArg04 = bArg08;
			return 0x01;
		}
		else
			return dwArg04 | ~0x00;
	}
	else
		return 0x00;
}

// 00404C97: Register uint32 fn00404C97(Register uint32 eax, Register Eq_2552 edx, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 edxOut)
uint32 fn00404C97(uint32 eax, Eq_2552 edx, word32 dwArg04, word32 dwArg08, ptr32 & edxOut)
{
	if (dwArg08 == 0x00)
	{
		uint64 edx_eax_104 = SEQ(edx, eax);
		if (edx == 0x00 || dwArg04 == 0x00)
		{
			eax = (uint32) (edx_eax_104 /u dwArg04);
			word32 edx_114;
			*edxOut = 0x00;
			return eax;
		}
	}
	Eq_2552 edx_45 = edx;
	uint64 ebp_ebx_50 = SEQ(dwArg08, dwArg04);
	word32 ecx_51 = 0x40;
	uint32 edi_52 = 0x00;
	uint32 esi_53 = 0x00;
	do
	{
		eax = eax << 0x01;
		edx_45 = __rcl(edx_45, 0x01, cond(eax));
		*edxOut = edx_45;
		esi_53 = __rcl(esi_53, 0x01, (edx_45 & 0x80000000) != 0x00);
		edi_52 = __rcl(edi_52, 0x01, (esi_53 & 0x80000000) != 0x00);
		if (edi_52 >= dwArg08 && (edi_52 > dwArg08 || esi_53 >= dwArg04))
		{
			uint64 edi_esi_94 = SEQ(edi_52, esi_53 - dwArg04) - ebp_ebx_50;
			edi_52 = SLICE(edi_esi_94, word32, 32);
			esi_53 = (word32) edi_esi_94;
			eax = eax + 0x01;
		}
		ecx_51 = ecx_51 - 0x01;
	} while (ecx_51 != 0x00);
	return eax;
}

// 00404D5A: Register byte fn00404D5A(Register uint32 eax, Register Eq_2552 edx, Stack word32 dwArg04, Stack word32 dwArg08)
byte fn00404D5A(uint32 eax, Eq_2552 edx, word32 dwArg04, word32 dwArg08)
{
	byte al_123;
	if (dwArg08 == 0x00)
	{
		ui64 edx_eax_111 = SEQ(edx, eax);
		if (edx == 0x00 || dwArg04 == 0x00)
		{
			al_123 = (byte) (uint32) (edx_eax_111 % dwArg04);
			return al_123;
		}
	}
	Eq_2552 edx_46 = edx;
	uint64 ebp_ebx_50 = SEQ(dwArg08, dwArg04);
	word32 ecx_51 = 0x40;
	uint32 edi_101 = 0x00;
	uint32 esi_102 = 0x00;
	do
	{
		eax = eax << 0x01;
		edx_46 = __rcl(edx_46, 0x01, cond(eax));
		esi_102 = __rcl(esi_102, 0x01, (edx_46 & 0x80000000) != 0x00);
		edi_101 = __rcl(edi_101, 0x01, (esi_102 & 0x80000000) != 0x00);
		if (edi_101 >= dwArg08 && (edi_101 > dwArg08 || esi_102 >= dwArg04))
		{
			uint64 edi_esi_100 = SEQ(edi_101, esi_102 - dwArg04) - ebp_ebx_50;
			edi_101 = SLICE(edi_esi_100, word32, 32);
			esi_102 = (word32) edi_esi_100;
			eax = eax + 0x01;
		}
		ecx_51 = ecx_51 - 0x01;
	} while (ecx_51 != 0x00);
	al_123 = (byte) esi_102;
	return al_123;
}

// 00404FC8: void fn00404FC8()
void fn00404FC8()
{
	word32 esp_3;
	globals->ptr40B780();
	return;
}

// 00404FCE: void fn00404FCE()
void fn00404FCE()
{
	word32 esp_3;
	globals->ptr40B784();
	return;
}

// 00405090: Register byte fn00405090(Register (ptr Eq_281) ebp, Register (ptr Eq_285) esi, Stack ptr32 dwArg00, Stack (ptr Eq_58) dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack (ptr Eq_285) dwArg10, Stack byte bArg14, Stack byte bArg18, Register out (ptr Eq_2046) ebpOut, Register out (ptr Eq_2047) esiOut, Register out Eq_2048 ediOut)
byte fn00405090(Eq_281 * ebp, Eq_285 * esi, ptr32 dwArg00, Eq_58 * dwArg04, word32 dwArg08, word32 dwArg0C, Eq_285 * dwArg10, byte bArg14, byte bArg18, Eq_2046 * & ebpOut, Eq_2047 * & esiOut, Eq_2048 & ediOut)
{
	byte * esi_133 = dwArg0C;
	if (dwArg10 < 0x02 || dwArg10 > 0x24)
	{
l00405134:
		*esi_133 = 0x00;
		return (byte) ebx;
		esi->b0000 = 0x00;
		word32 edi_59;
		*ediOut = dwArg00;
		word32 esi_61;
		*esiOut = dwArg04;
		word32 ebp_66;
		*ebpOut = ebp->dw0000;
		return (byte) dwArg08;
	}
	if (dwArg08 == 0x00)
	{
		if (dwArg04 >= 0x00)
			goto l004050DE;
	}
	else if (dwArg08 >= 0x00)
		goto l004050DE;
	if (bArg14 != 0x00)
	{
		*dwArg0C = 0x2D;
		uint32 eax_168 = -dwArg04;
		esi_133 = dwArg0C + 0x01;
		dwArg04 = eax_168;
		dwArg08 = -((word32) dwArg08 + (eax_168 == 0x00));
	}
l004050DE:
	byte * ebx_114 = fp - 0x48;
	do
	{
		int64 edx_eax_92 = (int64) dwArg10;
		*ebx_114 = fn00404D5A(dwArg04, dwArg08, (word32) edx_eax_92, SLICE(edx_eax_92, word32, 32));
		int64 edx_eax_105 = (int64) dwArg10;
		Eq_2552 edx_117;
		uint32 eax_118 = fn00404C97(dwArg04, dwArg08, (word32) edx_eax_105, SLICE(edx_eax_105, word32, 32), out edx_117);
		ebx_114 = ebx_114 + 0x01;
		dwArg04 = eax_118;
		dwArg08 = edx_117;
	} while (edx_117 != 0x00 || eax_118 != 0x00);
	while (ebx_114 != fp - 0x48)
	{
		ebx_114 = ebx_114 - 0x01;
		ci8 al_141 = *ebx_114;
		eax_118 = DPB(eax_118, al_141, 0);
		if (al_141 < 0x0A)
		{
			*esi_133 = (byte) (eax_118 + 0x30);
			eax_118 = eax_118 + 0x30;
			esi_133 = esi_133 + 0x01;
		}
		else
		{
			*esi_133 = al_141 + bArg18 + ~0x09;
			esi_133 = esi_133 + 0x01;
		}
	}
	goto l00405134;
}

