//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <stdint.h>

// ------------------- Function Prototypes --------------------

int32_t entry_point(void);
int32_t function_401000(int32_t a1);
int32_t function_401030(char * a1, int32_t a2);
void function_401050(int64_t a1, char * a2, int32_t a3);

// --------------------- Global Variables ---------------------

int32_t g1 = 0; // esi

// ------------------------ Functions -------------------------

// Address range: 0x401000 - 0x40102f
int32_t function_401000(int32_t a1) {
    // 0x401000
    int32_t v1;
    if (a1 <= 0) {
        // 0x40100a
        g1 = v1;
        return 1;
    }
    int32_t v2 = function_401000(a1 - 2); // 0x401016
    int32_t v3 = function_401000(g1 - 1); // 0x40101f
    g1 = v1;
    return v3 + v2;
}

// Address range: 0x401030 - 0x40104f
int32_t function_401030(char * a1, int32_t a2) {
    // 0x401030
    if (*a1 == 0) {
        // 0x401047
        return 0;
    }
    int32_t v1 = (int32_t)a1 + 1; // 0x401040
    int32_t result = 1; // 0x401041
    while (*(char *)v1 != 0) {
        // 0x401040
        v1++;
        result++;
        // continue -> 0x401040
    }
    // 0x401047
    return result;
}

// Address range: 0x401050 - 0x40109f
void function_401050(int64_t a1, char * a2, int32_t a3) {
    int32_t v1 = (int32_t)a2;
    int32_t v2 = v1 - 1 + a3; // 0x401059
    int32_t v3 = v1; // 0x401092
    if (v1 < v2) {
        int32_t v4 = a1; // 0x401081
        int32_t v5 = 0xcccccccd * (int64_t)v4 / 0x800000000; // 0x401077
        *(char *)v1 = (char)(v4 + 48 - 10 * v5);
        int32_t v6 = v1 + 1; // 0x401089
        // branch -> 0x401070
        while (v6 < v2) {
            // 0x401070
            v4 = v5;
            v5 = 0xcccccccd * (int64_t)v4 / 0x800000000;
            *(char *)v6 = (char)(v4 + 48 - 10 * v5);
            v6++;
            // continue -> 0x401070
        }
        // 0x401090
        v3 = v6;
        // branch -> 0x401092
    }
    // 0x401092
    *(char *)v3 = 0;
}

// Address range: 0x4010a0 - 0x4010ca
int32_t entry_point(void) {
    function_401000(9);
    int32_t result = function_401000(8); // 0x4010b5
    int32_t v1;
    int32_t v2;
    function_401050((int64_t)(int32_t)&v2, (char *)&v1, 100);
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: microsoft linker (9.0)
// Detected functions: 4
// Decompiler release: VERSION
// Decompilation date: DATE
