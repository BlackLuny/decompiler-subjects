// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 13101C50: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	GetModuleFileNameW(esp_23->t0000, esp_23->t0004, esp_23->t0008);
	*(esp_26 - 0x04) = 0x00;
	*(esp_26 - 0x08) = 0x80;
	*(esp_26 - 0x0C) = 0x03;
	*(esp_26 - 0x10) = 0x00;
	*(esp_26 - 0x14) = 0x00;
	*(esp_26 - 0x18) = 0x80000000;
	*(esp_26 - 0x1C) = fp - 404;
	Eq_64 eax_56 = CreateFileW(*(esp_26 - 0x1C), *(esp_26 - 0x18), *(esp_26 - 0x14), *(esp_26 - 0x10), *(esp_26 - 0x0C), *(esp_26 - 0x08), *(esp_26 - 0x04));
	*(esp_50 - 0x04) = (HANDLE *) eax_56;
	*(esp_50 - 0x08) = 0x00;
	*(esp_50 - 0x0C) = 0x00;
	*(esp_50 - 0x10) = 0x00;
	*(esp_50 - 0x14) = 0x02;
	*(esp_50 - 0x18) = 0x00;
	*(esp_50 - 0x1C) = (HANDLE *) eax_56;
	Eq_64 eax_80 = CreateFileMappingW(*(esp_50 - 0x1C), *(esp_50 - 0x18), *(esp_50 - 0x14), *(esp_50 - 0x10), *(esp_50 - 0x0C), *(esp_50 - 0x08));
	*(esp_74 - 0x04) = (HANDLE *) eax_80;
	*(esp_74 - 0x08) = 0x00;
	*(esp_74 - 0x0C) = 0x00;
	*(esp_74 - 0x10) = 0x00;
	*(esp_74 - 0x14) = 0x04;
	*(esp_74 - 0x18) = (HANDLE *) eax_80;
	*(esp_96 - 0x04) = (union Eq_255 *) MapViewOfFile(*(esp_74 - 0x18), *(esp_74 - 0x14), *(esp_74 - 0x10), *(esp_74 - 0x0C), *(esp_74 - 0x08));
	*(esp_96 - 0x08) = 0x40;
	*(esp_96 - 0x0C) = 0x1000;
	*(esp_96 - 0x10) = 3317;
	*(esp_96 - 0x14) = 0x00;
	Eq_255 eax_125 = VirtualAlloc(*(esp_96 - 0x14), *(esp_96 - 0x10), *(esp_96 - 0x0C), *(esp_96 - 0x08));
	byte * esi_130 = edi_123;
	Eq_255 edi_131 = eax_125;
	word32 ecx_133 = 3317;
	while (ecx_133 != 0x00)
	{
		*edi_131 = *esi_130;
		esi_130 = esi_130 + 0x01;
		edi_131 = edi_131 + 0x01;
		ecx_133 = ecx_133 - 0x01;
	}
	word32 esp_142;
	word32 ebp_143;
	word32 ebx_144;
	word32 esi_145;
	word32 edi_146;
	byte SCZO_147;
	Eq_2 eax_148;
	byte D_149;
	word32 ecx_150;
	eax_125();
	return eax_148;
}

