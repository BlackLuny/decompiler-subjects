// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004190D4: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
Win32CrtStartup_entry:
l004190D4:
Win32CrtStartup_exit:
}

// 004190D5: Register Eq_3 fn004190D5(Register Eq_3 eax, Register Eq_3 ecx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn004190D5(Eq_3 eax, Eq_3 ecx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	esp = fp;
	v5 = Mem0[eax + 0x60:word32] + ebp;
	*((word32) eax + 0x0060) = v5;
	SCZO = cond(v5);
	ecx = fn004190D8(ecx, ebp, esi, edi, out ebp, out esi, out edi);
	return ecx;
}

// 004190D8: Register Eq_3 fn004190D8(Register Eq_3 ecx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn004190D8(Eq_3 ecx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_3 ebp_7;
	Eq_3 esi_8;
	Eq_3 edi_9;
	real64 rLoc1_10;
	Eq_3 ecx_11 = fn004190DD(ecx, ebp, esi, edi, dwLoc04, out ebp_7, out esi_8, out edi_9, out rLoc1_10);
	word32 ebp_13;
	word32 esi_14;
	word32 edi_15;
	real64 rLoc1_16;
	return fn004190DD(ecx_11, ebp_7, esi_8, edi_9, dwArg00, out ebp_13, out esi_14, out edi_15, out rLoc1_16);
}

// 004190DD: Register Eq_3 fn004190DD(Register Eq_3 ecx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Stack word32 dwArg00, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut, FpuStack out Eq_89 rLoc1Out)
Eq_3 fn004190DD(Eq_3 ecx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, word32 dwArg00, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut, Eq_89 & rLoc1Out)
{
	*ebpOut = ebp;
	*esiOut = esi;
	*ediOut = edi;
	struct Eq_133 * esp_1 = fp;
	struct Eq_135 * ebx_26 = dwArg00;
l004190DF:
	struct Eq_141 * ebx_27 = (char *) ebx_26 + 0x0012;
	ebx_27->dw0000 = ebx_27->dw0000 - 0x0006B1E8;
	*(ebx_27 - 0x03) = *(ebx_27 - 0x03) - 0x01;
	esp_255->t0000 = esp_255->t0000 - 0xAC;
	if (esp_255 != null)
	{
		if (esp_255 == null)
		{
			*((word32) ecx + 0x7AD70473) = 0x73812FF7;
			*edi = *edi - esi;
		}
		else
		{
			ebx_27->dw0004 = ebx_27->dw0004 ^ 0x2FF77AD7;
			ebx_27->dw0019 = ebx_27->dw0019 ^ 0xB7430077;
		}
		return ecx;
	}
	if (false)
	{
		word32 esi_250;
		*esiOut = *((word32) edi - 0x00070000) *s ~0x1C;
		word32 ebp_253;
		*ebpOut = *ebp;
		return ecx;
	}
	ecx = esp_255->t0018;
	byte * eax_104 = esp_255->ptr001C;
	edi = esp_255->t0000;
	*ediOut = edi;
	word32 esi_88 = esp_255->dw0004;
	*ebpOut = esp_255->dw0008;
	ebx_26 = esp_255->ptr0010;
	int32 edx_98 = esp_255->dw0014;
	__outdw(edx_98 + 0x01, eax_104);
	byte cl_101 = (byte) ecx;
	byte al_105 = (byte) eax_104;
	esp_1 = (struct Eq_133 *) ((char *) &esp_255->t001F + 0x01);
	*esiOut = esi_88 + 0x04;
	struct Eq_133 * esp_255 = esp_1;
	if (edx_98 < 0x01)
		goto l004190DF;
	*eax_104 = *eax_104 + al_105;
	*((word32) ecx + 110) = (word32) *((word32) ecx + 110) + cl_101;
	Eq_268 esi_115 = ebx_26->a006F[eax_104].dw0000 *s 0x6E6F6D6D;
	__outdw(edx_98 + 0x01, eax_104);
	__outb(edx_98 + 0x01, al_105);
	if (ebx_26 == (struct Eq_135 *) 0x01)
		;
	__outdw(edx_98 + 0x01, eax_104);
	*edi = __in(edx_98 + 0x01);
	*eax_104 = *eax_104 + al_105;
	__outdw(edx_98 + 0x01, eax_104);
	Eq_3 eax_149 = esp_255->t003B;
	word32 ebx_138 = esp_255->dw002F;
	Eq_3 ecx_145 = esp_255->t0037;
	byte al_150 = (byte) eax_149;
	Eq_3 edi_131 = esp_255->t001F;
	*ediOut = edi_131;
	Eq_3 esi_133 = esp_255->t0023;
	*esiOut = esi_133;
	Eq_3 ebp_135 = esp_255->t0027;
	*ebpOut = ebp_135;
	*eax_149 = (word32) *eax_149 + al_150;
	cu8 v25_156 = (word32) *((word32) edi_131 + 101) + al_150;
	*((word32) edi_131 + 101) = v25_156;
	word16 bx_139 = (word16) ebx_138;
	byte bl_140 = (byte) ebx_138;
	byte ch_147 = SLICE(ecx_145, byte, 8);
	if (v25_156 != 0x00)
	{
		if (v25_156 >= 0x00)
		{
			__arpl(*((word32) ecx_145 + 100), bx_139, &*((word32) ecx_145 + 100));
			if (v25_156 < 0x00)
				;
			if (v25_156 < 0x00)
			{
				word32 ebp_206;
				word32 esi_207;
				word32 edi_208;
				return fn004190D5(eax_149, ecx_145, ebp_135, esi_133, edi_131, out ebp_206, out esi_207, out edi_208);
			}
			return ecx_145;
		}
		__sti();
		struct Eq_390 * ebx_216 = DPB(ebx_138, bl_140 + ch_147, 0);
		ebx_216->dw404F0D95 = ebx_216->dw404F0D95 - 0x01;
	}
	else
	{
		word32 esp_221;
		word32 ebx_222;
		byte SCZO_223;
		byte SZO_224;
		word32 esi_225;
		byte C_226;
		byte Z_227;
		Eq_3 ecx_228;
		word32 edi_229;
		word32 * ebp_230;
		word32 edx_231;
		word32 eax_232;
		byte S_233;
		byte al_234;
		byte cl_235;
		word16 bx_236;
		byte bl_237;
		byte ch_238;
		byte bh_239;
		(*((word32) ebp_135 + 0x0033))();
		word32 ebp_241;
		*ebpOut = *ebp_230;
		ecx_145 = ecx_228;
		if (ecx_228 == 0x00)
			fn0041912F(dwLoc04);
	}
	return ecx_145;
}

// 0041912F: void fn0041912F(Stack word32 dwArg00)
void fn0041912F(word32 dwArg00)
{
	word32 esp_7;
	word32 edx_8;
	byte SCZO_9;
	(dwArg00 - 11)();
	return;
}

