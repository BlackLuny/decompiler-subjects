// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401292: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	union Eq_12 ** ecx_23 = fs->dw0000 + __ror(0x0200, 0x07);
	union Eq_12 * edx_26 = *ecx_23;
	word32 edi_31 = __ror(2145575957, 0x06);
	word32 esi_33 = __ror(ebp ^ 0x00, 22);
	word32 eax_40 = __rol(~0x78000003, 0x05);
	__ror(-ecx_23, 11);
	cui16 si_159 = (word16) esi_33;
l004012D1:
	edx_26 = (union Eq_12 *) ((char *) edx_26 + 0x01);
	si_159 = si_159 | 100;
	ui32 ecx_54 = *edx_26 ^ eax_40;
	esi_33 = DPB(esi_33, si_159, 0);
	word16 cx_137 = (word16) ecx_54;
	if (ecx_54 == 0x00)
	{
		word32 eax_153 = __rol(0x40000002, 0x06);
		ptr32 esi_158 = __ror(esi_33, 0x02);
		byte al_154 = (byte) eax_153;
		si_159 = (word16) esi_158;
		if (*(edx_26 - 0x02) == al_154)
			goto l00401318;
		word32 esp_162;
		word32 edx_163;
		byte SZO_164;
		word32 esi_165;
		byte SCZO_166;
		byte C_167;
		word32 ecx_168;
		struct Eq_95 * fs_169;
		Eq_2 eax_170;
		word32 edi_171;
		word32 ebp_172;
		word16 si_173;
		byte Z_174;
		byte al_175;
		word16 ax_176;
		word16 cx_177;
		byte cl_178;
		(*(esi_158 - 0x7D))();
		return eax_170;
	}
	else
	{
		if (*edx_26 != edi_31)
			goto l004012D1;
		struct Eq_61 * ecx_136 = __rol(0x80000004, 0x05);
		cx_137 = (word16) ecx_136;
		if (*(edx_26 - 0x02) == (byte) ecx_136)
			;
		else
		{
			__rol(edi_31, 0x0E);
			ecx_136->dw994C85F6 = ecx_136->dw994C85F6 + 0x01;
l00401318:
			word16 si_72 = __rol(si_159, 0x06);
			word16 cx_77 = __ror(cx_137, 0x0F);
			struct Eq_118 * eax_79 = dwArg00;
			do
				eax_79 = eax_79 - 0x01;
			while (eax_79->t0000 != __rol(0x3000000C, 0x04));
			ptr32 esp_96;
			word32 edx_97;
			byte SZO_98;
			word32 esi_99;
			byte SCZO_100;
			byte C_101;
			word32 ecx_102;
			struct Eq_137 * fs_103;
			word32 eax_104;
			word32 edi_105;
			word32 ebp_106;
			word16 si_107;
			byte Z_108;
			byte al_109;
			word16 ax_110;
			word16 cx_111;
			byte cl_112;
			eax_79();
			*(esp_96 - 0x04) = 4199269;
			*(esp_96 - 0x08) = fs_103->ptr0000;
			fs_103->ptr0000 = esp_96 - 0x08;
		}
	}
}

