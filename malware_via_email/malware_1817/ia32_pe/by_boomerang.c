void proc2();
void _start();

// address: 0x4018f0
__size32 proc1(void *param1, void *param2, unsigned int param3, unsigned int param4) {
    unsigned int eax; 		// r24
    unsigned int eax_1; 		// r24{151}
    unsigned int eax_2; 		// r24{66}
    unsigned int eax_3; 		// r24{81}
    unsigned int eax_4; 		// r24{96}
    unsigned int ebp; 		// r29
    unsigned int ebx; 		// r27
    void *ebx_1; 		// r27
    unsigned int ebx_2; 		// r27{139}
    unsigned int ecx; 		// r25
    unsigned int edi; 		// r31
    void *edx; 		// r26
    unsigned int local0; 		// param4{159}
    unsigned int local1; 		// ecx{169}

    local0 = param4;
    if (param1 == param2) {
L1:
        param4 = local0;
        eax = 0;
        local1 = param4;
    } else {
        ecx = param3;
        local0 = ecx;
        if (param3 == 0) {
            goto L1;
        } else {
            ecx = param3 & 0x3;
            local0 = ecx;
            local0 = ecx;
            if (param3 / 4 <= 0) {
L8:
                ebx_1 = param1 + param3 / 4 * 4;
                edx = param2 + param3 / 4 * 4;
                if ((param3 & 0x3) == 0) {
                    goto L1;
                } else {
                    eax = 0;
                    do {
                        eax_1 = eax;
                        ebp = *(unsigned char*)(eax_1 + ebx_1);
                        edi = *(unsigned char*)(eax_1 + edx);
                        if (ebp != edi) {
                            ecx = *(unsigned char*)(eax_1 + ebx_1);
                            edx = *(unsigned char*)(eax_1 + edx);
                            eax = 1;
                            local1 = ecx;
                            if ((int)ecx <= edx) {
                                eax = -1;
                            }
                            goto L0;
                        }
                        eax = eax_1 + 1;
                    } while (eax_1 + 1 < (unsigned int)(param3 & 0x3));
                    goto L1;
                }
            } else {
                ebx = 0;
                do {
                    ebx_2 = ebx;
                    edi = *(param1 + ebx_2 * 4);
                    if (edi != *(param2 + ebx_2 * 4)) {
                        eax_2 = *(unsigned char*)(param1 + ebx_2 * 4);
                        ecx = *(unsigned char*)(param2 + ebx_2 * 4);
                        local1 = ecx;
                        if (eax_2 == ecx) {
                            eax_3 = *(unsigned char*)(param1 + ebx_2 * 4 + 1);
                            ecx = *(unsigned char*)(param2 + ebx_2 * 4 + 1);
                            local1 = ecx;
                            if (eax_3 == ecx) {
                                eax_4 = *(unsigned char*)(param1 + ebx_2 * 4 + 2);
                                ecx = *(unsigned char*)(param2 + ebx_2 * 4 + 2);
                                local1 = ecx;
                                if (eax_4 == ecx) {
                                    ecx = *(unsigned char*)(param1 + ebx_2 * 4 + 3);
                                    edx = *(unsigned char*)(param2 + ebx_2 * 4 + 3);
                                    eax = 1;
                                    local1 = ecx;
                                    if ((int)ecx <= edx) {
                                        eax = -1;
                                    }
                                    goto L0;
                                } else {
                                    eax = 1;
                                    if ((int)eax_4 <= (int)ecx) {
                                        eax = -1;
                                    }
                                    goto L0;
                                }
                                goto L0;
                            } else {
                                eax = 1;
                                if ((int)eax_3 <= (int)ecx) {
                                    eax = -1;
                                }
                                goto L0;
                            }
                            goto L0;
                        } else {
                            eax = 1;
                            if ((int)eax_2 <= (int)ecx) {
                                eax = -1;
                            }
                        }
                        goto L0;
                    }
                    ebx = ebx_2 + 1;
                } while (ebx_2 + 1 < param3 / 4);
                goto L8;
            }
        }
    }
L0:
    ecx = local1;
    return eax; /* WARNING: Also returning: ecx := ecx */
}

// address: 0x401550
void proc2() {
    __size32 eax; 		// r24
    __size32 eax_1; 		// r24{47}
    __size32 ecx; 		// r25
    __size32 edx; 		// r26

L-1:
    eax = 48;
L-1:
    eax_1 = eax;
    edx = *(eax_1 + 0x40206c);
    *(__size32*)(esp + eax_1 - 136) = edx;
    ecx = *(eax_1 + 0x402068);
    *(__size32*)(esp + eax_1 - 140) = ecx;
    edx = *(eax_1 + 0x402064);
    *(unsigned int*)(esp + eax_1 - 144) = edx;
    ecx = *(eax_1 + 0x402060);
    *(int*)(esp + eax_1 - 148) = ecx;
    eax = eax_1 - 16;
    if (eax_1 != 16) {
        goto L-1;
    }
L-1:
}

// address: 0x401000
void _start() {
    __size32 eax; 		// r24
    HMODULE eax_1; 		// r24{12}
    __size32 ebp; 		// r29
    void *ebx; 		// r27
    int ecx; 		// r25
    __size32 edi; 		// r31
    int edx; 		// r26
    __size32 esi; 		// r30
    __size32 esi_1; 		// r30{160}
    int esp; 		// r28
    __size32 local10; 		// m[esp - 0x848]
    HMODULE local11; 		// m[esp - 0x844]

L-1:
    eax_1 = GetModuleHandleA(); /* Warning: also results in ecx */
L-1:
    edi = *(eax_1 + 60);
    edx = *(unsigned short*)(eax_1 + edi + 6);
    ebx = edi + eax_1 + 248;
    flags = LOGICALFLAGS32(edx);
    if (edx <= 0) {
L-1:
        edi = *(eax_1 + 60);
        VirtualProtect();
L-1:
        eax = *(ebx + 12);
        *(__size32*)(eax_1 + edi + 136) = eax;
        edx = *(ebx + 8);
        *(__size32*)(eax_1 + edi + 140) = edx;
        eax = FindResourceA(eax_1, 311, "PIS");
L-1:
        eax = LoadResource(eax_1, eax);
L-1:
        eax = LockResource(eax);
L-1:
        eax = SizeofResource(eax_1, eax);
L-1:
        eax = FindResourceA(0, 312, "PIS");
L-1:
        eax = SizeofResource(0, eax);
L-1:
        eax = LoadResource(0, eax);
L-1:
        eax = LockResource(eax); /* Warning: also results in ecx, edx */
L-1:
        proc2(pc, pc, pc, pc, eax_1, eax, 4, (esp - 1040), local10, local11, ebp, eax, ecx, edx, eax, esp - 4, eax, eax, flags, ZF, CF);
    }
L-1:
    esi = 0;
L-1:
    esi_1 = esi;
    eax = proc1(ebx, 0x402230, 6, ecx); /* Warning: also results in ecx */
L-1:
    flags = LOGICALFLAGS32(eax);
    if (eax == 0) {
L-1:
        goto L-1;
    }
L-1:
    esi = esi_1 + 1;
    ebx += 40;
    flags = SUBFLAGS32(esi_1 + 1, edx, esi_1 - edx + 1);
    if (esi_1 + 1 < edx) {
        goto L-1;
    }
    goto L-1;
}

