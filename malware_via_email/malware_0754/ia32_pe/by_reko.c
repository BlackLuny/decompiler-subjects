// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: void fn00401000(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00401000(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem13[0x00404090:word32] = 0x0067083F >> (byte) (8035583 - dwLoc1C);
	GetTextFaceA(GetDC(GetDesktopWindow()), 0xFF, fp - 0x011C);
	word32 dwLoc0C_43 = 0x00;
	while (dwLoc0C_43 < dwArg0C)
	{
		Mem66[dwArg04 + dwLoc0C_43:byte] = Mem13[dwArg08 + dwLoc0C_43:byte];
		dwLoc0C_43 = dwLoc0C_43 + 0x01;
	}
	return;
}

// 004010C0: Register word32 fn004010C0(Register word32 ebp, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 fn004010C0(word32 ebp, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem12[0x00404094:word32] = 0x000D9B4B << (byte) Mem0[0x004040B0:word32];
	if (GetKeyboardType(0x00) <= 124007797)
	{
		if (dwArg0C >=u 0x01)
		{
			byte cl_62 = Mem12[dwArg04 + 0x00:byte];
			word32 dwLoc0C_104 = 0x01;
			word32 dwLoc1C_100 = 0x00;
			do
			{
				byte al_78 = Mem12[dwArg04 + dwLoc0C_104:byte];
				Mem88[0x004040C0:word32] = 0x00088CAE << (byte) (Mem12[0x004040D0:word32] - 0x00011F4B);
				word32 ecx_81 = dwLoc0C_104 + 0x01;
				dwLoc0C_104 = ecx_81;
				if ((word32) al_78 == (word32) cl_62)
				{
					if ((word32) Mem88[dwArg04 + ecx_81:byte] == 0x00)
					{
						Mem134[dwArg08 + dwLoc1C_100:byte] = cl_62;
						Mem142[0x004040C0:word32] = 169311 >> (byte) dwLoc38;
						dwLoc1C_100 = dwLoc1C_100 + 0x01;
						dwLoc0C_104 = ecx_81 + 0x01;
					}
					else
					{
						Mem155[0x0040408C:word32] = Mem88[0x004040BC:word32] *s 0x0008FD55 *s dwLoc10 << (byte) dwLoc28;
						word32 eax_166 = fn004012A0(fp - 0x14, dwArg04 + ecx_81) + ecx_81;
						Mem170[0x004040BC:word32] = Mem155[0x004040D0:word32] *s 1190;
						dwLoc0C_104 = fn004012A0(fp - 44, dwArg04 + eax_166) + eax_166;
						word32 dwLoc20_184 = 0x00;
						while (dwLoc20_184 <u dwLoc14)
						{
							Mem199[0x004040C0:word32] = Mem170[0x004040D0:word32] >> (byte) dwLoc38;
							Mem207[dwArg08 + dwLoc1C_100:byte] = Mem199[dwArg08 + (dwLoc1C_100 - dwLoc2C):byte];
							dwLoc1C_100 = dwLoc1C_100 + 0x01;
							dwLoc20_184 = dwLoc20_184 + 0x01;
						}
					}
				}
				else
				{
					Mem219[dwArg08 + dwLoc1C_100:byte] = al_78;
					dwLoc1C_100 = dwLoc1C_100 + 0x01;
					dwLoc38 = dwLoc24 - Mem219[0x00404098:word32] >> (byte) (Mem219[0x004040BC:word32] + dwLoc24);
				}
			} while (dwLoc0C_104 <u dwArg0C);
		}
		return ebp;
		return Mem12[ebp + 0x00:word32];
	}
	else
	{
		Mem19[0x004040B0:word32] = 0x02;
		ExitProcess(0x0581);
	}
}

// 004012A0: Register word32 fn004012A0(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn004012A0(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc0C_12 = 0x00;
	word32 dwLoc24_13 = 0x00;
	do
	{
		word32 ecx_16 = (word32) Mem0[dwArg08 + 0x00:byte];
		Mem37[0x004040D0:word32] = Mem0[0x00404098:word32] - dwLoc14 << ~0x7E;
		word32 ecx_32 = dwLoc0C_12 << 0x07 | ecx_16 & 0x7F;
		word32 ecx_39 = dwLoc24_13 + 0x01;
		dwArg08 = dwArg08 + 0x01;
		dwLoc0C_12 = ecx_32;
		dwLoc24_13 = ecx_39;
	} while ((ecx_16 & 0x80) != 0x00);
	Mem49[dwArg04 + 0x00:word32] = ecx_32;
	return ecx_39;
}

// 00401320: Register word32 fn00401320(Stack word32 dwArg04)
word32 fn00401320(word32 dwArg04)
{
	word32 eax_34;
	word32 eax_24 = CreateFileA(dwArg04, 0x80000000, 0x01, 0x00, 0x03, 0x80, 0x00);
	Mem31[0x0040408C:word32] = Mem0[0x004040C0:word32] - Mem0[0x004040C0:word32] - Mem0[0x004040D0:word32];
	if (eax_24 == ~0x00)
		eax_34 = 0x00;
	else
		eax_34 = eax_24;
	return eax_34;
}

// 00401380: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Mem17[0x0040408C:word32] = CreateDesktopA;
	Mem28[0x004040D0:word32] = Mem17[0x00404098:word32] - 0x00075C75;
	word32 eax_45 = dwLoc24 << ~0x2A >> ~0x79;
	word32 edx_41 = dwLoc24 - Mem28[0x0040408C:word32] << (byte) (374848 - dwLoc14 << 0x43) >> (byte) Mem28[0x004040C0:word32];
	Mem49[0x00404098:word32] = Mem28[0x004040D0:word32] + eax_45;
	Mem67[0x004040BC:word32] = Mem49[0x004040BC:word32] << (byte) (edx_41 *s edx_41 + 642669);
	word32 ecx_79 = Mem67[0x004040D0:word32] *s Mem67[0x004040C0:word32] *s 212554 + Mem67[0x004040C0:word32];
	word32 edx_85 = eax_45 >> (byte) Mem67[0x004040D0:word32];
	GetModuleHandleA(0x00);
	Mem98[0x00404098:word32] = Mem67[0x004040C0:word32] + Mem67[0x0040408C:word32] << (byte) Mem67[0x00404098:word32] << ~0x12;
	LoadIconA(GetModuleHandleA(0x00), 0x00404000);
	Mem116[0x004040C0:word32] = 0x000C7590 >> (byte) (Mem98[0x0040408C:word32] + 0x00020CA3) << 0x6B;
	LoadCursorA(0x00, 0x7F00);
	Mem128[0x004040D0:word32] = edx_85 >> (byte) Mem116[0x004040D0:word32];
	Mem139[0x004040BC:word32] = 953338 - edx_41 - edx_41;
	Mem148[0x004040D0:word32] = ecx_79 << (byte) ecx_79 << (byte) Mem139[0x004040C0:word32];
	word32 eax_152 = DPB(fp - 0x70, RegisterClassA(fp - 0x70), 0);
	word32 edx_133 = 174407 >> (byte) ecx_79;
	if ((word32) RegisterClassA(fp - 0x70) != 0x00)
	{
		if (dwArg08 != 0x01)
			Mem840[0x004040B8:word32] = 0x00;
		else
		{
			Mem841[0x004040B8:word32] = 0x01;
			Mem843[0x004040A0:word32] = dwArg04;
		}
		word32 dwLoc30_330;
		Mem294[0x004040C0:word32] = 0x00080768 - ecx_79 *s edx_41 - 525665;
		CreateWindowExA(0x00, 0x00404048, 0x00404038, 0x01, 0x1982, 1554, 136515, 18002, 0x00, 0x00, GetModuleHandleA(0x00), 0x00);
		Mem327[0x004040BC:word32] = InvalidateRect;
		if (Mem327[0x004040B8:word32] == 0x00)
			dwLoc30_330 = GetModuleHandleA(0x00);
		else
			dwLoc30_330 = dwArg04;
		Mem331[0x004040C0:word32] = 4204190;
		word32 edx_335 = dwLoc28 << (byte) Mem331[0x00404090:word32];
		if (GetKeyboardType(0x00) > 0x7787)
		{
			Mem344[0x00404094:word32] = edx_335;
			ExitProcess(884);
		}
		Mem352[0x0040408C:word32] = DrawTextW;
		word32 eax_355 = dwLoc30_330 + Mem352[dwLoc30_330 + 0x3C:word32];
		word32 eax_362 = DPB(eax_355, AddAtomA(0x00404060), 0);
		if ((word32) AddAtomA(0x00404060) == 0x00)
			ExitProcess(0x9314);
		Mem378[0x004040D0:word32] = IsDialogMessageW;
		word32 eax_388 = ((word32) Mem378[eax_355 + 0x06:word16] - 0x01) *s 0x28 + ((eax_355 + 0x18) + (word32) Mem378[eax_355 + 0x14:word16]);
		word32 eax_404 = (uint32) ((uint64) (uint32) (Mem378[eax_388 + 0x10:word32] - 0x01 + Mem378[eax_355 + 0x3C:word32]) /u Mem378[eax_355 + 0x3C:word32]) *s Mem378[eax_355 + 0x3C:word32] + Mem378[eax_388 + 0x14:word32];
		Mem408[0x004040BC:word32] = DestroyIcon;
		word32 eax_411 = fn004025F0(0x0200);
		if (eax_411 != 0x00)
		{
			Mem422[0x004040D0:word32] = SetScrollInfo;
			GetModuleFileNameA(dwLoc30_330, eax_411, 0x0200);
			if (false)
			{
				Mem446[0x004040B0:word32] = 0x6501AD56;
				ExitProcess(0x00412544);
			}
			word32 eax_455 = fn00401320(eax_411);
			if (eax_455 != 0x00)
			{
				word32 edx_469 = edx_133 *s 1154054400 >> (byte) Mem422[0x004040BC:word32];
				Mem472[0x004040BC:word32] = EnumPropsW;
				word32 eax_480 = GetFileSize(eax_455, 0x00) - eax_404;
				Mem485[0x0040408C:word32] = CreateAcceleratorTableW;
				if (eax_480 != 0x00)
				{
					word32 eax_496 = fn004025F0(eax_480 + 0x10);
					if (eax_496 != 0x00)
					{
						Mem513[0x004040D0:word32] = edx_469 >> 0x00 >> (byte) edx_469;
						SetFilePointer(eax_455, eax_404, 0x00, 0x00);
						if (ReadFile(eax_455, eax_496, eax_480, fp - 0x38, 0x00) != 0x00)
						{
							Mem551[0x004040D0:word32] = FindWindowExA;
							Mem554[0x004040D0:word32] = ecx_79 >> ~0x7B;
							CloseHandle(eax_455);
							Mem561[0x004040BC:word32] = DestroyWindow;
							if (dwLoc38 == eax_480)
							{
								if (GetSystemMetrics(0x50) != 0x00)
								{
									Mem581[0x0040408C:word32] = BroadcastSystemMessageA;
									word32 ecx_589 = edx_469 + Mem581[0x00404098:word32] - Mem581[0x004040C0:word32];
									GetTextFaceA(GetDC(GetDesktopWindow()), 0xFF, fp - 0x017C);
									if (false)
									{
										fn00401000(eax_496, eax_496 - 0x40 + eax_480, 0x40);
										word32 ecx_635 = Mem581[eax_496 + 0x00:word32];
										word32 eax_638 = Mem581[eax_496 + 0x04:word32];
										word32 dwLoc10_640 = 0x00;
										while (dwLoc10_640 <u ecx_635)
										{
											Mem653[0x004040D0:word32] = Mem581[0x0040408C:word32] *s 0x000666C5 << (byte) edx_469;
											Mem660[eax_496 + dwLoc10_640 + 0x08:word32] = Mem653[eax_496 + dwLoc10_640 + 0x08:word32] ^ 2222222222;
											Mem667[0x004040BC:word32] = 466094 << (byte) (Mem660[0x00404098:word32] + ecx_589);
											dwLoc10_640 = dwLoc10_640 + 0x08;
										}
										Mem677[0x004040B4:word32] = fn004025F0(eax_638);
										if (Mem677[0x004040B4:word32] != 0x00)
										{
											word32 ebp_693 = fn004010C0(fp - 0x04, eax_496 + 0x08, Mem677[0x004040B4:word32], ecx_635);
											Mem697[fp - 404 + 0x00:word32] = 4201260;
											Mem702[ebp_693 - 0x14 + 0x00:word32] = Mem697[0x0040408C:word32] + ~0x3CE9 + Mem697[0x00404098:word32] >> ~0x43;
											Mem705[ebp_693 - 0x0C + 0x00:word32] = Mem702[fp - 404 + 0x00:word32];
											Mem709[0x00404098:word32] = Mem705[0x004040BC:word32] - 594909 >> ~0x74;
											Mem712[0x004040C8:word32] = Mem709[fs:0x18:word32];
											Mem719[0x004040D0:word32] = Mem712[0x00404098:word32] + 781188 << (byte) Mem712[(ebp_693 - 0x14) + 0x00:word32] >> ~0x7B;
											Mem720[0x0040409C:word32] = edi;
											Mem721[0x00404088:word32] = esi;
											Mem722[0x004040AC:word32] = ebx;
											Mem728[ebp_693 - 0x08 + 0x00:word32] = 0x0008F703 >> (byte) (Mem722[(ebp_693 - 0x08) + 0x00:word32] - Mem722[0x00404098:word32]);
											Mem729[0x004040A4:word32] = ebp_693;
											Mem736[ebp_693 - 0x08 + 0x00:word32] = 0x0002D6F0 >> (byte) (Mem729[(ebp_693 - 0x08) + 0x00:word32] *s 0x00040671 - Mem729[0x004040C0:word32]);
											if (Mem736[0x004040B8:word32] != 0x00)
											{
												Mem818[fp - 404 + 0x00:word32] = Mem736[ebp_693 - 0x0C + 0x00:word32] - Mem736[0x004040A0:word32];
												fn00401C10(dwArg00);
											}
											else
											{
												Mem822[fp - 404 + 0x00:word32] = 0x00;
												Mem829[fp - 404 + 0x00:word32] = Mem822[ebp_693 - 0x0C + 0x00:word32] - GetModuleHandleA(Mem822[(fp - 404) + 0x00:LPCSTR]);
												fn00401C10(dwArg00);
											}
											Mem744[fp - 404 + 0x00:word32] = Mem736[0x004040B4:word32];
											if (fn00401E40(dwArg00) != 0x00)
											{
												Mem764[0x00404098:word32] = Mem744[ebp_693 - 0x14 + 0x00:word32] << (byte) (Mem744[(ebp_693 - 0x20) + 0x00:word32] + 215881);
												Mem771[0x004040BC:word32] = Mem764[ebp_693 - 0x08 + 0x00:word32] << (byte) (Mem764[0x00404098:word32] - Mem764[0x004040BC:word32]);
												Mem778[0x00404098:word32] = Mem771[0x00404098:word32] << (byte) Mem771[0x004040C0:word32] >> ~0x54;
												word32 eax_786 = 474822 >> (byte) Mem778[0x00404098:word32] >> (byte) Mem778[0x00404098:word32];
												Mem787[ebp_693 - 0x10 + 0x00:word32] = eax_786;
												word32 ecx_794 = Mem787[ebp_693 - 0x08 + 0x00:word32];
												byte cl_795 = (byte) ecx_794;
												word32 edx_796 = Mem787[0x00404098:word32] *s 701812 << (byte) Mem787[(ebp_693 - 0x08) + 0x00:word32] >> cl_795;
												Mem798[0x00404098:word32] = edx_796;
												word32 esp_799;
												word32 ebp_800;
												byte SCZO_801;
												word32 ebx_802;
												word32 esi_803;
												word32 edi_804;
												word32 eax_805;
												word32 edx_806;
												word32 ecx_807;
												byte cl_808;
												word16 ax_809;
												byte SZO_810;
												byte C_811;
												byte Z_812;
												selector fs_813;
												Mem798[0x004040CC:word32]();
												return eax_805;
											}
											else
											{
												Mem753[fp - 404 + 0x00:word32] = Mem744[0x004040B4:word32];
												fn004025B0(dwArg00);
												Mem757[fp - 404 + 0x00:word32] = 0x0195;
												ExitProcess(Mem757[fp - 404 + 0x00:UINT]);
											}
										}
										else
											ExitProcess(0x00038638);
									}
									else
										ExitProcess(9667734);
								}
								else
									ExitProcess(0x02426385);
							}
						}
					}
				}
			}
		}
	}
	return 0x00;
}

// 00401C10: void fn00401C10(Stack word32 dwArg04)
void fn00401C10(word32 dwArg04)
{
	word32 dwLoc34_17;
	if (Mem0[0x004040B8:word32] != 0x00)
		dwLoc34_17 = Mem0[0x004040A0:word32];
	else
		dwLoc34_17 = GetModuleHandleA(0x00);
	if (dwLoc34_17 != 0x00)
	{
		word32 eax_80 = dwLoc34_17 + Mem0[dwLoc34_17 + 0x3C:word32];
		Mem94[0x004040C4:word32] = VirtualAlloc(0x00, Mem0[eax_80 + 0x50:word32], 0x3000, 0x40);
		if (Mem94[0x004040C4:word32] != 0x00)
		{
			fn00401000(Mem94[0x004040C4:word32], dwLoc34_17, Mem94[eax_80 + 0x50:word32]);
			word32 ecx_113 = Mem94[0x004040C4:word32] - dwLoc34_17;
			if (Mem94[eax_80 + 0xA4:word32] != 0x00)
			{
				word32 dwLoc10_149 = dwLoc34_17 + Mem94[eax_80 + 0xA0:word32];
				while (Mem94[dwLoc10_149 + 0x04:word32] != 0x00)
				{
					word32 edx_171 = Mem94[dwLoc10_149 + 0x04:word32] - 0x08 >>u 0x01;
					Mem183[0x0040408C:word32] = Mem94[0x004040D0:word32] >> 0x5F;
					word32 ecx_178 = dwLoc10_149 + 0x08;
					word32 dwLoc0C_184 = 0x00;
					while (dwLoc0C_184 <u edx_171)
					{
						Mem198[0x004040BC:word32] = 166259 >> (byte) Mem183[0x00404098:word32];
						if ((word32) ecx_178[dwLoc0C_184 * 0x02] >> 0x0C == 0x03)
							Mem231[Mem198[0x004040C4:word32] + Mem198[dwLoc10_149 + 0x00:word32] + ((word32) ecx_178[dwLoc0C_184 * 0x02] & 0x0FFF):word32] = Mem198[Mem198[0x004040C4:word32] + Mem198[dwLoc10_149 + 0x00:word32] + ((word32) ecx_178[dwLoc0C_184 * 0x02] & 0x0FFF):word32] + ecx_113;
						dwLoc0C_184 = dwLoc0C_184 + 0x01;
					}
					dwLoc10_149 = dwLoc10_149 + Mem183[dwLoc10_149 + 0x04:word32];
				}
			}
			word32 eax_130 = dwArg04 + Mem94[0x004040C4:word32];
			word32 esp_134;
			word32 ebp_135;
			byte SCZO_136;
			word32 esi_137;
			word32 eax_138;
			byte Z_139;
			word32 ecx_140;
			byte SZO_141;
			byte C_142;
			word32 edx_143;
			byte cl_144;
			eax_130();
			return;
		}
	}
	return;
}

// 00401E40: Register word32 fn00401E40(Stack word32 dwArg04)
word32 fn00401E40(word32 dwArg04)
{
	word32 eax_279;
	word32 edx_16 = dwArg04 + Mem0[dwArg04 + 0x3C:word32];
	word32 dwLoc30_122 = edx_16 + 0x18 + (word32) Mem0[edx_16 + 0x14:word16];
	word32 eax_33 = VirtualAlloc(0x00, Mem0[edx_16 + 0x50:word32], 0x3000, 0x40);
	if (eax_33 == 0x00)
	{
		eax_279 = 0x00;
		return eax_279;
	}
	Mem96[0x004040D0:word32] = dwLoc48 - dwLoc14 + 735473;
	fn00401000(eax_33, dwArg04, Mem96[dwArg04 + 0x3C:word32] + 0x0138 + (word32) Mem96[edx_16 + 0x06:word16] *s 0x28);
	word32 dwLoc10_114 = 0x00;
	while (dwLoc10_114 <u (word32) Mem96[edx_16 + 0x06:word16])
	{
		if (Mem96[dwLoc30_122 + 0x14:word32] != 0x00 && Mem96[dwLoc30_122 + 0x10:word32] != 0x00)
			fn00401000(eax_33 + Mem96[dwLoc30_122 + 0x0C:word32], dwArg04 + Mem96[dwLoc30_122 + 0x14:word32], (uint32) ((uint64) (uint32) (Mem96[dwLoc30_122 + 0x10:word32] - 0x01 + Mem96[edx_16 + 0x3C:word32]) /u Mem96[edx_16 + 0x3C:word32]) *s Mem96[edx_16 + 0x3C:word32]);
		Mem150[0x0040408C:word32] = dwLoc08 << 0x49;
		dwLoc30_122 = dwLoc30_122 + 0x28;
		dwLoc10_114 = dwLoc10_114 + 0x01;
	}
	word32 edx_194 = eax_33 + Mem96[eax_33 + 0x3C:word32];
	word32 dwLoc5C_200 = eax_33 + Mem96[edx_194 + 0x80:word32];
	while (Mem96[dwLoc5C_200 + 0x10:word32] != 0x00)
	{
		word32 eax_223 = GetModuleHandleA(eax_33 + Mem96[dwLoc5C_200 + 0x0C:word32]);
		word32 dwLoc1C_225 = eax_223;
		if (eax_223 == 0x00)
		{
			if (Mem96[0x004040B8:word32] != 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
			word32 eax_357 = LoadLibraryA(eax_33 + Mem96[dwLoc5C_200 + 0x0C:word32]);
			Mem360[0x004040BC:word32] = 0x00;
			dwLoc1C_225 = eax_357;
			if (eax_357 == 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
		}
		word32 dwLoc44_238;
		word32 dwLoc2C_237;
		Mem233[0x004040D0:word32] = 0x00;
		if (Mem233[dwLoc5C_200 + 0x00:word32] != 0x00)
		{
			dwLoc2C_237 = eax_33 + Mem233[dwLoc5C_200 + 0x00:word32];
			dwLoc44_238 = eax_33 + Mem233[dwLoc5C_200 + 0x10:word32];
		}
		else
		{
			dwLoc2C_237 = eax_33 + Mem233[dwLoc5C_200 + 0x10:word32];
			dwLoc44_238 = eax_33 + Mem233[dwLoc5C_200 + 0x00:word32];
		}
		word32 dwLoc18_241 = 0x00;
		if (Mem233[dwLoc5C_200 + 0x10:word32] != 0x00 && Mem233[dwLoc5C_200 + 0x00:word32] != 0x00)
			dwLoc18_241 = 0x01;
		while (Mem233[dwLoc2C_237 + 0x00:word32] != 0x00)
		{
			if ((Mem233[dwLoc2C_237 + 0x00:word32] & 0x80000000) != 0x00)
				Mem310[dwLoc2C_237 + 0x00:word32] = GetProcAddress(dwLoc1C_225, Mem233[dwLoc2C_237 + 0x00:word32] & 0x7FFFFFFF);
			else
				Mem323[dwLoc2C_237 + 0x00:word32] = GetProcAddress(dwLoc1C_225, Mem233[dwLoc2C_237 + 0x00:word32] + 0x02 + eax_33);
			if (Mem233[dwLoc2C_237 + 0x00:word32] == 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
			if (dwLoc18_241 != 0x00)
				Mem296[dwLoc44_238 + 0x00:word32] = Mem233[dwLoc2C_237 + 0x00:word32];
			dwLoc2C_237 = dwLoc2C_237 + 0x04;
			dwLoc44_238 = dwLoc44_238 + 0x04;
		}
		dwLoc5C_200 = dwLoc5C_200 + 0x14;
	}
	if (Mem96[0x004040B8:word32] != 0x00)
	{
		word32 ecx_689 = Mem96[0x004040A0:word32] - Mem96[edx_194 + 0x34:word32];
		if (Mem96[edx_194 + 0xA4:word32] != 0x00)
		{
			word32 dwLoc20_698 = eax_33 + Mem96[edx_194 + 0xA0:word32];
			while (Mem96[dwLoc20_698 + 0x04:word32] != 0x00)
			{
				word32 ecx_713 = Mem96[dwLoc20_698 + 0x04:word32] - 0x08 >>u 0x01;
				word32 edx_716 = dwLoc20_698 + 0x08;
				word32 dwLoc10_719 = 0x00;
				while (dwLoc10_719 <u ecx_713)
				{
					Mem730[0x0040408C:word32] = dwLoc34 *s Mem96[0x004040C0:word32];
					if ((word32) edx_716[dwLoc10_719 * 0x02] >> 0x0C == 0x03)
						Mem763[eax_33 + Mem730[dwLoc20_698 + 0x00:word32] + ((word32) edx_716[dwLoc10_719 * 0x02] & 0x0FFF):word32] = Mem730[eax_33 + Mem730[dwLoc20_698 + 0x00:word32] + ((word32) edx_716[dwLoc10_719 * 0x02] & 0x0FFF):word32] + ecx_689;
					dwLoc10_719 = dwLoc10_719 + 0x01;
				}
				dwLoc20_698 = dwLoc20_698 + Mem96[dwLoc20_698 + 0x04:word32];
			}
		}
	}
	word32 eax_395 = CreateFileMappingA(~0x00, 0x00, 0x04, 0x00, Mem96[edx_194 + 0x50:word32], 0x00);
	if (eax_395 == 0x00)
	{
		eax_279 = 0x00;
		return eax_279;
	}
	Mem408[0x00404098:word32] = 857055 >> (byte) Mem96[0x00404098:word32];
	if (Mem408[0x004040B8:word32] != 0x00)
		Mem668[0x004040C4:word32] = MapViewOfFileEx(eax_395, 0x22, 0x00, 0x00, 0x00, Mem408[0x004040A0:word32]);
	else
		Mem686[0x004040C4:word32] = MapViewOfFileEx(eax_395, 0x22, 0x00, 0x00, 0x00, Mem408[edx_194 + 0x34:word32]);
	if (Mem408[0x004040C4:word32] == 0x00)
	{
		Mem487[0x00404098:word32] = dwLoc34 *s Mem408[0x004040BC:word32];
		if (Mem487[0x004040B8:word32] != 0x00)
		{
			if (UnmapViewOfFile(Mem487[0x004040A0:word32]) == 0x00 && VirtualFree(Mem487[0x004040A0:word32], 0x00, 0x8000) == 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
		}
		else if (UnmapViewOfFile(Mem487[edx_194 + 0x34:word32]) == 0x00 && VirtualFree(Mem487[edx_194 + 0x34:word32], 0x00, 0x8000) == 0x00)
		{
			eax_279 = 0x00;
			return eax_279;
		}
		if (Mem487[0x004040B8:word32] != 0x00)
			Mem574[0x004040C4:word32] = MapViewOfFileEx(eax_395, 0x22, 0x00, 0x00, 0x00, Mem487[0x004040A0:word32]);
		else
			Mem592[0x004040C4:word32] = MapViewOfFileEx(eax_395, 0x22, 0x00, 0x00, 0x00, Mem487[edx_194 + 0x34:word32]);
		if (Mem487[0x004040C4:word32] == 0x00)
		{
			if (Mem487[0x004040B8:word32] != 0x00)
				Mem542[0x004040C4:word32] = VirtualAlloc(Mem487[0x004040A0:word32], Mem487[edx_194 + 0x50:word32], 0x3000, 0x40);
			else
				Mem557[0x004040C4:word32] = VirtualAlloc(Mem487[edx_194 + 0x34:word32], Mem487[edx_194 + 0x50:word32], 0x3000, 0x40);
			if (Mem487[0x004040C4:word32] == 0x00)
			{
				eax_279 = 0x00;
				return eax_279;
			}
		}
	}
	Mem431[0x004040C0:word32] = Mem408[0x004040BC:word32] >> ~0x47;
	fn00401000(Mem431[0x004040C4:word32], eax_33, Mem431[edx_194 + 0x50:word32]);
	if (Mem431[0x004040B8:word32] != 0x00)
		fn00402440(Mem431[0x004040A0:word32], Mem431[0x004040C4:word32] + Mem431[edx_194 + 0x28:word32]);
	else
		fn00402540(Mem431[0x004040C4:word32]);
	Mem458[0x004040CC:word32] = Mem431[0x004040C4:word32] + Mem431[edx_194 + 0x28:word32];
	Mem461[edx_194 + 0x28:word32] = Mem458[0x004040CC:word32];
	Mem465[0x004040C0:word32] = dwLoc14 + 618225 + Mem461[0x004040BC:word32];
	eax_279 = 0x01;
	return eax_279;
}

// 00402440: void fn00402440(Stack word32 dwArg04, Stack word32 dwArg08)
void fn00402440(word32 dwArg04, word32 dwArg08)
{
	word32 eax_16 = Mem0[Mem0[Mem0[0x004040C8:word32] + 0x30:word32] + 0x0C:word32];
	Mem20[0x004040BC:word32] = Mem0[0x004040D0:word32] *s 604095;
	word32 edx_22 = Mem20[eax_16 + 0x0C:word32];
	Mem32[0x004040D0:word32] = 104064 << (byte) dwLoc08;
	word32 dwLoc1C_101 = edx_22;
	if (0x01 != 0x00)
	{
		if (dwLoc1C_101 == 0x00)
			return;
		if (Mem32[dwLoc1C_101 + 0x18:word32] == dwArg04)
		{
			Mem85[dwLoc1C_101 + 0x1C:word32] = dwArg08;
			return;
		}
		word32 ecx_100 = Mem32[dwLoc1C_101 + 0x00:word32];
		dwLoc1C_101 = ecx_100;
		if (ecx_100 != edx_22)
			goto l0040249F;
	}
	return;
}

// 00402540: void fn00402540(Stack word32 dwArg04)
void fn00402540(word32 dwArg04)
{
	Mem12[0x0040408C:word32] = Mem0[0x00404098:word32] *s 466522 + dwLoc08;
	Mem40[Mem12[Mem12[0x004040C8:word32] + 0x30:word32] + 0x08:word32] = dwArg04;
	return;
}

// 004025B0: void fn004025B0(Stack word32 dwArg04)
void fn004025B0(word32 dwArg04)
{
	Mem15[0x00404098:word32] = Mem0[0x0040408C:word32] << (byte) dwLoc10;
	HeapFree(GetProcessHeap(), 0x00, dwArg04);
	return;
}

// 004025F0: Register word32 fn004025F0(Stack word32 dwArg04)
word32 fn004025F0(word32 dwArg04)
{
	word32 eax_8 = GetDesktopWindow();
	Mem26[0x004040C0:word32] = dwLoc18 *s 0x000B600B << (byte) (Mem0[0x00404098:word32] - dwLoc24);
	GetWindowTextA(eax_8, fp - 300, 200);
	Mem42[0x004040C0:word32] = dwLoc10 - Mem26[0x004040D0:word32] - dwLoc10 + 999084;
	word32 eax_52 = HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
	Mem60[0x0040408C:word32] = dwLoc14 - dwLoc08 *s Mem42[0x0040408C:word32];
	return eax_52;
}

