// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00402188: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	struct Eq_3 * esp_1 = fp;
	Eq_5 eax_2 = 4422360;
l00402189:
	struct Eq_182 * esp_55 = esp_1 - (struct Eq_183 *) 0x04;
	esp_55->dw0000 = (word32) eax_2;
	(esp_55 - (struct Eq_191 *) 0x04)->dw0000 = (word32) fs->t0000;
	fs->t0000 = esp_55 - (struct Eq_191 *) 0x04;
	null = (union Eq_5 *) ecx;
	(byte *) 100 = (byte *) 100 + dl;
	(esp_55 - (struct Eq_209 *) 0x08)->dw0000 = null;
	fs->t0000 = esp_55 - (struct Eq_209 *) 0x08;
	null = (union Eq_5 *) ecx;
	struct Eq_8 * esp_107 = esp_55 - (struct Eq_209 *) 0x08;
	Eq_5 eax_102 = 0x00;
	char al_409 = 0x00;
l0040219F:
	*eax_102 = (word32) *eax_102 + al_409;
	*eax_102 = (word32) *eax_102 + al_409;
	*eax_102 = (word32) *eax_102 + al_409;
	*eax_102 = (word32) *eax_102 + al_409;
	*eax_102 = (word32) *eax_102 + al_409;
	*(ebx - 118) = *(ebx - 118) + bl;
	uint32 ecx_120 = ecx - 0x01;
	*eax_102 = (word32) *eax_102 + al_409;
	*eax_102 = (word32) *eax_102 + al_409;
	*eax_102 = (word32) *eax_102 + al_409;
	*eax_102 = (word32) *eax_102 + al_409;
	*eax_102 = (word32) *eax_102 + al_409;
	*(ebx - 118) = *(ebx - 118) + bl;
	ecx = ecx_120 - 0x01;
	if (ecx_120 != 0x01)
	{
		*(esp_107 - 0x02) = (union Eq_5 *) ebx;
		word32 esp_611;
		word32 eax_612;
		struct Eq_16 * fs_613;
		byte SZO_614;
		byte C_615;
		word32 ecx_616;
		byte al_617;
		byte SCZO_618;
		word32 ebx_619;
		byte bl_620;
		word32 esi_621;
		byte Z_622;
		word16 bx_623;
		word32 edi_624;
		word32 ebp_625;
		byte CZ_626;
		byte FPUF_627;
		byte dl_628;
		word32 edx_629;
		struct Eq_33 * es_630;
		byte dh_631;
		byte ah_632;
		byte SCZDOP_633;
		word16 dx_634;
		byte D_635;
		word16 ax_636;
		struct Eq_40 * cs_637;
		struct Eq_41 * ds_638;
		byte cl_639;
		byte bh_640;
		struct Eq_44 * ss_641;
		byte S_642;
		byte SO_643;
		fn9B36B1C7();
		return eax_612;
	}
	ui32 eax_177 = (word32) (int64) DPB(eax_102, esi->t0000, 0);
	word16 bx_178;
	__arpl(bx, bx, &bx_178);
	*((word32) ebp + 99) = *((word32) ebp + 99) | ecx_120 - 0x01;
	struct Eq_74 * esi_175 = (char *) &esi->t0000 + 0x01;
	struct Eq_77 * edi_182 = (word32) edi + 0x04;
	struct Eq_3 * esp_188 = esp_107 + 0x01;
	ui32 eax_195 = (word32) (int64) DPB(eax_177 | 2825773386, esi_175->b0004, 0);
	word16 bx_200;
	__arpl(bx_178, bx_178, &bx_200);
	*((word32) ebp + 99) = *((word32) ebp + 99) | ecx_120 - 0x01;
	esi = esi_175 + 0x09;
	eax_102 = eax_195 | 2825773386;
	ci8 al_210 = (byte) (eax_195 | 2825773386);
	if (esp_188 <= (struct Eq_3 *) 0x01)
		return eax_102;
	edi = &edi_182->b82B6F0CE + 2101940028;
	if (al_210 > 227)
	{
		esi_175->b0029 = 0x1E;
		esi_175->b0029 = 0x1E;
		__outb(0x8E, al_210);
		return eax_102;
	}
	Mem297[esi_175 + 0x84:word32] = Mem206[esi_175 + 0x84:word32] & esi_175 + 0x09;
	ebx = (word32) ebx + 0x01;
	esp_1 = esp_188;
	bl = (byte) ebx;
	bx = (word16) ebx;
	eax_2.u0 = 0x60869F1E;
	Eq_5 edx_291 = eax_195 | 2825773386;
	dl = (byte) (eax_195 | 2825773386);
	word16 dx_295 = (word16) (eax_195 | 2825773386);
	if (true)
		goto l00402189;
	(esp_188 - (struct Eq_157 *) 0x04)->dw0000 = (word32) (eax_195 | 2825773386);
	bl = (byte) (ebx - 0x01);
	*((word32) ebx + 0x79573303) = *((word32) ebx + 0x79573303) & bl;
	edi = edi_182 + 0x09;
	ebx = ebx - 0x01;
	bx = (word16) (ebx - 0x01);
	byte bh_309 = SLICE(ebx - 0x01, byte, 8);
	if (ecx_120 == 0x02)
		return 0x60869F1C;
	bool C_411;
	eax_102 = __indw(dx_295);
	*(ebx - 0x01) = *(ebx - 0x01) - (eax_195 | 2825773386);
	byte al_323 = (byte) eax_102;
	edi_182->b82B6F0CE = al_323;
	(esp_188 - (struct Eq_241 *) 0x03)->dw0000 = (word32) ebp;
	ebp = (esp_188 - (struct Eq_241 *) 0x03)->dw0000;
	word32 esp_338 = esp_188 + 0x01;
	ecx = ecx_120 - 0x02;
	byte cl_340 = (byte) (ecx_120 - 0x02);
	if (ecx_120 <= 0x02)
	{
		Mem506[ebp + 403532204 + (edi_182 + 0x09):byte] = Mem334[ebp + 403532204 + (edi_182 + 0x09):byte] & bh_309;
l00402085:
		byte al_521 = __inb(dx_295);
		__bound(edx_291, (word32 *) 4008049066);
		__outb(dx_295, al_521);
		esp_338 = esp_338 - (struct Eq_512 *) 0x04;
		esp_338->dw0000 = (word32) ss;
		__wait();
		al_409 = (byte) edi_644;
		cu8 v64_533 = (word32) *((word32) (ebp - 0x66) + edi_644 * 0x08) + al_409;
		*((word32) (ebp - 0x66) + edi_644 * 0x08) = v64_533;
		Eq_5 eax_522 = DPB(eax_102, al_521, 0);
		dl = (byte) (v64_533 < 0x00) + ((word32) (*edi_644) + dl);
		eax_102 = edi_644;
		edi = eax_522;
		edx_291 = DPB(edx_291, dl, 0);
		dx_295 = DPB(dx_295, dl, 0);
		C_411 = cond(dl);
		ebp = *((word32) ebp + 0x004B);
		if (dl >= 0x00)
		{
			bl = 0x8E;
			ebx = DPB(ebx, 0x8E, 0);
			bx = DPB(bx, 0x8E, 0);
			edi.u0 = 560647424;
			Eq_5 edi_644 = edi;
			if (dl >= 0x00)
				goto l00402085;
			Mem593[esp_338 + 0x00:word32] = esp_338 + 0x04;
			(esp_338 - (struct Eq_555 *) 0x04)->dw0000 = (word32) es;
			(esp_338 - (struct Eq_555 *) 0x04)->dw0000 = (word32) ((esp_338 - (struct Eq_555 *) 0x04)->dw0000 | 0xA8);
			return (word32) edi_644 - 533650067;
		}
		else
		{
			ecx.u0 = 1840049319;
			cl_340 = ~0x58;
			if (dl == 0x00 && true)
				goto l004020BE;
			(esp_338 - (struct Eq_406 *) 0x04)->dw0000 = (word32) eax_522;
			esp_107 = esp_338 - (struct Eq_406 *) 0x04;
			esi = esi_175 + 0x0A;
			if (esi_175 >= (struct Eq_74 *) 0x09)
				goto l0040210F;
			if (esi_175 < (struct Eq_74 *) 0x0A)
				goto l00402100;
			*edx_291 = (word32) *edx_291 + bl + (dl < 0x00);
			(esp_338 - (struct Eq_457 *) 0x08)->dw0000 = (word32) edi_644;
			(esp_338 - (struct Eq_463 *) 0x0C)->dw0000 = 1840049319;
			(esp_338 - (struct Eq_468 *) 0x10)->dw0000 = (word32) edx_291;
			(esp_338 - (struct Eq_473 *) 0x14)->dw0000 = (word32) ebx;
			(esp_338 - (struct Eq_479 *) 0x18)->dw0000 = (word32) (esp_338 - (struct Eq_406 *) 0x04);
			(esp_338 - (struct Eq_484 *) 0x1C)->dw0000 = (word32) ebp;
			Mem579[esp_338 - 0x20 + 0x00:word32] = esi_175 + 0x0A;
			(esp_338 - (struct Eq_495 *) 0x24)->dw0000 = (word32) eax_522;
			int3();
		}
	}
	else
	{
		if (ecx_120 != 0x02)
			(byte *) 0xC26B7028 = (byte *) ((byte *) 0xC26B7028 - cl_340);
		Eq_5 eax_464 = DPB(eax_102, __aam(al_323), 0);
		C_411 = cond(ebx - 0x01 - *(ebp - 0x14));
		(esp_188 - (struct Eq_290 *) 0x03)->dw0000 = (word32) eax_464;
		(esp_188 - (struct Eq_296 *) 0x07)->dw0000 = (word32) (ecx_120 - 0x02);
		(esp_188 - (struct Eq_302 *) 11)->dw0000 = (word32) (eax_195 | 2825773386);
		(esp_188 - (struct Eq_308 *) 0x0F)->dw0000 = (word32) (ebx - 0x01);
		Mem477[esp_188 - 0x13 + 0x00:word32] = esp_188 + 0x01;
		(esp_188 - (struct Eq_319 *) 0x17)->dw0000 = (word32) ebp;
		Mem481[esp_188 - 0x1B + 0x00:word32] = esi_175 + 0x09;
		Mem483[esp_188 - 0x1F + 0x00:word32] = edi_182 + 0x09;
		eax_102 = __indw(dx_295);
		al_409 = (byte) eax_102;
		__outb(eax_195 | 2825773386, al_409);
		(esp_188 - (struct Eq_343 *) 0x23)->dw0000 = (word32) cs;
		(eax_195 | 2825773386)->dw4E6352 = (eax_195 | 2825773386)->dw4E6352 - 0x01;
		esi = esi_175 + 0x08 + 0x01;
		esp_107 = esp_188 - (struct Eq_343 *) 0x23;
		if (!C_411)
		{
			word32 esi_423 = esi + 0x00;
			__outb(0x3C, esi_423->t0000);
			esp_107 = esp_107 + 0x01;
			esi = esi_423 - (struct Eq_388 *) 0x01;
l0040210F:
			word32 esp_381 = esp_107 + 0x02 + Mem334[DPB(ebx, bl ^ cl_340, 0) + 0x5B0FB2F0:word32];
			*(esi->t0000 - 66) = cl_340;
			byte al_387;
			__das((byte) (esi - (struct Eq_435 *) 0x04), &al_387);
			(esp_381 - (struct Eq_440 *) 0x04)->dw0000 = (word32) ecx;
		}
		Eq_54 v72_427 = -(esi - (struct Eq_364 *) 100)->t0000;
		(esi - (struct Eq_370 *) 100)->t0000 = v72_427;
		if (v72_427 <= 0x00)
			goto l0040219F;
		cu8 v73_432 = *(edx_291 - 0x56) + bh_309;
		*(edx_291 - 0x56) = v73_432;
		__frstor(*(ebp - 0x46));
		if (v73_432 < 0x00)
			return eax_102;
	}
}

