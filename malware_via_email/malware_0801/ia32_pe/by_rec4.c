L00401020(intOrPtr _a4, _unknown_ _a8, intOrPtr _a12)
{
    _unknown_ __ebp;

     *4223020 = 0;
    while(1) {
        __ecx =  *4223020;
        if(__ecx >= _a12) {
            break;
        }
         *(_a4 +  *4223020) = __ecx & 4294967295;
         *4223020 =  *4223020 + 1;
    }
    return;
}

L00401270(_unknown_ __ecx, struct HINSTANCE__* _a4, CHAR* _a8)
{
    _Unknown_base(*)()* _v8;
    _unknown_ __ebp;

    _push(__ecx);
    _v8 = GetProcAddress(_a4, _a8);
    return _v8;
}

L00401290(void* _a4)
{
    _Unknown_base(*)()* _v8;
    void* _v12;
    signed int _v16;
    intOrPtr _v20;
    void* _v24;
    signed int _v28;
    void* _v32;
    void* _v36;
    signed int* _v40;
    intOrPtr _v44;
    unsigned int _v48;
    void* _v52;
    signed int* _v56;
    _Unknown_base(*)()* _v60;
    void* _v64;
    intOrPtr _v68;
    void* _v72;
    void* _v76;
    signed int* _v80;
    _unknown_ __esi;
    _unknown_ __ebp;
    void* _t217;
    void* _t218;
    void* _t219;
    _unknown_ _t223;
    void* _t225;
    void* _t226;
    void* _t228;
    _unknown_ _t229;
    _unknown_ _t230;
    signed int _t234;
    signed int* _t242;
    signed int _t247;
    _unknown_ _t250;
    signed int _t252;
    _unknown_ _t254;
    _unknown_ _t263;
    void* _t290;
    _unknown_ _t301;
    intOrPtr _t312;
    void* _t327;
    intOrPtr _t375;
    _unknown_ _t377;
    _unknown_ _t378;

    _v76 = _a4;
    _v64 = _a4 + _v76[0xf];
    _v44 = _v64 + (_v64[5] & 65535) + 24;
    _v52 = VirtualAlloc(0, _v64[0x14], 12288, 64);
    __eflags = _v52;
    if(_v52 == 0) {
        return ;
    }
    L00401020(_v52, _a4, _v76[0xf] + (_v64[1] & 65535) * (_v64[1] & 65535) + 312);
    _push("UnmapViewOfFile");
    _push(GetModuleHandleA("kernel32.dll"));
    _v60 = GetProcAddress();
    _push("CreateFileMappingA");
    _push(GetModuleHandleA("kernel32.dll"));
    _v8 = GetProcAddress();
    _v16 = 0;
    while(1) {
        _t327 = _v64;
        __eflags = _v16 - (_t327[1] & 65535);
        if(_v16 >= (_t327[1] & 65535)) {
            break;
        } else {
            _t312 = _v44;
            __eflags =  *(_t312 + 20);
            if( *(_t312 + 20) != 0) {
                _t375 = _v44;
                __eflags =  *(_t375 + 16);
                if( *(_t375 + 16) != 0) {
                    L00401020(_v52 +  *((intOrPtr*)(_v44 + 12)), _a4 +  *((intOrPtr*)(_v44 + 20)), ( *((intOrPtr*)(_v44 + 16)) + _v64[0xf] - 1) / _v64[0xf] * _v64[0xf]);
                }
            }
            _v44 = _v44 + 40;
            _v16 = 1 + _v16;
            continue;
        }
    }
    _v76 = _v52;
    _v64 = _v76 + _v76[0xf];
    _push(0);
    _t217 = _v64[0x14];
    _push(_t217);
    _push(0);
    _push(4);
    _push(0);
    _push(255);
    _v8();
    _v12 = _t217;
    __eflags = _v12;
    if(_v12 == 0) {
        return ;
    }
    _v80 = _v52 + _v64[0x20];
    while(1) {
        _t218 = _v80;
        __eflags = _t218[4];
        if(_t218[4] == 0) {
            break;
        }
        LoadLibraryA(_v52 + _v80[3]);
        _v32 = _t218;
        __eflags =  *_v80;
        if( *_v80 == 0) {
            _v40 = _v52 + _v80[4];
            _v56 = _v52 +  *_v80;
        } else {
            _v40 = _v52 +  *_v80;
            _v56 = _v52 + _v80[4];
        }
        _v28 = 0;
        _t242 = _v80;
        __eflags = _t242[4];
        if(_t242[4] != 0) {
            __eflags =  *_v80;
            if( *_v80 != 0) {
                _v28 = 1;
            }
        }
        while(1) {
            __eflags =  *_v40;
            if(__eflags == 0) {
                break;
            }
            if(__eflags == 0) {
                _t247 =  &(_v52[0]) +  *_v40;
                L00401270(_v32, _v32, _t247);
                 *_v40 = _t247;
            } else {
                _t252 =  *_v40 & 2147483647;
                L00401270(_v32, _v32, _t252);
                 *_v40 = _t252;
            }
            __eflags =  *_v40;
            if( *_v40 == 0) {
                return ;
            }
            __eflags = _v28;
            if(_v28 != 0) {
                 *_v56 =  *_v40;
            }
            _v40 =  &(_v40[1]);
            _v56 =  &(_v56[1]);
        }
        _v80 =  &(_v80[5]);
    }
    __eflags =  *4223044;
    if( *4223044 == 0) {
L40:
        GetModuleHandleA("MapViewOfFileEx");
        _push(_t218);
        GetProcAddress();
        _v24 = _t218;
        __eflags =  *4223044;
        if( *4223044 == 0) {
            _push(_v64[0xd]);
            _push(0);
            _push(0);
            _push(0);
            _push(34);
            _t219 = _v12;
            _push(_t219);
            _v24();
             *4223012 = _t219;
        } else {
            _push( *4223028);
            _push(0);
            _push(0);
            _push(0);
            _push(34);
            _t219 = _v12;
            _push(_t219);
            _v24();
             *4223012 = _t219;
        }
        __eflags =  *4223012;
        if( *4223012 == 0) {
            __eflags =  *4223044;
            if( *4223044 == 0) {
                _t219 = _v64;
                _push(_t219[0xd]);
                _v60();
                __eflags = _t219;
                if(_t219 == 0) {
                    _push(32768);
                    _push(0);
                    _t219 = _v64[0xd];
                    _push(_t219);
                    _v20();
                    __eflags = _t219;
                    if(_t219 == 0) {
                        return ;
                    }
                }
            } else {
                _push( *4223028);
                _v60();
                __eflags = _t219;
                if(_t219 == 0) {
                    _push(32768);
                    _push(0);
                    _push( *4223028);
                    _v20();
                    __eflags = _t219;
                    if(_t219 == 0) {
                        return ;
                    }
                }
            }
            __eflags =  *4223044;
            if( *4223044 == 0) {
                _t225 = _v64;
                _push(_t225[0xd]);
                _push(0);
                _push(0);
                _push(0);
                _push(34);
                _push(_v12);
                _v24();
                 *4223012 = _t225;
            } else {
                _push( *4223028);
                _push(0);
                _push(0);
                _push(0);
                _push(34);
                _push(_v12);
                _v24();
                 *4223012 = _t219;
            }
            __eflags =  *4223012;
            if( *4223012 == 0) {
                __eflags =  *4223044;
                if( *4223044 != 0) {
                    _push(64);
                    _push(12288);
                    _push(_v64[0x14]);
                    _t226 =  *4223028;
                    _push(_t226);
                    VirtualAlloc();
                     *4223012 = _t226;
                } else {
                    _push(64);
                    _push(12288);
                    _push(_v64[0x14]);
                    _t228 = _v64[0xd];
                    _push(_t228);
                    VirtualAlloc();
                     *4223012 = _t228;
                }
            }
        }
        CloseHandle(_v12);
        L00401020( *4223012, _v52, _v64[0x14]);
        __eflags =  *4223044;
        if( *4223044 == 0) {
            L004019B0( *4223012);
        } else {
            L004017C0( *4223028,  *4223012 + _v64[0xa]);
        }
         *4223052 =  *4223012 + _v64[0xa];
        _v64[0xa] =  *4223052;
        return;
    }
    _v68 =  *4223028 - _v64[0xd];
    _t218 = _v64;
    __eflags = _t218[0x29];
    if(_t218[0x29] == 0) {
        goto L40;
    }
    _v36 = _v76 + _v64[0x28];
    while(1) {
        _t218 = _v36;
        __eflags = _t218[1];
        if(_t218[1] == 0) {
            break;
        }
        _v48 = _v36[1] - 8 >> 1;
        _v72 =  &(_v36[2]);
        _v16 = 0;
        while(1) {
            __eflags = _v16 - _v48;
            if(_v16 >= _v48) {
                break;
            }
            _t234 = _v16;
            _t290 = _v72;
            __eflags = ( *(_t290 + _t234 * 2) & 65535) >> 12 - 3;
            if(( *(_t290 + _t234 * 2) & 65535) >> 12 == 3) {
                 *((intOrPtr*)(_v52 +  *_v36 + ( *(_v72 + _v16 * 2) & 65535 & 4095))) =  *((intOrPtr*)(_v52 +  *_v36 + ( *(_v72 + _v16 * 2) & 65535 & 4095))) + _v68;
            }
            _v16 = 1 + _v16;
        }
        _v36 = _v36 + _v36[1];
    }
    goto L40;
}

L004017C0(intOrPtr _a4, intOrPtr _a8)
{
    intOrPtr _v8;
    intOrPtr* _v12;
    intOrPtr _v16;
    _unknown_ __ebp;
    _unknown_ _t20;
    _unknown_ _t21;
    _unknown_ _t23;
    _unknown_ _t25;
    _unknown_ _t26;
    _unknown_ _t27;
    _unknown_ _t28;

    _v16 =  *ds:ecx+0xc];
    _v12 =  *((intOrPtr*)(_v16 + 12));
    _v8 = _v12;
    while(1 != 0) {
        if(_v12 == 0) {
            return 0;
        }
        if( *((intOrPtr*)(_v12 + 24)) != _a4) {
            _v12 =  *_v12;
            if(_v12 == _v8) {
                return 0;
            }
            continue;
        }
         *((intOrPtr*)(_v12 + 28)) = _a8;
        return 1;
    }
}

L00401830(long _a4)
{
    void* _v12;
    _unknown_ __ebp;

    _v12 = 1;
    _v12 = VirtualAlloc(0, _a4, 12288, 4);
    return _v12;
}

L00401860(_unknown_ _a4, intOrPtr _a8)
{
    signed int _v8;
    intOrPtr* _v12;
    unsigned int _v16;
    void* _v20;
    intOrPtr _v24;
    intOrPtr _v28;
    intOrPtr _v32;
    _unknown_ __esi;
    _unknown_ __ebp;
    _unknown_ _t70;
    _unknown_ _t95;
    _unknown_ _t99;

    if( *4223044 == 0) {
        _v32 = _a8;
    } else {
        _v32 =  *4223028;
    }
    _v20 = _v32 +  *((intOrPtr*)(_v32 + 60));
     *4223012 = VirtualAlloc(0, _v20[0x14], 12288, 64);
    if( *4223012 == 0) {
        return 2;
    }
    _push(_v20[0x14]);
    _push(_v32);
    _t59 =  *4223012;
    _push( *4223012);
    L00401020();
    __esp = __esp + 12;
    _v24 =  *4223012 - _v32;
    if(_v20[0x29] == 0) {
        goto __edx;
    }
    _t59 = _v20;
    _v12 = _v32 + _v20[0x28];
    while( *((intOrPtr*)(_v12 + 4)) != 0) {
        _v16 =  *((intOrPtr*)(_v12 + 4)) - 8 >> 1;
        _v28 = _v12 + 8;
        _v8 = 0;
        while(_v8 < _v16) {
            if(( *(_v28 + _v8 * 2) & 65535) >> 12 == 3) {
                 *((intOrPtr*)( *4223012 +  *_v12 + ( *(_v28 + _v8 * 2) & 65535 & 4095))) =  *((intOrPtr*)( *4223012 +  *_v12 + ( *(_v28 + _v8 * 2) & 65535 & 4095))) + _v24;
            }
            _v8 = _v8 + 1;
        }
    }
}

L004019B0(intOrPtr _a4)
{
    _unknown_ __ebp;
    _unknown_ _t2;
    _unknown_ _t4;
    _unknown_ _t5;

     *ds:eax+0x8] = _a4;
    return  *ds:edx+eax+0xfffffcfb];
}

L004019E0(_unknown_ __eax, signed int __ecx, signed int _a4, _unknown_ _a8, _unknown_ _a12)
{
    signed char _v5;
    intOrPtr _v12;
    _unknown_ _v16;
    signed char _v17;
    intOrPtr _v24;
    _unknown_ _v28;
    _unknown_ _v32;
    _unknown_ __ebp;
    _unknown_ _t61;
    signed int _t62;
    _unknown_ _t73;
    intOrPtr _t80;
    _unknown_ _t82;

    _v12 = 1;
    _t62 = _a4;
    _v17 = __ecx & 4294967295;
    _v24 = 0;
    while(1) {
        _v5 = _t62 & 4294967295;
        _t80 = _v12 + 1;
        _v12 = _t80;
        if((_v5 & 255) != (_v17 & 255)) {
            goto L9;
        } else {
            goto L2;
        }
    }
}

L00401AE0(_unknown_ __eflags, signed int* _a4, signed char* _a8)
{
    signed int _v8;
    signed int _v12;
    signed int _v16;
    signed int _v20;
    _unknown_ __ebp;
    _unknown_ _t22;

    __eflags = __eflags;
    _v8 = 0;
    _v16 = 0;
    while(1) {
L1:
        _v12 =  *_a8 & 255;
        _a8 =  &(_a8[1]);
        _v20 = _v8 << 7;
        _v8 = _v12 & 127 | _v20;
        _v16 = _v16 + 1;
        if(__eflags == 0) {
            break;
        }
    }
     *_a4 = _v8;
    return _v16;
}

L00401AE0(_unknown_ __eflags, signed int* _a4, signed char* _a8)
{
    signed int _v8;
    signed int _v12;
    signed int _v16;
    signed int _v20;
    _unknown_ __ebp;
    _unknown_ _t22;

    __eflags = __eflags;
    _v8 = 0;
    _v16 = 0;
    while(1) {
L1:
        _v12 =  *_a8 & 255;
        _a8 =  &(_a8[1]);
        _v20 = _v8 << 7;
        _v8 = _v12 & 127 | _v20;
        _v16 = _v16 + 1;
        if(__eflags == 0) {
            break;
        }
    }
     *_a4 = _v8;
    return _v16;
}

// Statistics:
//      41 Register nodes
//      73 Temporaries nodes
//      13 Casts
//     313 Statements
//       4 Labels
//       4 Gotos
//       9 Blocks
//    1233 Nodes
//       0 Assembly nodes
//      47 Unknown Types


