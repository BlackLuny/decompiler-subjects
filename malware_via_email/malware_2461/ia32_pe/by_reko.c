// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00413423: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	Eq_2 eax_21 = SwitchDesktop(tArg00);
	if (eax_21 == 0x00)
		eax_21 = fn0041344D((byte) GetPrivateProfileIntW(fp, fp, 0xF8, fp), 0xF8);
	return eax_21;
}

// 0041344D: Register word32 fn0041344D(Register byte bl, Stack word32 dwArg00)
word32 fn0041344D(byte bl, word32 dwArg00)
{
fn0041344D_entry:
	byte * esi_23 = dwArg00 + 0xC0
	Eq_32 edi_24 = VirtualAlloc(0x00, 0x0001423F, 0x3000, 0x40)
	word32 ecx_25 = 0x01E3
	word32 * esp_26 = fp - 0x04
	Eq_50 edx_32 = DPB(4206565804, bl + 0xAC, 0)
	word32 ebp_105 = 0x00
	goto l004134AE
l0041344D:
l004134AE:
	union Eq_50 * esp_46 = esp_26 - 0x04
	*esp_46 = (union Eq_50 *) edx_32
	Mem51[edi_24 + 0x00:byte] = Mem47[edi_24 + 0x00:byte] + (Mem47[esi_23 + 0x00:byte] + Mem47[esp_46 + 0x00:byte])
	word32 ebp_60 = ebp_105 + 0x000B1B02
	Eq_50 edx_52 = *esp_46
	esp_26 = (word32 *) ((char *) esp_46 + 0x04)
	esi_23 = esi_23 + 0x01
	edi_24 = edi_24 + 0x01
	ebp_105 = ebp_60 - 0x000B1B01
	uint32 edx_103 = edx_52 >> 0x08
	byte dl_104 = (byte) (edx_52 >> 0x08)
	branch 0x04 != ebp_60 - 0x000B1B01 l004134F4
l004134E8:
	edx_103 = 4206565804
	dl_104 = 0xAC
	ebp_105 = 0x00
l004134F4:
	byte dl_77 = dl_104 + bl
	edx_32 = DPB(edx_103, dl_77, 0)
	ecx_25 = ecx_25 - 0x01
	branch ecx_25 != 0x00 l004134AE
l004134FD:
	<anonymous> * eax_83 = *esp_26
	word32 eax_87
	byte SCZO_88
	byte bh_96
	byte Z_97
	byte SZO_98
	byte C_99
	eax_83()
	branch false l004134F4
l00413509:
	return eax_87
fn0041344D_exit:
}

