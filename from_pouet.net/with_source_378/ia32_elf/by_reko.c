// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08048470: void SDL_PauseAudio()
void SDL_PauseAudio()
{
	word32 esp_3;
	globals->ptr804AB00();
	return;
}

// 08048480: void SDL_GetTicks()
void SDL_GetTicks()
{
	word32 esp_3;
	globals->ptr804AB04();
	return;
}

// 08048490: void SDL_OpenAudio()
void SDL_OpenAudio()
{
	word32 esp_3;
	globals->ptr804AB08();
	return;
}

// 080484A0: void SDL_GL_SwapBuffers()
void SDL_GL_SwapBuffers()
{
	word32 esp_3;
	globals->ptr804AB0C();
	return;
}

// 080484B0: void SDL_Init()
void SDL_Init()
{
	word32 esp_3;
	globals->ptr804AB10();
	return;
}

// 080484C0: void SDL_PollEvent()
void SDL_PollEvent()
{
	word32 esp_3;
	globals->ptr804AB14();
	return;
}

// 080484D0: void SDL_ShowCursor()
void SDL_ShowCursor()
{
	word32 esp_3;
	globals->ptr804AB18();
	return;
}

// 080484E0: void SDL_SetVideoMode()
void SDL_SetVideoMode()
{
	word32 esp_3;
	globals->ptr804AB1C();
	return;
}

// 080484F0: void dlopen()
void dlopen()
{
	word32 esp_3;
	globals->ptr804AB20();
	return;
}

// 08048714: Register ptr32 fn08048714(Register out ptr32 ebpOut)
ptr32 fn08048714(ptr32 & ebpOut)
{
	ptr32 esp_112 = fp - 0x20;
	cu16 * esi_27 = &globals->w804A6B8;
	word16 * edi_28 = &globals->w804A6A0;
	word32 ecx_29 = 0x3C;
	do
	{
		*edi_28 = *esi_27 >> 0x01;
		esi_27 = esi_27 - 0x02;
		edi_28 = edi_28 - 0x02;
		ecx_29 = ecx_29 - 0x01;
	} while (ecx_29 != 0x00);
	struct Eq_57 * edi_42 = globals->a804AB70;
	ui32 ebx_105 = 0x00;
	word32 ecx_107 = 0x00010000;
	do
	{
		word32 eax_137 = 0x7FFF;
		if (((byte) (uint32) ((int64) (ebx_105 * 0x02) /u 0xA8) & 0x01) != 0x00)
			eax_137 = -0x7FFF;
		edi_42->dw0000 = eax_137;
		edi_42 = edi_42 + 0x01;
		edi_42[0x0001FFFF] = (struct Eq_57) ((uint32) ((int64) ((uint32) ((int64) ebx_105 % 0xA8) << 0x10) /u 0xA8) - 0x8000);
		edi_42[0x0002FFFF] = (struct Eq_57) ((fn0804890C() & 0xFFFF) - 0x8000);
		real64 rLoc1_96 = globals->r804A71E;
		rLoc2 = sin(rLoc2) * globals->r804A726;
		globals->dw804A712 = (int32) rLoc2;
		globals->r804A71E = rLoc1_96 + globals->r804A716;
		edi_42[0x0000FFFF] = (struct Eq_57) globals->dw804A712;
		ebx_105 = ebx_105 + 0x01;
		ecx_107 = ecx_107 - 0x01;
	} while (ecx_107 != 0x00);
	struct Eq_136 * ebp_108 = &globals->t804A200;
	word32 ecx_109 = 0x09;
	do
	{
		*(esp_112 - 0x04) = ecx_109;
		struct Eq_145 * esp_115 = fn080487CB(ebp_108);
		word32 ecx_118 = esp_115->dw0000;
		ebp_108 = &ebp_108->dw001C + 0x01;
		esp_112 = &esp_115->dw0000 + 0x01;
		ecx_109 = ecx_118 - 0x01;
	} while (ecx_118 != 0x01);
	word32 ebp_125;
	*ebpOut = esp_115->dw000C;
	return &esp_115->dw000C + 0x06;
}

// 080487CB: Register ptr32 fn080487CB(Register (ptr Eq_136) ebp)
ptr32 fn080487CB(Eq_136 * ebp)
{
	globals->dw804AB40 = 0x00;
	globals->dw804AB44 = 0x00;
	globals->dw804AB48 = 0x00;
	globals->dw804AB4C = 0x00;
	globals->dw804AB50 = 0x00;
	globals->dw804AB60 = 0x00;
	globals->dw804AB64 = 0x00010000;
	globals->dw804AB68 = (int32) ((int64) (ebp->dw001C << 0x10) / 0x00029040);
	word32 eax_24 = ebp->dw0018;
	if (eax_24 != 0x00)
	{
		Eq_211 edx_eax_67 = (int64) eax_24;
		globals->dw804AB40 = (uint32) (edx_eax_67 /u 0x67);
		globals->dw804AB44 = (word32) ((uint32) (edx_eax_67 % 0x67) * 41698711);
	}
	else
		globals->dw804AB48 = 0x2A;
	Eq_226 ecx_37 = ebp->t0008;
	int32 (* esi_35)[] = (ebp->dw0004 << 0x12) + 0x0804AB70;
	word32 * edi_43 = fn0804888C((uint32) (0x00200000 /u ecx_37), ecx_37, esi_35, (ebp->dw0000 << 0x12) + 0x082CAB70);
	globals->t804AB54 = -globals->t804AB54;
	word32 * edi_55 = fn0804888C(0x00, ebp->t0010, esi_35, fn08048891(ebp->t000C, esi_35, edi_43));
	Eq_226 ecx_56 = ebp->t0014;
	fn0804888C(-(int32) ((int64) globals->dw804AB50 / ecx_56), ecx_56, esi_35, edi_55);
	return fp + 0x04;
}

// 0804888C: Register (ptr word32) fn0804888C(Register Eq_241 eax, Register Eq_226 ecx, Register (ptr (arr int32)) esi, Register (ptr word32) edi)
word32 * fn0804888C(Eq_241 eax, Eq_226 ecx, int32 * esi[], word32 * edi)
{
	globals->t804AB54 = eax;
	return fn08048891(ecx, esi, edi);
}

// 08048891: Register (ptr word32) fn08048891(Register Eq_226 ecx, Register (arr int32) esi, Register (ptr word32) edi)
word32 * fn08048891(Eq_226 ecx, int32 esi[], word32 * edi)
{
	if (ecx != 0x00)
	{
		globals->dw804AB60 = globals->dw804AB60 + globals->dw804AB64;
		globals->dw804AB64 = globals->dw804AB64 + globals->dw804AB68;
		*edi = (word32) (((word32) ((globals->dw804AB50 >> 0x0A) *s esi[globals->dw804AB60 >> 0x10]) >> 11) *s ((globals->a808AB70)[(globals->dw804AB48 & 0xFFFF) * 0x04] >> 0x04)) >> 0x0C;
		globals->dw804AB50 = (word32) globals->t804AB54 + globals->dw804AB50;
		uint32 v17_60 = globals->dw804AB4C + globals->dw804AB44;
		globals->dw804AB4C = v17_60;
		globals->dw804AB48 = (ui32) ((byte) (v17_60 < 0x00) + (globals->dw804AB48 + globals->dw804AB40));
		edi = edi + 0x01;
		ecx = ecx - 0x01;
		if (ecx != 0x00)
			goto l08048891;
		return edi;
	}
	else
		return edi;
}

// 0804890C: Register word32 fn0804890C()
word32 fn0804890C()
{
	word32 eax_8 = __ror(globals->dw804A626 + 4078404302 ^ 4078404302, 0x01);
	globals->dw804A626 = eax_8;
	return eax_8;
}

// 08048930: void fn08048930()
void fn08048930()
{
	word32 * ebp_2;
	ptr32 esp_3 = fn08048714(out ebp_2);
	*(esp_3 - 0x04) = 0x31;
	SDL_Init();
	*(esp_3 - 0x08) = 0x00;
	*(esp_3 - 0x0C) = 0x0804A734;
	SDL_OpenAudio();
	*(esp_3 - 0x10) = 0x80000003;
	*(esp_3 - 0x14) = 0x20;
	*(esp_3 - 0x18) = 0x01E0;
	*(esp_3 - 0x1C) = 0x0280;
	SDL_SetVideoMode();
	fn080491C0();
	*(esp_3 - 0x20) = 0x00;
	SDL_ShowCursor();
	SDL_PauseAudio();
	SDL_GetTicks();
	globals->dw87CABE8 = 0x00;
	word32 eax_133 = 0x00;
	ptr32 esp_136 = esp_3 - 0x20;
l08048983:
	SDL_GetTicks();
	*(esp_136 - 0x04) = eax_133 - globals->dw87CABE8;
	word32 edi_56;
	word32 * esp_57 = fn08048E99(ebp_2, dwArg00, out ebp_2, out edi_56);
	SDL_GL_SwapBuffers();
	if (globals->b804A74C == 0x00)
	{
		*esp_57 = 142388204;
		SDL_PollEvent();
		eax_133 = *esp_57;
		esp_136 = esp_57 + 0x01;
		if (globals->b87CABEC != 0x02)
			goto l08048983;
	}
	ptr32 esp_62;
	word32 eax_63;
	byte SZO_64;
	byte C_65;
	byte al_66;
	word16 ax_67;
	byte SCZO_68;
	byte Z_69;
	word32 ebx_70;
	word32 esi_71;
	word16 cx_72;
	word16 edi_73[];
	word32 edx_75;
	byte S_76;
	byte SO_77;
	word32 ebp_78;
	word32 ecx_74;
	SDL_GetTicks();
	__syscall(0x80);
	int32 esi_108 = 0x00;
	int32 ebx_109 = 0x00;
	do
	{
		word16 cx_92 = edi_73[ebx_109];
		ecx_74 = DPB(ecx_74, cx_92, 0);
		*(esp_62 - 0x04) = ecx_74;
		globals->a87D55E0[ebx_109 * 0x04] = (real32) ((real64) *(esp_62 - 0x04) * globals->t804A8C8);
		int32 edx_100 = (int32) cx_92;
		if (edx_100 < 0x00)
			edx_100 = -edx_100;
		if (edx_100 >= esi_108)
			esi_108 = edx_100;
		ebx_109 = ebx_109 + 0x01;
	} while (ebx_109 <= 0x03FF);
	*(esp_62 - 0x04) = esi_108;
	globals->t87D55C0 = (real32) ((real64) *(esp_62 - 0x04) * globals->t804A8CC + (real64) globals->r804A8D0 * globals->t87D55C0);
	if (globals->dw87D55C4 > 0x2F)
		globals->t87D55C0.u0 = 0x00;
	return;
}

// 08048A31: void fn08048A31(Stack real32 rArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn08048A31(real32 rArg04, word32 dwArg08, word32 dwArg0C)
{
	int32 eax_107 = 0x00;
	do
	{
		real64 rLoc1_18 = (real64) rArg04;
		real64 rLoc3_23 = (real64) rArg04;
		real64 rLoc1_20 = (rLoc1_18 + rLoc1_18) * rArg04;
		real64 rLoc3_24 = rLoc3_23 * rLoc3_23;
		Eq_612 rLoc6_68 = globals->t87D4848 + 1.0;
		real32 rLoc08_25 = (real32) rLoc3_24;
		real64 rLoc4_59 = 1.0 - globals->t87D4848;
		Eq_624 rLoc3_57 = globals->t87D484C + 1.0;
		real64 rLoc7_70 = rLoc6_68 * rLoc6_68;
		real32 rLoc0C_55 = (real32) (1.0 - globals->t87D4844);
		real64 rLoc2_22 = (real64) rArg04 * rLoc1_20;
		real64 rLoc2_80 = ((real64) rLoc08_25 * rArg04 - rLoc1_20 + rArg04) * ((rLoc7_70 + (rLoc4_59 * rLoc3_57) * ((real64) ((dwArg08->a000C))[eax_107].t0000 - dwArg08[(eax_107 * 0x04) / 0x0024])) * (real64) rLoc0C_55);
		rLoc5 = (real64) rLoc0C_55;
		dwArg0C[eax_107] = (real32) ((real64) globals->t804A8DC * rLoc2_80 * (((rArg04 - 1.0) * (real64) rLoc08_25) * (((((real64) ((dwArg08->a0018))[eax_107].t0000 - ((dwArg08->a000C))[eax_107].t0000) * rLoc7_70) * (rLoc6_68 * rLoc3_57) + ((1.0 - globals->t87D484C) * (real32) rLoc4_59) * ((real64) (dwArg08->a0024)[eax_107] - ((dwArg08->a0018))[eax_107].t0000)) * rLoc5)) + (rLoc2_80 + ((rLoc2_22 + 1.0) * ((dwArg08->a000C))[eax_107].t0000 + ((rLoc2_22 - rLoc3_24 * globals->t804A8D4) + rLoc5 * globals->t804A8D8) * ((dwArg08->a0018))[eax_107].t0000)));
		eax_107 = eax_107 + 0x01;
	} while (eax_107 <= 0x01);
	return;
}

// 08048B1E: void fn08048B1E(Stack real32 rArg04)
void fn08048B1E(real32 rArg04)
{
	int32 esi_108 = 0x00;
	uint32 dwLoc14_113 = 0x00;
	do
	{
		int32 edi_109 = 0x00;
		do
		{
			ui32 ebx_59 = dwLoc14_113 * 0x03;
			real64 rLoc1_69 = (real64) globals->r804A8E0 * (real64) edi_109;
			fn08048A31((real32) rLoc1_69, (ebx_59 << 0x02) + 0x0804A800, 142428260);
			real32 rLoc18_70 = (real32) rLoc1_69;
			fn08048A31(rLoc18_70, (ebx_59 << 0x02) + 0x0804A860, 142428272);
			int32 edx_82 = 0x00;
			do
			{
				Eq_749 rLoc2_152 = (real64) rArg04 * (globals->a87D4870)[edx_82];
				globals->a87D48A0[(esi_108 * 0x03 + edx_82) * 0x04] = (real32) ((globals->r804A8E4 - (real64) rArg04) * (globals->a87D4864)[edx_82 * 0x04] + rLoc2_152);
				edx_82 = edx_82 + 0x01;
			} while (edx_82 <= 0x02);
			globals->a87D48A8[esi_108 * 0x03 * 0x04] = (real32) (sin((real64) globals->r804A8E8 * (real64) esi_108) * globals->t804A8EC);
			esi_108 = esi_108 + 0x01;
			edi_109 = edi_109 + 0x01;
		} while (edi_109 <= 0x0F);
		uint32 v15_112 = dwLoc14_113 + 0x01;
		dwLoc14_113 = v15_112;
	} while (v15_112 <= 0x03);
	int32 dwLoc14_116 = 0x00;
	if (0x00 < esi_108 - 0x01)
	{
		do
		{
			ui32 ebx_155 = dwLoc14_116 * 0x03;
			globals->r87D487C = (real32) ((real64) globals->a87D48B4[ebx_155 * 0x04] - (globals->a87D48A8)[ebx_155 * 0x04]);
			globals->r87D4880 = (real32) ((real64) globals->a87D48A0[ebx_155 * 0x04] - (globals->a87D48AC)[ebx_155]);
			globals->r87D4884 = (real32) ((real64) globals->a87D48B0[ebx_155 * 0x04] - (globals->a87D48A4)[ebx_155]);
			real64 rLoc4_170 = (real64) globals->r804A8F0;
			real64 rLoc3_169 = (real64) globals->r87D55C8;
			real64 rLoc4_178 = sin(rLoc2_152 * globals->t804A8DC + rLoc4_170 * rLoc4_170) * globals->t87D55C0;
			real64 rLoc5_180 = rLoc4_170 * globals->t804A8F4;
			globals->a87D48A4[ebx_155] = (struct Eq_1867) (real32) (rLoc4_170 * (rLoc5_180 * rLoc4_178) + (globals->a87D48A4)[ebx_155]);
			real64 rLoc2_205 = rLoc5_180 + 1.0 + (real64) dwLoc14_116;
			globals->a87D48A8[ebx_155 * 0x04] = (real32) (sin((rLoc5_180 + 1.0) * globals->t804A8F8 + rLoc3_169 * globals->t804A8FC) * globals->t87D55C0 * rLoc2_205 * globals->t804A900 + (globals->a87D48A8)[ebx_155 * 0x04]);
			word32 esp_214;
			word32 ebp_215;
			word32 edi_216;
			word32 esi_217;
			word32 ebx_218;
			byte SCZO_219;
			byte SZO_220;
			byte C_221;
			word32 eax_222;
			word32 edx_223;
			byte CZ_224;
			byte SO_225;
			word32 ecx_226;
			globals->ptr87D558C();
			word32 esp_228;
			word32 ebp_229;
			word32 edi_230;
			word32 esi_231;
			word32 ebx_232;
			byte SCZO_233;
			byte SZO_234;
			byte C_235;
			word32 eax_236;
			word32 edx_237;
			byte CZ_238;
			byte SO_239;
			word32 ecx_240;
			globals->ptr87D558C();
			word32 esp_242;
			word32 ebp_243;
			word32 edi_244;
			word32 esi_245;
			word32 ebx_246;
			byte SCZO_247;
			byte SZO_248;
			byte C_249;
			word32 eax_250;
			word32 edx_251;
			byte CZ_252;
			byte SO_253;
			word32 ecx_254;
			globals->ptr87D558C();
			word32 esp_264;
			word32 ebp_265;
			word32 edi_266;
			word32 esi_267;
			word32 ebx_268;
			byte SCZO_269;
			byte SZO_270;
			byte C_271;
			word32 eax_272;
			word32 edx_273;
			byte CZ_274;
			byte SO_275;
			word32 ecx_276;
			globals->ptr87D5580();
			word32 esp_278;
			word32 ebp_279;
			word32 edi_280;
			word32 esi_281;
			word32 ebx_282;
			byte SCZO_283;
			byte SZO_284;
			byte C_285;
			word32 eax_286;
			word32 edx_287;
			byte CZ_288;
			byte SO_289;
			word32 ecx_290;
			globals->ptr87D5598();
			word32 esp_292;
			word32 ebp_293;
			word32 edi_294;
			word32 esi_295;
			word32 ebx_296;
			byte SCZO_297;
			byte SZO_298;
			byte C_299;
			word32 eax_300;
			word32 edx_301;
			byte CZ_302;
			byte SO_303;
			word32 ecx_304;
			globals->ptr87D5564();
			word32 esp_321;
			word32 ebp_322;
			word32 edi_323;
			word32 esi_324;
			word32 ebx_325;
			byte SCZO_326;
			byte SZO_327;
			byte C_328;
			word32 eax_329;
			word32 edx_330;
			byte CZ_331;
			byte SO_332;
			word32 ecx_333;
			globals->ptr87D556C();
			word32 esp_350;
			word32 ebp_351;
			word32 edi_352;
			word32 esi_353;
			word32 ebx_354;
			byte SCZO_355;
			byte SZO_356;
			byte C_357;
			word32 eax_358;
			word32 edx_359;
			byte CZ_360;
			byte SO_361;
			word32 ecx_362;
			globals->ptr87D556C();
			word32 esp_376;
			word32 ebp_377;
			word32 edi_378;
			word32 esi_379;
			word32 ebx_380;
			byte SCZO_381;
			byte SZO_382;
			byte C_383;
			word32 eax_384;
			word32 edx_385;
			byte CZ_386;
			byte SO_387;
			word32 ecx_388;
			globals->ptr87D556C();
			word32 esp_402;
			word32 ebp_403;
			word32 edi_404;
			word32 esi_405;
			word32 ebx_406;
			byte SCZO_407;
			byte SZO_408;
			byte C_409;
			word32 eax_410;
			word32 edx_411;
			byte CZ_412;
			byte SO_413;
			word32 ecx_414;
			globals->ptr87D556C();
			word32 esp_415;
			word32 ebp_416;
			word32 edi_417;
			word32 esi_418;
			word32 ebx_419;
			byte SCZO_420;
			byte SZO_421;
			byte C_422;
			word32 eax_423;
			word32 edx_424;
			byte CZ_425;
			byte SO_426;
			word32 ecx_427;
			globals->ptr87D5568();
			word32 esp_437;
			word32 ebp_438;
			word32 edi_439;
			word32 esi_440;
			word32 ebx_441;
			byte SCZO_442;
			byte SZO_443;
			byte C_444;
			word32 eax_445;
			word32 edx_446;
			byte CZ_447;
			byte SO_448;
			word32 ecx_449;
			globals->ptr87D5580();
			word32 esp_451;
			word32 ebp_452;
			word32 edi_453;
			word32 esi_454;
			word32 ebx_455;
			byte SCZO_456;
			byte SZO_457;
			byte C_458;
			word32 eax_459;
			word32 edx_460;
			byte CZ_461;
			byte SO_462;
			word32 ecx_463;
			globals->ptr87D5590();
			word32 esp_465;
			word32 ebp_466;
			word32 edi_467;
			word32 esi_468;
			word32 ebx_469;
			byte SCZO_470;
			byte SZO_471;
			byte C_472;
			word32 eax_473;
			word32 edx_474;
			byte CZ_475;
			byte SO_476;
			word32 ecx_477;
			globals->ptr87D5564();
			word32 esp_494;
			word32 ebp_495;
			word32 edi_496;
			word32 esi_497;
			word32 ebx_498;
			byte SCZO_499;
			byte SZO_500;
			byte C_501;
			word32 eax_502;
			word32 edx_503;
			byte CZ_504;
			byte SO_505;
			word32 ecx_506;
			globals->ptr87D556C();
			word32 esp_523;
			word32 ebp_524;
			word32 edi_525;
			word32 esi_526;
			word32 ebx_527;
			byte SCZO_528;
			byte SZO_529;
			byte C_530;
			word32 eax_531;
			word32 edx_532;
			byte CZ_533;
			byte SO_534;
			word32 ecx_535;
			globals->ptr87D556C();
			word32 esp_549;
			word32 ebp_550;
			word32 edi_551;
			word32 esi_552;
			word32 ebx_553;
			byte SCZO_554;
			byte SZO_555;
			byte C_556;
			word32 eax_557;
			word32 edx_558;
			byte CZ_559;
			byte SO_560;
			word32 ecx_561;
			globals->ptr87D556C();
			word32 esp_575;
			word32 ebp_576;
			word32 edi_577;
			word32 esi_578;
			word32 ebx_579;
			byte SCZO_580;
			byte SZO_581;
			byte C_582;
			word32 eax_583;
			word32 edx_584;
			byte CZ_585;
			byte SO_586;
			word32 ecx_587;
			globals->ptr87D556C();
			word32 esp_588;
			word32 ebp_589;
			word32 edi_590;
			int32 esi_591;
			word32 ebx_592;
			byte SCZO_593;
			byte SZO_594;
			byte C_595;
			word32 eax_596;
			word32 edx_597;
			byte CZ_598;
			byte SO_599;
			word32 ecx_600;
			globals->ptr87D5568();
			int32 v40_602 = dwLoc14_116 + 0x01;
			rLoc2_152 = rLoc2_205 * globals->t804A904 * globals->t804A908;
			dwLoc14_116 = v40_602;
		} while (v40_602 < esi_591 - 0x01);
	}
	return;
}

// 08048E99: Register ptr32 fn08048E99(Register (ptr word32) ebp, Stack word32 dwArg04, Register out ptr32 ebpOut, Register out ptr32 ediOut)
ptr32 fn08048E99(word32 * ebp, word32 dwArg04, ptr32 & ebpOut, ptr32 & ediOut)
{
	globals->r87D55C8 = (real32) (real64) dwArg04;
	real64 rLoc1_26 = ((real64) globals->r804A914 * (real64) globals->dw804A72E - globals->t804A918) * globals->t804A91C;
	uint16 wLoc12_27 = __fstcw();
	uint16 ax_30 = DPB(wLoc12_27, 0x0C, 8);
	__fldcw(ax_30);
	globals->dw87D55C4 = (int32) rLoc1_26;
	__fldcw(wLoc12_27);
	if (globals->dw87D55C4 > 0x3A)
		globals->b804A74C = 0x01;
	real64 rLoc1_38 = (real64) globals->r804A920 * (real64) dwArg04;
	__fldcw(ax_30);
	__fldcw(wLoc12_27);
	int32 dwLoc18_40 = (int32) rLoc1_38;
	if (dwLoc18_40 != globals->dw804A8B4)
	{
		globals->dw804A8B4 = dwLoc18_40;
		struct Eq_1322 * ebx_120 = null;
		do
		{
			int32 eax_125 = (int32) ebx_694->a804A769[ebx_694].b0000;
			if (globals->dw87D55C4 < eax_125)
			{
				struct Eq_1329 * ecx_670 = (struct Eq_1329 *) 0x01;
				do
				{
					globals->a87D4840[ecx_670 * 0x04] = (real32) ((real64) globals->r804A924 * (real64) (globals->a87D4840)[ecx_670 * 0x04] + (real64) ((int16) ((ecx_670->a804A760))[ebx_694].b0000) * globals->t804A928);
					ecx_670 = (struct Eq_1329 *) ((char *) ecx_670 + 0x01);
				} while (ecx_670 <= (struct Eq_1329 *) 0x09);
				break;
			}
			ebx_120 = (struct Eq_1322 *) ((char *) ebx_694 + 0x01);
			struct Eq_1322 * ebx_694 = ebx_120;
		} while (ebx_120 <= (struct Eq_1322 *) 0x0F);
		word32 esp_139;
		word32 ebp_140;
		word32 edi_141;
		word32 esi_142;
		word32 ebx_143;
		byte SCZO_144;
		word16 ax_145;
		byte ah_146;
		byte SZO_147;
		word32 eax_148;
		byte Z_149;
		byte C_150;
		byte SO_151;
		word32 ecx_152;
		word32 edx_153;
		byte CZ_154;
		globals->ptr87D5578();
		word32 esp_156;
		word32 ebp_157;
		word32 edi_158;
		word32 esi_159;
		word32 ebx_160;
		byte SCZO_161;
		word16 ax_162;
		byte ah_163;
		byte SZO_164;
		word32 eax_165;
		byte Z_166;
		byte C_167;
		byte SO_168;
		word32 ecx_169;
		word32 edx_170;
		byte CZ_171;
		globals->ptr87D557C();
		word32 esp_173;
		word32 ebp_174;
		word32 edi_175;
		word32 esi_176;
		word32 ebx_177;
		byte SCZO_178;
		word16 ax_179;
		byte ah_180;
		byte SZO_181;
		word32 eax_182;
		byte Z_183;
		byte C_184;
		byte SO_185;
		word32 ecx_186;
		word32 edx_187;
		byte CZ_188;
		globals->ptr87D5570();
		word32 esp_189;
		word32 ebp_190;
		word32 edi_191;
		word32 esi_192;
		word32 ebx_193;
		byte SCZO_194;
		word16 ax_195;
		byte ah_196;
		byte SZO_197;
		word32 eax_198;
		byte Z_199;
		byte C_200;
		byte SO_201;
		word32 ecx_202;
		word32 edx_203;
		byte CZ_204;
		globals->ptr87D5574();
		word32 esp_231;
		word32 ebp_232;
		word32 edi_233;
		word32 esi_234;
		word32 ebx_235;
		byte SCZO_236;
		word16 ax_237;
		byte ah_238;
		byte SZO_239;
		word32 eax_240;
		byte Z_241;
		byte C_242;
		byte SO_243;
		word32 ecx_244;
		word32 edx_245;
		byte CZ_246;
		globals->ptr87D55A0();
		word32 esp_251;
		word32 ebp_252;
		word32 edi_253;
		word32 esi_254;
		word32 ebx_255;
		byte SCZO_256;
		word16 ax_257;
		byte ah_258;
		byte SZO_259;
		word32 eax_260;
		byte Z_261;
		byte C_262;
		byte SO_263;
		word32 ecx_264;
		word32 edx_265;
		byte CZ_266;
		globals->ptr87D5570();
		word32 esp_267;
		word32 ebp_268;
		word32 edi_269;
		word32 esi_270;
		word32 ebx_271;
		byte SCZO_272;
		word16 ax_273;
		byte ah_274;
		byte SZO_275;
		word32 eax_276;
		byte Z_277;
		byte C_278;
		byte SO_279;
		word32 ecx_280;
		word32 edx_281;
		byte CZ_282;
		globals->ptr87D5574();
		word32 esp_293;
		word32 ebp_294;
		word32 edi_295;
		word32 esi_296;
		word32 ebx_297;
		byte SCZO_298;
		word16 ax_299;
		byte ah_300;
		byte SZO_301;
		word32 eax_302;
		byte Z_303;
		byte C_304;
		byte SO_305;
		word32 ecx_306;
		word32 edx_307;
		byte CZ_308;
		globals->ptr87D5588();
		word32 esp_321;
		word32 ebp_322;
		word32 edi_323;
		word32 esi_324;
		word32 ebx_325;
		byte SCZO_326;
		word16 ax_327;
		byte ah_328;
		byte SZO_329;
		word32 eax_330;
		byte Z_331;
		byte C_332;
		byte SO_333;
		word32 ecx_334;
		word32 edx_335;
		byte CZ_336;
		globals->ptr87D5584();
		globals->t87D5560 = (real32) ((real64) globals->r804A930 * globals->t87D485C + globals->t87D5560);
		word32 esp_351;
		word32 ebp_352;
		word32 edi_353;
		word32 esi_354;
		word32 ebx_355;
		byte SCZO_356;
		word16 ax_357;
		byte ah_358;
		byte SZO_359;
		word32 eax_360;
		byte Z_361;
		byte C_362;
		byte SO_363;
		word32 ecx_364;
		word32 edx_365;
		byte CZ_366;
		globals->ptr87D5584();
		if (globals->dw87D55C4 <= 0x2F)
		{
			word32 esp_499;
			word32 ebp_500;
			word32 edi_501;
			word32 esi_502;
			word32 ebx_503;
			byte SCZO_504;
			word16 ax_505;
			byte ah_506;
			byte SZO_507;
			word32 eax_508;
			byte Z_509;
			byte C_510;
			byte SO_511;
			word32 ecx_512;
			word32 edx_513;
			byte CZ_514;
			globals->ptr87D5590();
			word32 esp_516;
			word32 ebp_517;
			word32 edi_518;
			word32 esi_519;
			word32 ebx_520;
			byte SCZO_521;
			word16 ax_522;
			byte ah_523;
			byte SZO_524;
			word32 eax_525;
			byte Z_526;
			byte C_527;
			byte SO_528;
			word32 ecx_529;
			word32 edx_530;
			byte CZ_531;
			globals->ptr87D559C();
			do
			{
				word32 esp_544;
				word32 ebp_545;
				word32 edi_546;
				word32 esi_547;
				word32 ebx_548;
				byte SCZO_549;
				word16 ax_550;
				byte ah_551;
				byte SZO_552;
				word32 eax_553;
				byte Z_554;
				byte C_555;
				byte SO_556;
				word32 ecx_557;
				word32 edx_558;
				byte CZ_559;
				globals->ptr87D5564();
				word32 ebx_560 = 0x00;
				do
				{
					sin((real64) ebx_560 * globals->t804A934);
					word32 esp_576;
					word32 ebp_577;
					word32 edi_578;
					word32 esi_579;
					word32 ebx_580;
					byte SCZO_581;
					word16 ax_582;
					byte ah_583;
					byte SZO_584;
					word32 eax_585;
					byte Z_586;
					byte C_587;
					byte SO_588;
					word32 ecx_589;
					word32 edx_590;
					byte CZ_591;
					globals->ptr87D5580();
					word32 esp_605;
					word32 ebp_606;
					word32 edi_607;
					word32 esi_608;
					int32 ebx_609;
					byte SCZO_610;
					word16 ax_611;
					byte ah_612;
					byte SZO_613;
					word32 eax_614;
					byte Z_615;
					byte C_616;
					byte SO_617;
					word32 ecx_618;
					word32 edx_619;
					byte CZ_620;
					globals->ptr87D556C();
					ebx_560 = ebx_609 + 0x01;
				} while (ebx_609 <= ~0x03FD);
				word32 esp_625;
				word32 ebp_626;
				word32 edi_627;
				word32 esi_628;
				word32 ebx_629;
				byte SCZO_630;
				word16 ax_631;
				byte ah_632;
				byte SZO_633;
				word32 eax_634;
				byte Z_635;
				byte C_636;
				byte SO_637;
				word32 ecx_638;
				word32 edx_639;
				byte CZ_640;
				globals->ptr87D5568();
				word32 esp_650;
				word32 ebp_651;
				word32 edi_652;
				int32 esi_653;
				word32 ebx_654;
				byte SCZO_655;
				word16 ax_656;
				byte ah_657;
				byte SZO_658;
				word32 eax_659;
				byte Z_660;
				byte C_661;
				byte SO_662;
				word32 ecx_663;
				word32 edx_664;
				byte CZ_665;
				globals->ptr87D5584();
			} while (esi_653 <= 0x00);
		}
		word32 esp_381;
		word32 ebp_382;
		word32 edi_383;
		word32 esi_384;
		word32 ebx_385;
		byte SCZO_386;
		word16 ax_387;
		byte ah_388;
		byte SZO_389;
		word32 eax_390;
		byte Z_391;
		byte C_392;
		byte SO_393;
		word32 ecx_394;
		word32 edx_395;
		byte CZ_396;
		globals->ptr87D5594();
		word32 esp_398;
		word32 ebp_399;
		word32 edi_400;
		word32 esi_401;
		word32 ebx_402;
		byte SCZO_403;
		word16 ax_404;
		byte ah_405;
		byte SZO_406;
		word32 eax_407;
		byte Z_408;
		byte C_409;
		byte SO_410;
		word32 ecx_411;
		word32 edx_412;
		byte CZ_413;
		globals->ptr87D558C();
		word32 esp_415;
		word32 ebp_416;
		word32 edi_417;
		word32 esi_418;
		word32 ebx_419;
		byte SCZO_420;
		word16 ax_421;
		byte ah_422;
		byte SZO_423;
		word32 eax_424;
		byte Z_425;
		byte C_426;
		byte SO_427;
		word32 ecx_428;
		word32 edx_429;
		byte CZ_430;
		globals->ptr87D558C();
		word32 esp_440;
		word32 ebp_441;
		word32 edi_442;
		word32 esi_443;
		word32 ebx_444;
		byte SCZO_445;
		word16 ax_446;
		byte ah_447;
		byte SZO_448;
		word32 eax_449;
		byte Z_450;
		byte C_451;
		byte SO_452;
		word32 ecx_453;
		word32 edx_454;
		byte CZ_455;
		globals->ptr87D5584();
		do
		{
			word32 esp_468;
			word32 ebp_469;
			word32 edi_470;
			word32 esi_471;
			int32 ebx_472;
			byte SCZO_473;
			word16 ax_474;
			byte ah_475;
			byte SZO_476;
			word32 eax_477;
			byte Z_478;
			byte C_479;
			byte SO_480;
			word32 ecx_481;
			word32 edx_482;
			byte CZ_483;
			globals->ptr87D5584();
			fn08048B1E((real32) (sin((real64) globals->t804A900 * (real64) edi_470) * globals->t804A8DC + globals->t804A8DC));
		} while (ebx_472 <= ~0x09);
	}
	return fp - 0x04;
	word32 edi_113;
	*ediOut = *(ebp - 0x04);
	word32 ebp_115;
	*ebpOut = *ebp;
	return ebp + 0x01;
}

// 080491C0: void fn080491C0()
void fn080491C0()
{
	dlopen();
	word32 * esi_40 = &globals->dw804A945;
	while (true)
	{
		word32 eax_53 = *esi_40;
		if (eax_53 == 0x00)
			break;
		word32 esp_61;
		word32 eax_62;
		word32 ecx_63;
		word32 edx_64;
		word32 ebx_65;
		word32 ebp_66;
		word32 * edi_68;
		byte SZO_69;
		byte C_70;
		byte SCZO_71;
		byte Z_72;
		SDL_PollEvent();
		*edi_68 = eax_62;
	}
	return;
}

