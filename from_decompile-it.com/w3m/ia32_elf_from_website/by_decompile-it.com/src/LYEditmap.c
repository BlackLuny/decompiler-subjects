#include "LYEditmap.c.h"
int current_lineedit;
int escape_bound;
static LYEditCode DefaultEditBinding[660] = { 0, 13, 11, 5, 7, 14, 10, 5, 9, 3, 2, 21, 0, 2, 19, 5, 20, 0, 7, 0, 22, 12, 23, '%', 29, 0, 0, 0, 0, 0, 27, 26, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 6, 15, 17, 6, 6, 13, 14, 6, 3, 13, 14, 0, 9, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  };
static LYEditCode BetterEditBinding[660] = { 0, 13, 17, 5, 7, 14, 15, 5, 9, 2, 2, 26, 0, 2, 19, 5, 20, 0, 11, 0, 10, 12, 23, '%', 29, 0, 0, 0, 0, 0, 22, 21, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 6, 15, 17, 6, 6, 13, 14, 6, 3, 13, 14, 0, 9, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  };
static LYEditCode BashlikeEditBinding[660] = { '!', 13, 17, 5, 7, 142, 15, 5, 9, 3, 2, 154, 6, 2, 6, 6, 6, 0, 20, 19, 28, 25, 23, 11, 29, '$', 6, 30, 6, 6, 27, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 24, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 6, 15, 17, 6, 6, 13, 14, 6, 3, 13, 14, 0, 7, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  };
static short Mod1Binding[274] = { 0, 13, 20, 31, 4123, 4182, 19, 5, 11, 31, 2, 4125, 6, 2, 19, 31, 20, 0, 20, 0, 0, 6, 0, 35, 34, 31, 6, 0, 6, 6, 31, 0, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 6, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 4118, 31, 4119, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 13, 20, 31, 10, 4182, 19, 4183, 1, 4184, 1, 12, 21, 1, 6, 31, 1, 0, 0, 0, 0, 22, 0, 0, 0, 0, 31, 31, 31, 31, 31, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 6, 6, 4140, 31, 4147, 4149, 31, 0, 31, 31, 31, 31,  };
static short *Mod2Binding = Mod1Binding;
static short *Mod3Binding = Mod1Binding;
LYEditCode *LYLineEditors[3] = { DefaultEditBinding, BetterEditBinding, BashlikeEditBinding,  };
char *LYLineeditNames[4] = { "Default Binding", "Alternate Bindings", "Bash-like Bindings", 0,  };
char *LYLineeditHelpURLs[4] = { "keystrokes/edit_help.html.gz", "keystrokes/alt_edit_help.html.gz.gz", "keystrokes/bashlike_edit_help.html.gz.gz", 0,  };
int EditBinding( int xlkc )
{
  int ah;
  int editaction, xleac = 31;
  int c = xlkc & 2047;
  if ( xlkc == -1 )
  {
    return 0;
  }
  if ( ( xlkc & 32768 ) != 0 )
  {
    return xlkc == -1 || ( xlkc & 32768 ) == 0 ? xlkc : ( xlkc >> 8 ) & 255;
  }
  else
  {
    if ( ( xlkc & 16384 ) != 0 )
    {
      xleac = c <= 273 ? Mod1Binding[ c ] : 31;
    }
    else
    if ( ( xlkc & 8192 ) != 0 )
    {
      xleac = c <= 273 ? Mod2Binding[ c ] : 31;
    }
    else
    if ( ( xlkc & 4096 ) != 0 )
    {
      xleac = c <= 273 ? Mod3Binding[ c ] : 31;
    }
    else
      xleac = LYLineEditors[ current_lineedit ][ c ];
    if ( xleac == 31 )
      editaction = LYLineEditors[ current_lineedit ][ c ];
    else
      editaction = xleac;
    return editaction;
  }
}
BOOLEAN LYRemapEditBinding( int xlkc, int lec, int select_edi )
{
  int j;
  int c = xlkc & 2047;
  BOOLEAN success = 0;
  if ( xlkc < 0 || ( xlkc & 2048 ) != 0 || c > 661 )
  {
  }
  else
  if ( ( xlkc & 16384 ) != 0 )
  {
    if ( c > 273 )
    {
    }
    else
    {
      Mod1Binding[ c ] = lec;
    }
  }
  else
  if ( ( xlkc & 8192 ) != 0 )
  {
    if ( c > 273 )
    {
    }
    else
    {
      Mod2Binding[ c ] = lec;
    }
  }
  else
  if ( ( xlkc & 4096 ) != 0 )
  {
    if ( c > 273 )
    {
    }
    else
    {
      Mod3Binding[ c ] = lec;
    }
  }
  else
  if ( lec > 255 )
  {
  }
  else
  {
    if ( select_edi >= 1 )
    {
      if ( select_edi <= 2 )
      {
        LYLineEditors[ select_edi - 1 ][ c ] = lec;
        success = 1;
      }
    }
    else
    {
      j = 0;
      for ( ; LYLineeditNames[ j ] != 0; j++ )
      {
        success = 1;
        if ( select_edi >= 0 || select_edi + j + 1 != 0 )
          LYLineEditors[ j ][ c ] = lec;
        //j++;
      }
    }
  }
  return 0;
}
int LYKeyForEditAction( int lec )
{
  int editaction, i = 97;
  for ( ; i >= 0; i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 659 ? 127 : i == 255 ? -1 : i + 1 )
  {
    editaction = LYLineEditors[ current_lineedit ][ i ];
    if ( lec != editaction )
    {
      //i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 659 ? 127 : i == 255 ? -1 : i + 1;
    }
    else
    {
      return i;
    }
  }
  return -1;
}
int LYEditKeyForAction( int lac, int *pmodkey )
{
  int ah;
  int dh;
  int editaction, i, c;
  int mod1found = -1, mod2found = -1, mod3found = -1;
  if ( pmodkey != 0 )
    pmodkey[0] = -1;
  i = 97;
  for ( ; i >= 0; i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 659 ? 127 : i == 255 ? -1 : i + 1 )
  {
    editaction = LYLineEditors[ current_lineedit ][ i ];
    c = i;
    if ( lac == editaction )
    {
      return c;
    }
    if ( editaction == 6 )
    {
      if ( ( lynx_edit_mode & 255 ) != 0 && ( no_dired_support & 255 ) == 0 && lac != 0 && ( c == -1 ? key_override[0] : ( c & 34816 ) == 0 ? key_override[ ( c & 2047 ) + 1 ] : c & 255 ) == lac )
      {
        return c;
      }
      if ( ( c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255 ) == lac )
      {
        return c;
      }
    }
    if ( editaction == 3 )
    {
      if ( ( lynx_edit_mode & 255 ) != 0 && ( no_dired_support & 255 ) == 0 && lac != 0 && lac == key_override[10] )
      {
        return c;
      }
      if ( lac == keymap[10] )
      {
        return c;
      }
    }
    if ( editaction == 29 && mod1found < 0 )
      mod1found = i;
    if ( editaction == 30 && mod2found < 0 )
      mod2found = i;
    if ( ( editaction & 128 ) != 0 && mod3found < 0 )
      mod3found = i;
    //i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 659 ? 127 : i == 255 ? -1 : i + 1;
  }
  if ( mod3found >= 0 )
  {
    i = mod3found;
    for ( ; i >= 0; i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 273 ? 127 : i == 255 ? -1 : i + 1 )
    {
      editaction = LYLineEditors[ current_lineedit ][ i ];
      if ( ( editaction & 128 ) != 0 )
      {
        editaction = Mod3Binding[ i ];
        c = i;
        if ( pmodkey != 0 )
          pmodkey[0] = c;
        if ( lac == editaction )
        {
          return pmodkey;
        }
        if ( editaction == 6 )
        {
          if ( ( lynx_edit_mode & 255 ) != 0 && ( no_dired_support & 255 ) == 0 && lac != 0 && ( c == -1 ? key_override[0] : ( c & 34816 ) == 0 ? key_override[ ( c & 2047 ) + 1 ] : c & 255 ) == lac )
          {
            return c == -1 ? key_override[0] : ( c & 34816 ) == 0 ? key_override[ ( c & 2047 ) + 1 ] : c & 255;
          }
          if ( ( c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255 ) == lac )
          {
            return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
          }
        }
        if ( editaction == 3 )
        {
          if ( ( lynx_edit_mode & 255 ) != 0 && ( no_dired_support & 255 ) == 0 && lac != 0 && lac == key_override[10] )
          {
            return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
          }
          if ( lac == keymap[10] )
          {
            return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
          }
        }
      }
      //i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 273 ? 127 : i == 255 ? -1 : i + 1;
    }
  }
  if ( mod1found >= 0 )
  {
    if ( pmodkey != 0 )
      pmodkey[0] = mod1found;
    i = 97;
    for ( ; i >= 0; i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 273 ? 127 : i == 255 ? -1 : i + 1 )
    {
      editaction = Mod1Binding[ i ];
      c = i;
      if ( lac == editaction )
      {
        return pmodkey;
      }
      if ( editaction == 6 )
      {
        if ( ( lynx_edit_mode & 255 ) != 0 && ( no_dired_support & 255 ) == 0 && lac != 0 && ( c == -1 ? key_override[0] : ( c & 34816 ) == 0 ? key_override[ ( c & 2047 ) + 1 ] : c & 255 ) == lac )
        {
          return c == -1 ? key_override[0] : ( c & 34816 ) == 0 ? key_override[ ( c & 2047 ) + 1 ] : c & 255;
        }
        if ( ( c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255 ) == lac )
        {
          return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
        }
      }
      if ( editaction == 3 )
      {
        if ( ( lynx_edit_mode & 255 ) != 0 && ( no_dired_support & 255 ) == 0 && lac != 0 && lac == key_override[10] )
        {
          return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
        }
        if ( lac == keymap[10] )
        {
          return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
        }
      }
      //i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 273 ? 127 : i == 255 ? -1 : i + 1;
    }
  }
  if ( mod2found >= 0 )
  {
    if ( pmodkey != 0 )
      pmodkey[0] = mod1found;
    i = 97;
    for ( ; i >= 0; i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 273 ? 127 : i == 255 ? -1 : i + 1 )
    {
      editaction = Mod2Binding[ i ];
      c = i;
      if ( lac == editaction )
      {
        return Mod2Binding;
      }
      if ( editaction == 6 )
      {
        if ( ( lynx_edit_mode & 255 ) != 0 && ( no_dired_support & 255 ) == 0 && lac != 0 && ( c == -1 ? key_override[0] : ( c & 34816 ) == 0 ? key_override[ ( c & 2047 ) + 1 ] : c & 255 ) == lac )
        {
          return c == -1 ? key_override[0] : ( c & 34816 ) == 0 ? key_override[ ( c & 2047 ) + 1 ] : c & 255;
        }
        if ( ( c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255 ) == lac )
        {
          return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
        }
      }
      if ( editaction == 3 )
      {
        if ( ( lynx_edit_mode & 255 ) != 0 && ( no_dired_support & 255 ) == 0 && lac != 0 && lac == key_override[10] )
        {
          return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
        }
        if ( lac == keymap[10] )
        {
          return c == -1 ? keymap[0] : ( c & 34816 ) == 0 ? keymap[ ( c & 2047 ) + 1 ] : c & 255;
        }
      }
      //i = i == 122 ? 32 : i == 96 ? 123 : i == 126 ? 0 : i == 31 ? 256 : i == 273 ? 127 : i == 255 ? -1 : i + 1;
    }
  }
  if ( pmodkey != 0 )
    pmodkey[0] = -1;
  return -1;
}
int LYEditmapDeclared( void )
{
  int status = 1;
  return status;
}
